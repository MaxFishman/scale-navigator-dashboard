{"version":3,"sources":["../../../src/web.ts"],"names":["KeepAwakeWeb","wakeLock","_isSupported","navigator","this","throwUnsupportedError","allowSleep","request","release","result","isSupported","unavailable"],"mappings":"kPAIaA,EAAb,iG,2BACUC,SAAoC,KAC3B,EAAAC,aAAe,aAAcC,UAFhD,CAkCC,CAlCD,8FAIS,2FACAC,KAAKF,cACRE,KAAKC,yBAEHD,KAAKH,SAJJ,gCAKGG,KAAKE,aALR,uBAOiBH,UAAUF,SAASM,QAAQ,UAP5C,OAOLH,KAAKH,SAPA,uDAJT,+HAcS,8FACAG,KAAKF,cACRE,KAAKC,wBAEM,QAAb,EAAAD,KAAKH,gBAAQ,SAAEO,UACfJ,KAAKH,SAAW,KALX,gDAdT,gIAsBS,qGACCQ,EAAS,CACbC,YAAaN,KAAKF,cAFf,kBAIEO,GAJF,gDAtBT,yFA6BU,WACN,MAAML,KAAKO,YACT,sDAEH,KAjCH,G,MAAkC,E","file":"static/js/3.15aaecf9.chunk.js","sourcesContent":["import { WebPlugin } from '@capacitor/core';\r\n\r\nimport type { IsSupportedResult, KeepAwakePlugin } from './definitions';\r\n\r\nexport class KeepAwakeWeb extends WebPlugin implements KeepAwakePlugin {\r\n  private wakeLock: WakeLockSentinel | null = null;\r\n  private readonly _isSupported = 'wakeLock' in navigator;\r\n\r\n  public async keepAwake(): Promise<void> {\r\n    if (!this._isSupported) {\r\n      this.throwUnsupportedError();\r\n    }\r\n    if (this.wakeLock) {\r\n      await this.allowSleep();\r\n    }\r\n    this.wakeLock = await navigator.wakeLock.request('screen');\r\n  }\r\n\r\n  public async allowSleep(): Promise<void> {\r\n    if (!this._isSupported) {\r\n      this.throwUnsupportedError();\r\n    }\r\n    this.wakeLock?.release();\r\n    this.wakeLock = null;\r\n  }\r\n\r\n  public async isSupported(): Promise<IsSupportedResult> {\r\n    const result = {\r\n      isSupported: this._isSupported,\r\n    };\r\n    return result;\r\n  }\r\n\r\n  private throwUnsupportedError(): never {\r\n    throw this.unavailable(\r\n      'Screen Wake Lock API not available in this browser.',\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}