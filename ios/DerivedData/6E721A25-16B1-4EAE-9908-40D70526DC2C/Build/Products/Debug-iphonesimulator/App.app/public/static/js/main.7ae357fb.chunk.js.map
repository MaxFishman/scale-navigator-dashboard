{"version":3,"sources":["components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Session/context.js","components/Session/withAuthentication.js","common/Routes.js","components/Session/withAuthorization.js","common/ScaleData.js","common/PitchClassData.js","components/ToneJS/ChordChooser.js","resources/Mulish/Mulish-Regular.ttf","components/Navigation/Navigator/Pfivesketch.js","components/Navigation/Navigator/Helper.js","components/Navigation/Navigator/Polygon.js","components/Navigation/Navigator/Navigator.js","components/Tabs/index.js","components/ScaleNavigator/index.js","components/Workspace/About/shape_svgs/acoustic.svg","components/Workspace/About/shape_svgs/diatonic.svg","components/Workspace/About/shape_svgs/harmonic_major.svg","components/Workspace/About/shape_svgs/harmonic_minor.svg","components/Workspace/About/shape_svgs/hexatonic.svg","components/Workspace/About/shape_svgs/octatonic.svg","components/Workspace/About/shape_svgs/whole_tone.svg","components/Workspace/About/About.js","components/Workspace/SignOut/index.js","components/Workspace/Account/index.js","components/Workspace/Account/user.png","components/MobileMenu/index.js","hooks/device/index.js","assets/logo.svg","common/LayoutConfig.js","components/Navigation/Navigation.js","components/Workspace/Chords/OutputTypes.js","components/Workspace/Chords/MidiOutputSettings.js","components/Workspace/Chords/Midi.js","components/Workspace/Chords/Chords.js","components/Workspace/Rooms/RoomItem.js","components/Workspace/Rooms/RoomList.js","components/Workspace/Rooms/Rooms.js","components/Workspace/Rooms/index.js","components/Workspace/RoomLanding/index.js","components/Messages/SendMessage.js","components/Messages/index.js","components/Workspace/RoomView/index.js","components/Workspace/RoomViewLanding/index.js","components/Workspace/Room/index.js","components/Workspace/Ensemble/Ensemble.js","components/Workspace/Tablature/instruments/strings/BoardData.js","components/Workspace/Tablature/instruments/strings/Notes.js","components/Workspace/Tablature/instruments/strings/Mandolin.js","components/Workspace/Tablature/instruments/strings/Guitar.js","components/Workspace/Tablature/instruments/strings/Banjo.js","components/Workspace/Tablature/instruments/strings/Ukulele.js","components/Workspace/Tablature/instruments/flute/Flute.js","common/ChordData.js","components/Workspace/Tablature/instruments/chords/TriadCircle.js","components/Workspace/Tablature/TabContainer.js","components/Workspace/Tablature/Tablature.js","components/Workspace/Tablature/instruments/keyboard/Piano.js","components/Workspace/Tablature/instruments/notation/TrebleStaff.js","components/Workspace/Tablature/instruments/notation/BassStaff.js","components/Workspace/Tablature/instruments/notation/AltoStaff.js","components/Workspace/Tablature/instruments/notation/SaxStaff.js","components/Workspace/Tablature/instruments/chords/Triads.js","components/Workspace/Tablature/instruments/autoharp/Autoharp.js","components/Workspace/Visualization/Visualization.js","components/Workspace/AccountLanding/index.js","components/LoginModal/index.js","components/SignUpModal/index.js","components/Workspace/Workspace.js","components/ToneJS/Chord.js","components/Workspace/Chords/MidiPersist.js","App.js","store/reducers/main.js","store/index.js","index.js"],"names":["FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doSendEmailVerification","currentUser","sendEmailVerification","url","process","REACT_APP_CONFIRMATION_EMAIL_REDIRECT","doPasswordUpdate","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","user","uid","onSnapshot","doc","dbUser","data","emailVerified","providerData","db","users","collection","room","rooms","app","initializeApp","this","fieldValue","firestore","FieldValue","emailAuthProvider","EmailAuthProvider","AuthUserContext","withAuthentication","WithAuthentication","state","JSON","parse","localStorage","getItem","listener","setItem","stringify","setState","removeItem","Provider","value","ROUTES","ABOUT","ENSEMBLE","ENSEMBLE_DETAILS","TABLATURE","NAVIGATOR","CHORDS","SCALENET","ACCOUNT","SIGN_UP","SIGN_IN","RESET_PWD","CHECKOUT","withAuthorization","condition","WithAuthorization","history","push","compose","withRouter","ScaleData","a_acoustic","root","video_index","adjacent_scales","pitch_classes","chords","scale_class","spelling","a_diatonic","a_harmonic_major","a_harmonic_minor","as_acoustic","as_diatonic","as_harmonic_major","as_harmonic_minor","b_acoustic","b_diatonic","b_harmonic_major","b_harmonic_minor","c_acoustic","c_diatonic","c_harmonic_major","c_harmonic_minor","cs_acoustic","cs_diatonic","cs_harmonic_major","cs_harmonic_minor","d_acoustic","d_diatonic","d_harmonic_major","d_harmonic_minor","ds_acoustic","ds_diatonic","ds_harmonic_major","ds_harmonic_minor","e_acoustic","e_diatonic","e_harmonic_major","e_harmonic_minor","f_acoustic","f_diatonic","f_harmonic_major","f_harmonic_minor","fs_acoustic","fs_diatonic","fs_harmonic_major","fs_harmonic_minor","g_acoustic","g_diatonic","g_harmonic_major","g_harmonic_minor","gs_acoustic","gs_diatonic","gs_harmonic_major","gs_harmonic_minor","octatonic_1","octatonic_2","octatonic_3","hexatonic_1","hexatonic_2","hexatonic_3","hexatonic_4","whole_tone_1","whole_tone_2","PitchClassData","note","vexflow","slug","sharp","flat","SCALES","scalesJson","chordsJson","CHORD_TYPES","chordTypesJson","isSubset","array1","array2","x","indexOf","ChordChooser","chordData","setChordData","scale","jazz_filtering_enabled","slice_size","last_chord_name","current_chord_name","current_chord","voice_leading_threshold","next_chord","b","root_interval","Math","abs","allowedRootIntervals","current_position","chord_type","position","next_position","current_pitches","root_transposed_to_zero","next_pitches","fitness_score","forEach","pitch","index","interval","max","apply","scaleName","array","chord_candidates","result","pitchClasses","Object","keys","chordName","chordPitchClasses","prime_form_kinda","getChordsInScale","filter","candidate","is_valid_jazz_chord_progression","sort","a","score_a","score_smooth_voice_leading","score_b","length","floor","voiceLeadingSmoothness","slice","random","chord","Pfivesketch","navRef","canvasWrapperRef","isMember","location","useLocation","useLayoutEffect","p","wrapperElm","getBoundingClientRect","window","scaleP5","resizeCanvas","width","height","pathname","current","windowResized","p5","updateSizes","preload","setup","canvasParentRef","createCanvas","document","body","parent","frameRate","init","draw","clear","getElementById","checked","autopilot_data","active","toggle_autopilot","mousePressed","event","mouseReleased","navigator","note_names","fps","Helper","hsvToRgb","h","s","v","r","g","i","f","q","t","default_animation_duration","default_animation_curve","pow","Polygon","y","size","radius","points_count","animation","animation_curve","callback","callback_args","start_frame","end_frame","duration","target","start","progress","frameCount","opacity","name","replace","lastHover","drawText","isNeigh","neighOffset","scale_mult","animation_lerp","translate","fontcolor","angle","TWO_PI","strokeJoin","ROUND","strokeWeight","beginShape","Array","fill","map","stroke","textFont","sx","cos","sy","sin","vertex","endShape","CLOSE","noStroke","font_size_2","textSize","textAlign","CENTER","text","split","pop","getNeighbors","neighbor_size","offset_radius","start_angle","end_angle","total_neigh","neigh","positions","getNeighborPositions","n","undefined","isMatching","other","lerp","move","target_x","target_y","duration_seconds","target_size","target_opacity","click","x_in","mouseX","y_in","mouseY","verbose","end","dist","onStartHover","onEndHover","arguments","Navigator","setScaleData","main_polygon","neighbors","poly_size","preview_polygons_ready","default_period","period","chosen","intervalID","animate","max_visited","visited","chordClicks","init_autopilot","initPolygons","old_main_polygon","old_neighbors","last_clicked_polygon","actually_new_polygons","hover_polygons","hover_polygons_to_be_removed","preview_polygons","k","setInterval","concat","passes","includes","unshift","sqrt","changeMainScale","set_autopilot_period","forced_value","reset_autopilot","new_period","clearInterval","toggle_autopilot_animation","type","updateScaleState","prepareChangeMainScale","err","console","error","finishChangeMainScale","third_gen_hover","splice","clickData","add","get_new_neighbors","new","total_poly","ind","findIndex","pos","PI","set","generated_from","_h","id","pl","preview","log","a_n","pol","find","prev","oldx","oldy","oldps","allPolygons","prev_poly","all_current","acc_new_poly","Set","pre","from","new_main","all_duration","old","newScale","setFirebaseScaleData","jumpToScale","ellipseMode","RADIUS","Tabs","className","routes","Ensemble","Tablature","Chords","Visualization","About","Account","entries","nameroute","key","classNames","to","sketchWrapperStyle","marginTop","Wrapper","styled","div","ScaleNavigator","hasActiveRoute","isEnsembleMember","useSelector","ref","style","Figure","class","Image","alt","src","diatonic","Caption","href","acoustic","harmonic_major","harmonic_minor","whole_tone","octatonic","hexatonic","Button","button","onClick","css","UserName","EmailVerify","UserDetailsWrapper","UserDetails","userName","accountType","EmailVerifiedText","color","SignOut","dispatch","useDispatch","toggleMenu","payload","Content","MobileMenu","isMobileMenuVisible","useState","activePage","setPage","placement","open","useWindowSize","_path","_path2","_path3","_path4","_path5","_path6","_path7","_path8","_path9","_path10","_path11","_path12","_path13","_path14","_path15","_path16","_path17","_path18","_path19","_path20","_path21","windowSize","setWindowSize","useEffect","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","_excluded","_extends","assign","bind","source","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","xmlns","viewBox","d","ForwardRef","logoStyle","top","left","background","padding","MainWrapper","HostBanner","scaleData","currentRoomId","isMobile","useRef","getFirebaseScaleData","roomId","update","exists","wrapperStyle","overflow","navInfoStyle","display","isHost","currentEnsemble","word","charAt","join","autoComplete","htmlFor","direction","min","step","OutputTypes","current_scale_pitch_class","scaleKey","current_scale_root","current_chord_root","current_chord_original_voicing","chord_prime_form","MidiOutputSettings","octave","outputPortId","channel","midiOutputMap","_modifyMidiData","useCallback","_removeMidiOutput","onChange","e","values","port","Midi","midiData","midiOutputs","_addMidiOutput","_setMidiData","isChrome","chrome","webstore","runtime","test","userAgent","featureEnabled","onMidiConnectSuccess","midiInfo","outputMap","outputs","output","onstatechange","newMap","midiEnabled","midiError","requestMIDIAccess","then","errorCode","RootsList","ul","DEFAULT_SPELLINGS","mod","lilypondToVexflow","NOTE_NAME_TO_PITCH_CLASS","c","lilypondToPitchClass","baseNoteName","lilypondToInflection","togglePlaying","handleVoiceLeadingSmoothnessChange","updatedAllowedIntervals","playing","updateNotation","prevProps","prevState","container","hasChildNodes","removeChild","lastChild","chordObject","original_voicing","VF","Vex","Flow","renderer","Renderer","Backends","SVG","resize","context","getContext","clefs","right","bass","staveOptions","fill_style","rightStave","Stave","addClef","setContext","leftStave","bassStave","staves","brace","StaveConnector","setType","pitchClassToNoteName","pitchClassToInflection","pitchClass","accidentals","midiNote","noteName","baseMidiNote","hand","vexflowString","rootNoteName","voice","Voice","num_beats","beat_value","StaveNote","clef","accidentalString","addAccidental","Accidental","addTickables","Formatter","joinVoices","format","scales","scalePitchClasses","elements","handleRootMovementChange","modulate","pivotModulationButtons","getPivotModulations","lastIndexOf","RoomImage","Title","roomRoute","roomName","hostName","RoomsContainer","MainTitle","RoomList","onRemoveRoom","input","CreateEnsamble","Rooms","setRoomName","setRooms","listMode","handleNewRoom","get","ensembleCount","addNewRoom","createdAt","Date","getTime","hostId","docRef","ensembleHostRoomId","merge","unsubscribe","orderBy","snapshot","reverse","handleNotAuth","Room","delete","placeholder","RoomLanding","Input","SendMessage","handleText","createMessage","MsgHeader","MessageBubble","Messages","timestamp","userId","message","toTimeString","Header","RoomName","HostName","MembersInRoom","ContentWrapper","userData","setHostName","activeUsers","setActiveUsers","setText","messages","setMessages","match","params","handleLeaveRoom","RoomViewLanding","exact","path","component","STRING_POS","FRET_POS","STRINGS","FRETS","endString","Note","children","cx","cy","dy","Notes","markers","noteMappings","keyData","isOpen","openFn","marker","fret","pc","pitchClassData","locations","l","pitchClassMapping","Main","version","baseProfile","x1","y1","x2","y2","string","extraNut","extraString","trills","fingers","BlankTrill","Trill","trill","triad_spelling","TabContainer","onClose","instrumentName","INST","GUITAR","Fn","BANJO","Banjo","MANDOLIN","Mandolin","UKULELE","Ukulele","FLUTE","superSet","every","PIANO","TREBLESTAFF","stave_width","setFont","stave","notes","convert_inflection","convert_octavation","element","match_obj","base_note_name","inflection","octavation","staff","BASSSTAFF","stem_direction","STEM_DOWN","ALTOSTAFF","SAXSTAFF","object","transposition","old_scale","modulus","transposeScale","STEM_UP","TRIADS","TRIADCIRCLE","ChordData","deg","radians","polarToCart","AUTOHARP","tabData","setTablatureInstruments","options","label","newSelected","SortableTabsList","SortableContainer","curSelected","selection","Inst","SortableTab","SortableElement","isMulti","classNamePrefix","onSortEnd","oldIndex","newIndex","arrayMoveImmutable","cnv","clickInNextFrame","ran_setup","last_mp","breadcrumbs","layers","defineProperty","j","arr","layer_id","addBreadcrumb","p1","p2","st","po","getScaleObjectByName","getCheckboxIDByScale","old_m_p","mp","lay_ellipse_w_r","lay_ellipse_h_r","_p","ellipse","sw","layerAllowed","alph","cols_same","cols_dif","ang","atan2","adj","line","cli","align","customStyles","content","bottom","maxWidth","marginRight","transform","border","zIndex","Label","Submit","SignUpContent","Forgot","span","setEmail","passwordOne","setPasswordOne","onRequestClose","autocomplete","onSubmit","evt","preventDefault","required","autoFocus","setUserName","catch","code","Workspace","classnames","Col","xs","md","KeepAlive","midiToHz","scaleIndex","_setChordData","chordChooserRef","synthRef","Tone","volume","toDestination","setChordDataContext","tick","previousChord","isNewChord","triggerAttack","triggerRelease","scaleclass_enum","MidiPersist","midiOutputPort","send","Modal","setAppElement","defaultStyles","overlay","backgroundColor","startScreenKeepAwake","KeepAwake","isSupported","keepAwake","Container","fluid","Row","Chord","initialState","prevoiusChord","reducers","combineReducers","action","newChordData","previousProps","newScaleData","store","createStore","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7ae357fb.chunk.js","sourcesContent":["import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default FirebaseContext;\n","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nconst config = {\n  apiKey: \"AIzaSyBiTTX24mBjypGdel2ARBx0UUvFQEaRDf4\",\n  authDomain: \"scale-navigator-ensemble.firebaseapp.com\",\n  databaseURL: \"https://scale-navigator-ensemble-default-rtdb.firebaseio.com\",\n  projectId: \"scale-navigator-ensemble\",\n  storageBucket: \"scale-navigator-ensemble.appspot.com\",\n  messagingSenderId: \"156837833740\",\n  appId: \"1:156837833740:web:ce00fcf2297f899f8b9229\",\n  measurementId: \"G-5G2C3541ZY\"\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(config);\n\n    /* Helper */\n\n    this.fieldValue = app.firestore.FieldValue;\n    this.emailAuthProvider = app.auth.EmailAuthProvider;\n\n    /* Firebase APIs */\n\n    this.auth = app.auth();\n    this.db = app.firestore();\n\n  }\n\n  // *** Auth API ***\n\n  doCreateUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n\n  doSignOut = () => this.auth.signOut();\n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doSendEmailVerification = () =>\n    this.auth.currentUser.sendEmailVerification({\n      url: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT,\n    });\n\n  doPasswordUpdate = password =>\n    this.auth.currentUser.updatePassword(password);\n\n  // *** Merge Auth and DB User API *** //\n\n  onAuthUserListener = (next, fallback) =>\n    this.auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        this.user(authUser.uid)\n         .onSnapshot((doc) => {\n            const dbUser = doc.data();\n\n            // default empty roles\n           // if (!dbUser.roles) {\n             // dbUser.roles = {};\n            //}\n\n            // merge auth and db user\n            authUser = {\n              uid: authUser.uid ,\n              email: authUser.email,\n              emailVerified: authUser.emailVerified,\n              providerData: authUser.providerData,\n              ...dbUser,\n            };\n\n            next(authUser);\n          });\n      } else {\n        fallback();\n      }\n    });\n\n    // *** User API ***\n\n    user = uid => this.db.doc(`users/${uid}`);\n\n    users = () => this.db.collection('users');\n\n\n    // *** Rooms API ***\n\n    room = uid => this.db.doc(`rooms/${uid}`);\n\n    rooms = () => this.db.collection('rooms');\n}\n\nexport default Firebase;\n","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\n\nexport default Firebase;\n\nexport { FirebaseContext, withFirebase };\n","import React from 'react';\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","import React from 'react';\n\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        authUser: JSON.parse(localStorage.getItem('authUser')),\n      };\n    }\n\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          localStorage.setItem('authUser', JSON.stringify(authUser));\n          this.setState({ authUser });\n        },\n        () => {\n          localStorage.removeItem('authUser');\n          this.setState({ authUser: null });\n        },\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Provider value={this.state.authUser}>\n          <Component {...this.props} />\n        </AuthUserContext.Provider>\n      );\n    }\n  }\n\n  return withFirebase(WithAuthentication);\n};\n\nexport default withAuthentication;","const ROUTES = {\n  ABOUT: \"/about\",\n  ENSEMBLE: \"/ensemble\",\n  ENSEMBLE_DETAILS: \"/ensemble/:id\",\n  TABLATURE: \"/tablature\",\n  NAVIGATOR: \"/\",\n  CHORDS: \"/chords\",\n  SCALENET: \"/scale-network\",\n  ACCOUNT: \"/account\",\n  SIGN_UP: \"/sign-up\",\n  SIGN_IN: \"/sign-in\",\n  RESET_PWD: \"/reset-password\",\n  CHECKOUT: \"/upgrade\",\n}\n\nexport default ROUTES;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\nimport ROUTES from '../../common/Routes';\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          if (!condition(authUser)) {\n            this.props.history.push(ROUTES.SIGN_UP);\n          }\n        },\n        () => this.props.history.push(ROUTES.SIGN_UP),\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser =>\n            condition(authUser) ? <Component {...this.props} /> : null\n          }\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return compose(\n    withRouter,\n    withFirebase,\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;\n","const ScaleData = {\n  a_acoustic: {\n    root: 9,\n    video_index: 1,\n    adjacent_scales: [\n      \"e_diatonic\",\n      \"e_harmonic_minor\",\n      \"octatonic_1\",\n      \"d_diatonic\",\n      \"b_harmonic_major\",\n      \"whole_tone_2\",\n    ],\n    pitch_classes: [1, 3, 4, 6, 7, 9, 11],\n    chords: [\"A\", \"B\", \"Em\", \"F#m\"],\n    scale_class: \"acoustic\",\n    spelling: [\"cs\", \"ds\", \"e\", \"fs\", \"g\", \"a\", \"b\"],\n  },\n  a_diatonic: {\n    root: 9,\n    video_index: 2,\n    adjacent_scales: [\n      \"e_diatonic\",\n      \"fs_harmonic_minor\",\n      \"d_acoustic\",\n      \"d_diatonic\",\n      \"a_harmonic_major\",\n      \"e_acoustic\",\n    ],\n    pitch_classes: [1, 2, 4, 6, 8, 9, 11],\n    chords: [\"A\", \"Bm\", \"C#m\", \"D\", \"E\", \"F#m\"],\n    scale_class: \"diatonic\",\n    spelling: [\"cs\", \"d\", \"e\", \"fs\", \"gs\", \"a\", \"b\"],\n  },\n  a_harmonic_major: {\n    root: 9,\n    video_index: 3,\n    adjacent_scales: [\n      \"a_diatonic\",\n      \"fs_harmonic_minor\",\n      \"g_acoustic\",\n      \"octatonic_2\",\n      \"a_harmonic_minor\",\n      \"hexatonic_1\",\n    ],\n    pitch_classes: [1, 2, 4, 5, 8, 9, 11],\n    chords: [\"A\", \"C#m\", \"C#\", \"Dm\", \"E\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"cs\", \"d\", \"e\", \"f\", \"gs\", \"a\", \"b\"],\n  },\n  a_harmonic_minor: {\n    root: 9,\n    video_index: 4,\n    adjacent_scales: [\n      \"c_diatonic\",\n      \"a_harmonic_major\",\n      \"d_acoustic\",\n      \"octatonic_3\",\n      \"c_harmonic_major\",\n      \"hexatonic_1\",\n    ],\n    pitch_classes: [0, 2, 4, 5, 8, 9, 11],\n    chords: [\"Am\", \"Dm\", \"E\", \"Fm\", \"F\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"c\", \"d\", \"e\", \"f\", \"gs\", \"a\", \"b\"],\n  },\n  as_acoustic: {\n    root: 10,\n    video_index: 5,\n    adjacent_scales: [\n      \"f_diatonic\",\n      \"f_harmonic_minor\",\n      \"octatonic_2\",\n      \"ds_diatonic\",\n      \"c_harmonic_major\",\n      \"whole_tone_1\",\n    ],\n    pitch_classes: [0, 2, 4, 5, 7, 8, 10],\n    chords: [\"B\", \"C\", \"Fm\", \"Gm\"],\n    scale_class: \"acoustic\",\n    spelling: [\"c\", \"d\", \"e\", \"f\", \"g\", \"af\", \"bf\"],\n  },\n  as_diatonic: {\n    root: 10,\n    video_index: 6,\n    adjacent_scales: [\n      \"f_diatonic\",\n      \"g_harmonic_minor\",\n      \"ds_acoustic\",\n      \"ds_diatonic\",\n      \"as_harmonic_major\",\n      \"f_acoustic\",\n    ],\n    pitch_classes: [0, 2, 3, 5, 7, 9, 10],\n    chords: [\"B\", \"Cm\", \"Dm\", \"E\", \"F\", \"Gm\"],\n    scale_class: \"diatonic\",\n    spelling: [\"c\", \"d\", \"ef\", \"f\", \"g\", \"a\", \"bf\"],\n  },\n  as_harmonic_major: {\n    root: 10,\n    video_index: 7,\n    adjacent_scales: [\n      \"as_diatonic\",\n      \"g_harmonic_minor\",\n      \"gs_acoustic\",\n      \"octatonic_3\",\n      \"as_harmonic_minor\",\n      \"hexatonic_2\",\n    ],\n    pitch_classes: [0, 2, 3, 5, 6, 9, 10],\n    chords: [\"B\", \"Dm\", \"D\", \"Em\", \"F\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"c\", \"d\", \"ef\", \"f\", \"gf\", \"a\", \"bf\"],\n  },\n  as_harmonic_minor: {\n    root: 10,\n    video_index: 8,\n    adjacent_scales: [\n      \"cs_diatonic\",\n      \"as_harmonic_major\",\n      \"ds_acoustic\",\n      \"octatonic_1\",\n      \"cs_harmonic_major\",\n      \"hexatonic_2\",\n    ],\n    pitch_classes: [0, 1, 3, 5, 6, 9, 10],\n    chords: [\"Bm\", \"Em\", \"F\", \"Gm\", \"G\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"c\", \"df\", \"ef\", \"f\", \"gf\", \"a\", \"bf\"],\n  },\n  b_acoustic: {\n    root: 11,\n    video_index: 9,\n    adjacent_scales: [\n      \"fs_diatonic\",\n      \"fs_harmonic_minor\",\n      \"octatonic_3\",\n      \"e_diatonic\",\n      \"cs_harmonic_major\",\n      \"whole_tone_2\",\n    ],\n    pitch_classes: [1, 3, 5, 6, 8, 9, 11],\n    chords: [\"B\", \"C#\", \"F#m\", \"G#m\"],\n    scale_class: \"acoustic\",\n    spelling: [\"cs\", \"ds\", \"es\", \"fs\", \"gs\", \"a\", \"b\"],\n  },\n  b_diatonic: {\n    root: 11,\n    video_index: 10,\n    adjacent_scales: [\n      \"fs_diatonic\",\n      \"gs_harmonic_minor\",\n      \"e_acoustic\",\n      \"e_diatonic\",\n      \"b_harmonic_major\",\n      \"fs_acoustic\",\n    ],\n    pitch_classes: [1, 3, 4, 6, 8, 10, 11],\n    chords: [\"B\", \"C#m\", \"D#m\", \"E\", \"F#\", \"G#m\"],\n    scale_class: \"diatonic\",\n    spelling: [\"cs\", \"ds\", \"e\", \"fs\", \"gs\", \"as\", \"b\"],\n  },\n  b_harmonic_major: {\n    root: 11,\n    video_index: 11,\n    adjacent_scales: [\n      \"b_diatonic\",\n      \"gs_harmonic_minor\",\n      \"a_acoustic\",\n      \"octatonic_1\",\n      \"b_harmonic_minor\",\n      \"hexatonic_3\",\n    ],\n    pitch_classes: [1, 3, 4, 6, 7, 10, 11],\n    chords: [\"B\", \"D#m\", \"D#\", \"Em\", \"F#\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"cs\", \"ds\", \"e\", \"fs\", \"g\", \"as\", \"b\"],\n  },\n  b_harmonic_minor: {\n    root: 11,\n    video_index: 12,\n    adjacent_scales: [\n      \"d_diatonic\",\n      \"b_harmonic_major\",\n      \"e_acoustic\",\n      \"octatonic_2\",\n      \"d_harmonic_major\",\n      \"hexatonic_3\",\n    ],\n    pitch_classes: [1, 2, 4, 6, 7, 10, 11],\n    chords: [\"Bm\", \"Em\", \"F#\", \"Gm\", \"G\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"cs\", \"d\", \"e\", \"fs\", \"g\", \"as\", \"b\"],\n  },\n  c_acoustic: {\n    root: 0,\n    video_index: 13,\n    adjacent_scales: [\n      \"g_diatonic\",\n      \"g_harmonic_minor\",\n      \"octatonic_1\",\n      \"f_diatonic\",\n      \"d_harmonic_major\",\n      \"whole_tone_1\",\n    ],\n    pitch_classes: [0, 2, 4, 6, 7, 9, 10],\n    chords: [\"C\", \"D\", \"Gm\", \"Am\"],\n    scale_class: \"acoustic\",\n    spelling: [\"c\", \"d\", \"e\", \"fs\", \"g\", \"a\", \"bf\"],\n  },\n  c_diatonic: {\n    root: 0,\n    video_index: 14,\n    adjacent_scales: [\n      \"g_diatonic\",\n      \"a_harmonic_minor\",\n      \"f_acoustic\",\n      \"f_diatonic\",\n      \"c_harmonic_major\",\n      \"g_acoustic\",\n    ],\n    pitch_classes: [0, 2, 4, 5, 7, 9, 11],\n    chords: [\"C\", \"Dm\", \"Em\", \"F\", \"G\", \"Am\"],\n    scale_class: \"diatonic\",\n    spelling: [\"c\", \"d\", \"e\", \"f\", \"g\", \"a\", \"b\"],\n  },\n  c_harmonic_major: {\n    root: 0,\n    video_index: 15,\n    adjacent_scales: [\n      \"c_diatonic\",\n      \"a_harmonic_minor\",\n      \"as_acoustic\",\n      \"octatonic_2\",\n      \"c_harmonic_minor\",\n      \"hexatonic_4\",\n    ],\n    pitch_classes: [0, 2, 4, 5, 7, 8, 11],\n    chords: [\"C\", \"Em\", \"E\", \"Fm\", \"G\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"c\", \"d\", \"e\", \"f\", \"g\", \"af\", \"b\"],\n  },\n  c_harmonic_minor: {\n    root: 0,\n    video_index: 16,\n    adjacent_scales: [\n      \"ds_diatonic\",\n      \"c_harmonic_major\",\n      \"f_acoustic\",\n      \"octatonic_3\",\n      \"ds_harmonic_major\",\n      \"hexatonic_4\",\n    ],\n    pitch_classes: [0, 2, 3, 5, 7, 8, 11],\n    chords: [\"Cm\", \"Fm\", \"G\", \"Am\", \"A\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"c\", \"d\", \"ef\", \"f\", \"g\", \"af\", \"b\"],\n  },\n  cs_acoustic: {\n    root: 1,\n    video_index: 17,\n    adjacent_scales: [\n      \"gs_diatonic\",\n      \"gs_harmonic_minor\",\n      \"octatonic_2\",\n      \"fs_diatonic\",\n      \"ds_harmonic_major\",\n      \"whole_tone_2\",\n    ],\n    pitch_classes: [1, 3, 5, 7, 8, 10, 11],\n    chords: [\"D\", \"E\", \"Am\", \"Bm\"],\n    scale_class: \"acoustic\",\n    spelling: [\"cf\", \"df\", \"ef\", \"f\", \"g\", \"af\", \"bf\"],\n  },\n  cs_diatonic: {\n    root: 1,\n    video_index: 18,\n    adjacent_scales: [\n      \"gs_diatonic\",\n      \"as_harmonic_minor\",\n      \"fs_acoustic\",\n      \"fs_diatonic\",\n      \"cs_harmonic_major\",\n      \"gs_acoustic\",\n    ],\n    pitch_classes: [0, 1, 3, 5, 6, 8, 10],\n    chords: [\"D\", \"Em\", \"Fm\", \"G\", \"A\", \"Bm\"],\n    scale_class: \"diatonic\",\n    spelling: [\"c\", \"df\", \"ef\", \"f\", \"gf\", \"af\", \"bf\"],\n  },\n  cs_harmonic_major: {\n    root: 1,\n    video_index: 19,\n    adjacent_scales: [\n      \"cs_diatonic\",\n      \"as_harmonic_minor\",\n      \"b_acoustic\",\n      \"octatonic_3\",\n      \"cs_harmonic_minor\",\n      \"hexatonic_1\",\n    ],\n    pitch_classes: [0, 1, 3, 5, 6, 8, 9],\n    chords: [\"D\", \"Fm\", \"F\", \"Gm\", \"A\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"c\", \"df\", \"ef\", \"f\", \"gf\", \"af\", \"bff\"],\n  },\n  cs_harmonic_minor: {\n    root: 1,\n    video_index: 20,\n    adjacent_scales: [\n      \"e_diatonic\",\n      \"cs_harmonic_major\",\n      \"fs_acoustic\",\n      \"octatonic_1\",\n      \"e_harmonic_major\",\n      \"hexatonic_1\",\n    ],\n    pitch_classes: [0, 1, 3, 4, 6, 8, 9],\n    chords: [\"Dm\", \"Gm\", \"A\", \"Am\", \"A\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"c\", \"df\", \"ef\", \"ff\", \"gf\", \"af\", \"bff\"],\n  },\n  d_acoustic: {\n    root: 2,\n    video_index: 21,\n    adjacent_scales: [\n      \"a_diatonic\",\n      \"a_harmonic_minor\",\n      \"octatonic_3\",\n      \"g_diatonic\",\n      \"e_harmonic_major\",\n      \"whole_tone_1\",\n    ],\n    pitch_classes: [0, 2, 4, 6, 8, 9, 11],\n    chords: [\"D\", \"E\", \"Am\", \"Bm\"],\n    scale_class: \"acoustic\",\n    spelling: [\"c\", \"d\", \"e\", \"fs\", \"gs\", \"a\", \"b\"], \n  },\n  d_diatonic: {\n    root: 2,\n    video_index: 22,\n    adjacent_scales: [\n      \"a_diatonic\",\n      \"b_harmonic_minor\",\n      \"g_acoustic\",\n      \"g_diatonic\",\n      \"d_harmonic_major\",\n      \"a_acoustic\",\n    ],\n    pitch_classes: [1, 2, 4, 6, 7, 9, 11],\n    chords: [\"D\", \"Em\", \"F#m\", \"G\", \"A\", \"Bm\"],\n    scale_class: \"diatonic\",\n    spelling: [\"cs\", \"d\", \"e\", \"fs\", \"g\", \"a\", \"b\"],\n  },\n  d_harmonic_major: {\n    root: 2,\n    video_index: 23,\n    adjacent_scales: [\n      \"d_diatonic\",\n      \"b_harmonic_minor\",\n      \"c_acoustic\",\n      \"octatonic_1\",\n      \"d_harmonic_minor\",\n      \"hexatonic_2\",\n    ],\n    pitch_classes: [1, 2, 4, 6, 7, 9, 10],\n    chords: [\"D\", \"F#m\", \"F#\", \"Gm\", \"A\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"cs\", \"d\", \"e\", \"fs\", \"g\", \"a\", \"bf\"],\n  },\n  d_harmonic_minor: {\n    root: 2,\n    video_index: 24,\n    adjacent_scales: [\n      \"f_diatonic\",\n      \"d_harmonic_major\",\n      \"g_acoustic\",\n      \"octatonic_2\",\n      \"f_harmonic_major\",\n      \"hexatonic_2\",\n    ],\n    pitch_classes: [1, 2, 4, 5, 7, 9, 10],\n    chords: [\"Dm\", \"Gm\", \"A\", \"Bm\", \"B\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"cs\", \"d\", \"e\", \"f\", \"g\", \"a\", \"bf\"],\n  },\n  ds_acoustic: {\n    root: 3,\n    video_index: 25,\n    adjacent_scales: [\n      \"as_diatonic\",\n      \"as_harmonic_minor\",\n      \"octatonic_1\",\n      \"gs_diatonic\",\n      \"f_harmonic_major\",\n      \"whole_tone_2\",\n    ],\n    pitch_classes: [0, 1, 3, 5, 7, 9, 10],\n    chords: [\"E\", \"F\", \"Bm\", \"Cm\"],\n    scale_class: \"acoustic\",\n    spelling: [\"c\", \"df\", \"ef\", \"f\", \"g\", \"a\", \"bf\"],\n  },\n  ds_diatonic: {\n    root: 3,\n    video_index: 26,\n    adjacent_scales: [\n      \"as_diatonic\",\n      \"c_harmonic_minor\",\n      \"gs_acoustic\",\n      \"gs_diatonic\",\n      \"ds_harmonic_major\",\n      \"as_acoustic\",\n    ],\n    pitch_classes: [0, 2, 3, 5, 7, 8, 10],\n    chords: [\"E\", \"Fm\", \"Gm\", \"A\", \"B\", \"Cm\"],\n    scale_class: \"diatonic\",\n    spelling: [\"c\", \"d\", \"ef\", \"f\", \"g\", \"af\", \"bf\"],\n  },\n  ds_harmonic_major: {\n    root: 3,\n    video_index: 27,\n    adjacent_scales: [\n      \"ds_diatonic\",\n      \"c_harmonic_minor\",\n      \"cs_acoustic\",\n      \"octatonic_2\",\n      \"ds_harmonic_minor\",\n      \"hexatonic_3\",\n    ],\n    pitch_classes: [2, 3, 5, 7, 8, 10, 11],\n    chords: [\"E\", \"Gm\", \"G\", \"Am\", \"B\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"cf\", \"d\", \"ef\", \"f\", \"g\", \"af\", \"bf\"],\n  },\n  ds_harmonic_minor: {\n    root: 3,\n    video_index: 28,\n    adjacent_scales: [\n      \"fs_diatonic\",\n      \"ds_harmonic_major\",\n      \"gs_acoustic\",\n      \"octatonic_3\",\n      \"fs_harmonic_major\",\n      \"hexatonic_3\",\n    ],\n    pitch_classes: [2, 3, 5, 6, 8, 10, 11],\n    chords: [\"Em\", \"Am\", \"B\", \"Bm\", \"B\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"cf\", \"d\", \"ef\", \"f\", \"gf\", \"af\", \"bf\"],\n  },\n  e_acoustic: {\n    root: 4,\n    video_index: 29,\n    adjacent_scales: [\n      \"b_diatonic\",\n      \"b_harmonic_minor\",\n      \"octatonic_2\",\n      \"a_diatonic\",\n      \"fs_harmonic_major\",\n      \"whole_tone_1\",\n    ],\n    pitch_classes: [1, 2, 4, 6, 8, 10, 11],\n    chords: [\"E\", \"F#\", \"Bm\", \"C#m\"],\n    scale_class: \"acoustic\",\n    spelling: [\"cs\", \"d\", \"e\", \"fs\", \"gs\", \"as\", \"b\"],\n  },\n  e_diatonic: {\n    root: 4,\n    video_index: 30,\n    adjacent_scales: [\n      \"b_diatonic\",\n      \"cs_harmonic_minor\",\n      \"a_acoustic\",\n      \"a_diatonic\",\n      \"e_harmonic_major\",\n      \"b_acoustic\",\n    ],\n    pitch_classes: [1, 3, 4, 6, 8, 9, 11],\n    chords: [\"E\", \"F#m\", \"G#m\", \"A\", \"B\", \"C#m\"],\n    scale_class: \"diatonic\",\n    spelling: [\"cs\", \"ds\", \"e\", \"fs\", \"gs\", \"a\", \"b\"],\n  },\n  e_harmonic_major: {\n    root: 4,\n    video_index: 31,\n    adjacent_scales: [\n      \"e_diatonic\",\n      \"cs_harmonic_minor\",\n      \"d_acoustic\",\n      \"octatonic_3\",\n      \"e_harmonic_minor\",\n      \"hexatonic_4\",\n    ],\n    pitch_classes: [0, 3, 4, 6, 8, 9, 11],\n    chords: [\"E\", \"G#m\", \"G#\", \"Am\", \"B\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"c\", \"ds\", \"e\", \"fs\", \"gs\", \"a\", \"b\"],\n  },\n  e_harmonic_minor: {\n    root: 4,\n    video_index: 32,\n    adjacent_scales: [\n      \"g_diatonic\",\n      \"e_harmonic_major\",\n      \"a_acoustic\",\n      \"octatonic_1\",\n      \"g_harmonic_major\",\n      \"hexatonic_4\",\n    ],\n    pitch_classes: [0, 3, 4, 6, 7, 9, 11],\n    chords: [\"Em\", \"Am\", \"B\", \"Cm\", \"C\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"c\", \"ds\", \"e\", \"fs\", \"g\", \"a\", \"b\"],\n  },\n  f_acoustic: {\n    root: 5,\n    video_index: 33,\n    adjacent_scales: [\n      \"c_diatonic\",\n      \"c_harmonic_minor\",\n      \"octatonic_3\",\n      \"as_diatonic\",\n      \"g_harmonic_major\",\n      \"whole_tone_2\",\n    ],\n    pitch_classes: [0, 2, 3, 5, 7, 9, 11],\n    chords: [\"F\", \"G\", \"Cm\", \"Dm\"],\n    scale_class: \"acoustic\",\n    spelling: [\"c\", \"d\", \"ef\", \"f\", \"g\", \"a\", \"b\"],\n  },\n  f_diatonic: {\n    root: 5,\n    video_index: 34,\n    adjacent_scales: [\n      \"c_diatonic\",\n      \"d_harmonic_minor\",\n      \"as_acoustic\",\n      \"as_diatonic\",\n      \"f_harmonic_major\",\n      \"c_acoustic\",\n    ],\n    pitch_classes: [0, 2, 4, 5, 7, 9, 10],\n    chords: [\"F\", \"Gm\", \"Am\", \"B\", \"C\", \"Dm\"],\n    scale_class: \"diatonic\",\n    spelling: [\"c\", \"d\", \"e\", \"f\", \"g\", \"a\", \"bf\"],\n  },\n  f_harmonic_major: {\n    root: 5,\n    video_index: 35,\n    adjacent_scales: [\n      \"f_diatonic\",\n      \"d_harmonic_minor\",\n      \"ds_acoustic\",\n      \"octatonic_1\",\n      \"f_harmonic_minor\",\n      \"hexatonic_1\",\n    ],\n    pitch_classes: [0, 1, 4, 5, 7, 9, 10],\n    chords: [\"F\", \"Am\", \"A\", \"Bm\", \"C\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"c\", \"df\", \"e\", \"f\", \"g\", \"a\", \"bf\"],\n  },\n  f_harmonic_minor: {\n    root: 5,\n    video_index: 36,\n    adjacent_scales: [\n      \"gs_diatonic\",\n      \"f_harmonic_major\",\n      \"as_acoustic\",\n      \"octatonic_2\",\n      \"gs_harmonic_major\",\n      \"hexatonic_1\",\n    ],\n    pitch_classes: [0, 1, 4, 5, 7, 8, 10],\n    chords: [\"Fm\", \"Bm\", \"C\", \"Dm\", \"D\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"c\", \"df\", \"e\", \"f\", \"g\", \"af\", \"bf\"],\n  },\n  fs_acoustic: {\n    root: 6,\n    video_index: 37,\n    adjacent_scales: [\n      \"cs_diatonic\",\n      \"cs_harmonic_minor\",\n      \"octatonic_1\",\n      \"b_diatonic\",\n      \"gs_harmonic_major\",\n      \"whole_tone_1\",\n    ],\n    pitch_classes: [0, 1, 3, 4, 6, 8, 10],\n    chords: [\"F#\", \"G#\", \"C#m\", \"D#m\"],\n    scale_class: \"acoustic\",\n    spelling: [\"cs\", \"ds\", \"e\", \"fs\", \"gs\", \"as\", \"bs\"],\n  },\n  fs_diatonic: {\n    root: 6,\n    video_index: 38,\n    adjacent_scales: [\n      \"cs_diatonic\",\n      \"ds_harmonic_minor\",\n      \"b_acoustic\",\n      \"b_diatonic\",\n      \"fs_harmonic_major\",\n      \"cs_acoustic\",\n    ],\n    pitch_classes: [1, 3, 5, 6, 8, 10, 11],\n    chords: [\"F#\", \"G#m\", \"A#m\", \"B\", \"C#\", \"D#m\"],\n    scale_class: \"diatonic\",\n    spelling: [\"cs\", \"ds\", \"es\", \"fs\", \"gs\", \"as\", \"b\"],\n  },\n  fs_harmonic_major: {\n    root: 6,\n    video_index: 39,\n    adjacent_scales: [\n      \"fs_diatonic\",\n      \"ds_harmonic_minor\",\n      \"e_acoustic\",\n      \"octatonic_2\",\n      \"fs_harmonic_minor\",\n      \"hexatonic_2\",\n    ],\n    pitch_classes: [1, 2, 5, 6, 8, 10, 11],\n    chords: [\"F#\", \"Bm\", \"B\", \"Bm\", \"C#\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"cs\", \"d\", \"es\", \"fs\", \"gs\", \"as\", \"b\"],\n  },\n  fs_harmonic_minor: {\n    root: 6,\n    video_index: 40,\n    adjacent_scales: [\n      \"a_diatonic\",\n      \"fs_harmonic_major\",\n      \"b_acoustic\",\n      \"octatonic_3\",\n      \"a_harmonic_major\",\n      \"hexatonic_2\",\n    ],\n    pitch_classes: [1, 2, 5, 6, 8, 9, 11],\n    chords: [\"F#m\", \"Bm\", \"C#\", \"Dm\", \"D\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"cs\", \"d\", \"es\", \"fs\", \"gs\", \"a\", \"b\"],\n  },\n  g_acoustic: {\n    root: 7,\n    video_index: 41,\n    adjacent_scales: [\n      \"d_diatonic\",\n      \"d_harmonic_minor\",\n      \"octatonic_2\",\n      \"c_diatonic\",\n      \"a_harmonic_major\",\n      \"whole_tone_2\",\n    ],\n    pitch_classes: [1, 2, 4, 5, 7, 9, 11],\n    chords: [\"G\", \"A\", \"Dm\", \"Em\"],\n    scale_class: \"acoustic\",\n    spelling: [\"cs\", \"d\", \"e\", \"f\", \"g\", \"a\", \"b\"],\n  },\n  g_diatonic: {\n    root: 7,\n    video_index: 42,\n    adjacent_scales: [\n      \"d_diatonic\",\n      \"e_harmonic_minor\",\n      \"c_acoustic\",\n      \"c_diatonic\",\n      \"g_harmonic_major\",\n      \"d_acoustic\",\n    ],\n    pitch_classes: [0, 2, 4, 6, 7, 9, 11],\n    chords: [\"G\", \"Am\", \"Bm\", \"C\", \"D\", \"Em\"],\n    scale_class: \"diatonic\",\n    spelling: [\"c\", \"d\", \"e\", \"fs\", \"g\", \"a\", \"b\"],\n  },\n  g_harmonic_major: {\n    root: 7,\n    video_index: 43,\n    adjacent_scales: [\n      \"g_diatonic\",\n      \"e_harmonic_minor\",\n      \"f_acoustic\",\n      \"octatonic_3\",\n      \"g_harmonic_minor\",\n      \"hexatonic_3\",\n    ],\n    pitch_classes: [0, 2, 3, 6, 7, 9, 11],\n    chords: [\"G\", \"Bm\", \"B\", \"Cm\", \"D\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"c\", \"d\", \"ef\", \"fs\", \"g\", \"a\", \"b\"],\n  },\n  g_harmonic_minor: {\n    root: 7,\n    video_index: 44,\n    adjacent_scales: [\n      \"as_diatonic\",\n      \"g_harmonic_major\",\n      \"c_acoustic\",\n      \"octatonic_1\",\n      \"as_harmonic_major\",\n      \"hexatonic_3\",\n    ],\n    pitch_classes: [0, 2, 3, 6, 7, 9, 10],\n    chords: [\"Gm\", \"Cm\", \"D\", \"Em\", \"E\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"c\", \"d\", \"ef\", \"fs\", \"g\", \"a\", \"bf\"],\n  },\n  gs_acoustic: {\n    root: 8,\n    video_index: 45,\n    adjacent_scales: [\n      \"ds_diatonic\",\n      \"ds_harmonic_minor\",\n      \"octatonic_3\",\n      \"cs_diatonic\",\n      \"as_harmonic_major\",\n      \"whole_tone_1\",\n    ],\n    pitch_classes: [0, 2, 3, 5, 6, 8, 10],\n    chords: [\"A\", \"B\", \"Em\", \"Fm\"],\n    scale_class: \"acoustic\",\n    spelling: [\"c\", \"d\", \"ef\", \"f\", \"gf\", \"af\", \"bf\"],\n  },\n  gs_diatonic: {\n    root: 8,\n    video_index: 46,\n    adjacent_scales: [\n      \"ds_diatonic\",\n      \"f_harmonic_minor\",\n      \"cs_acoustic\",\n      \"cs_diatonic\",\n      \"gs_harmonic_major\",\n      \"ds_acoustic\",\n    ],\n    pitch_classes: [0, 1, 3, 5, 7, 8, 10],\n    chords: [\"A\", \"Bm\", \"Cm\", \"D\", \"E\", \"Fm\"],\n    scale_class: \"diatonic\",\n    spelling: [\"c\", \"df\", \"ef\", \"f\", \"g\", \"af\", \"bf\"],\n  },\n  gs_harmonic_major: {\n    root: 8,\n    video_index: 47,\n    adjacent_scales: [\n      \"gs_diatonic\",\n      \"f_harmonic_minor\",\n      \"fs_acoustic\",\n      \"octatonic_1\",\n      \"gs_harmonic_minor\",\n      \"hexatonic_4\",\n    ],\n    pitch_classes: [0, 1, 3, 4, 7, 8, 10],\n    chords: [\"A\", \"Cm\", \"C\", \"Dm\", \"E\"],\n    scale_class: \"harmonic_major\",\n    spelling: [\"c\", \"df\", \"ef\", \"ff\", \"g\", \"af\", \"bf\"],\n  },\n  gs_harmonic_minor: {\n    root: 8,\n    video_index: 48,\n    adjacent_scales: [\n      \"b_diatonic\",\n      \"gs_harmonic_major\",\n      \"cs_acoustic\",\n      \"octatonic_2\",\n      \"b_harmonic_major\",\n      \"hexatonic_4\",\n    ],\n    pitch_classes: [1, 3, 4, 7, 8, 10, 11],\n    chords: [\"Am\", \"Dm\", \"E\", \"Em\", \"E\"],\n    scale_class: \"harmonic_minor\",\n    spelling: [\"cf\", \"df\", \"ef\", \"ff\", \"g\", \"af\", \"bf\"],\n  },\n  octatonic_1: {\n    root: 0,\n    video_index: 49,\n    adjacent_scales: [\n      \"c_acoustic\",\n      \"ds_acoustic\",\n      \"fs_acoustic\",\n      \"a_acoustic\",\n      \"d_harmonic_major\",\n      \"f_harmonic_major\",\n      \"gs_harmonic_major\",\n      \"b_harmonic_major\",\n      \"cs_harmonic_minor\",\n      \"e_harmonic_minor\",\n      \"g_harmonic_minor\",\n      \"as_harmonic_minor\",\n    ],\n    pitch_classes: [0, 1, 3, 4, 6, 7, 9, 10],\n    chords: [\"Cm\", \"C\", \"Em\", \"E\", \"F#m\", \"F#\", \"Am\", \"A\"],\n    scale_class: \"octatonic\",\n    spelling: [\"c\", \"cs\", \"ds\", \"e\", \"fs\", \"g\", \"a\", \"bf\"],\n  },\n  octatonic_2: {\n    root: 1,\n    video_index: 50,\n    adjacent_scales: [\n      \"cs_acoustic\",\n      \"e_acoustic\",\n      \"g_acoustic\",\n      \"as_acoustic\",\n      \"c_harmonic_major\",\n      \"ds_harmonic_major\",\n      \"fs_harmonic_major\",\n      \"a_harmonic_major\",\n      \"d_harmonic_minor\",\n      \"f_harmonic_minor\",\n      \"gs_harmonic_minor\",\n      \"b_harmonic_minor\",\n    ],\n    pitch_classes: [1, 2, 4, 5, 7, 8, 10, 11],\n    chords: [\"C#m\", \"C#\", \"Em\", \"E\", \"Gm\", \"G\", \"Bm\", \"B\"],\n    scale_class: \"octatonic\",\n    spelling: [\"cs\", \"d\", \"e\", \"f\", \"g\", \"gs\", \"as\", \"b\"],\n  },\n  octatonic_3: {\n    root: 2,\n    video_index: 51,\n    adjacent_scales: [\n      \"d_acoustic\",\n      \"f_acoustic\",\n      \"gs_acoustic\",\n      \"b_acoustic\",\n      \"cs_harmonic_major\",\n      \"e_harmonic_major\",\n      \"g_harmonic_major\",\n      \"as_harmonic_major\",\n      \"c_harmonic_minor\",\n      \"ds_harmonic_minor\",\n      \"fs_harmonic_minor\",\n      \"a_harmonic_minor\",\n    ],\n    pitch_classes: [0, 2, 3, 5, 6, 8, 9, 11],\n    chords: [\"Dm\", \"D\", \"Fm\", \"F\", \"Am\", \"A\", \"Bm\", \"B\"],\n    scale_class: \"octatonic\",\n    spelling: [\"c\", \"d\", \"ef\", \"f\", \"fs\", \"gs\", \"a\", \"b\"],\n  },\n  hexatonic_1: {\n    root: 1,\n    video_index: 52,\n    adjacent_scales: [\n      \"cs_harmonic_minor\",\n      \"f_harmonic_minor\",\n      \"a_harmonic_minor\",\n      \"cs_harmonic_major\",\n      \"f_harmonic_major\",\n      \"a_harmonic_major\",\n    ],\n    pitch_classes: [0, 1, 4, 5, 8, 9],\n    chords: [\"C#m\", \"C#\", \"Fm\", \"F\", \"Am\", \"A\"],\n    scale_class: \"hexatonic\",\n    spelling: [\"c\", \"df\", \"e\", \"f\", \"gs\", \"a\"],\n  },\n  hexatonic_2: {\n    root: 2,\n    video_index: 53,\n    adjacent_scales: [\n      \"d_harmonic_minor\",\n      \"fs_harmonic_minor\",\n      \"as_harmonic_minor\",\n      \"d_harmonic_major\",\n      \"fs_harmonic_major\",\n      \"as_harmonic_major\",\n    ],\n    pitch_classes: [1, 2, 5, 6, 9, 10],\n    chords: [\"Dm\", \"D\", \"F#m\", \"F#\", \"Bm\", \"B\"],\n    scale_class: \"hexatonic\",\n    spelling: [\"cs\", \"d\", \"f\", \"gf\", \"a\", \"bf\"],\n  },\n  hexatonic_3: {\n    root: 3,\n    video_index: 54,\n    adjacent_scales: [\n      \"ds_harmonic_minor\",\n      \"g_harmonic_minor\",\n      \"b_harmonic_minor\",\n      \"ds_harmonic_major\",\n      \"g_harmonic_major\",\n      \"b_harmonic_major\",\n    ],\n    pitch_classes: [2, 3, 6, 7, 10, 11],\n    chords: [\"Em\", \"E\", \"Gm\", \"G\", \"Bm\", \"B\"],\n    scale_class: \"hexatonic\",\n    spelling: [\"d\", \"ef\", \"fs\", \"g\", \"as\", \"b\"],\n  },\n  hexatonic_4: {\n    root: 4,\n    video_index: 55,\n    adjacent_scales: [\n      \"c_harmonic_minor\",\n      \"e_harmonic_minor\",\n      \"gs_harmonic_minor\",\n      \"c_harmonic_major\",\n      \"e_harmonic_major\",\n      \"gs_harmonic_major\",\n    ],\n    pitch_classes: [0, 3, 4, 7, 8, 11],\n    chords: [\"Em\", \"E\", \"Am\", \"A\", \"Cm\", \"C\"],\n    scale_class: \"hexatonic\",\n    spelling: [\"c\", \"ds\", \"e\", \"g\", \"af\", \"b\"],\n  },\n  whole_tone_1: {\n    root: 0,\n    video_index: 56,\n    adjacent_scales: [\n      \"c_acoustic\",\n      \"d_acoustic\",\n      \"e_acoustic\",\n      \"fs_acoustic\",\n      \"gs_acoustic\",\n      \"as_acoustic\",\n    ],\n    pitch_classes: [0, 2, 4, 6, 8, 10],\n    chords: [],\n    scale_class: \"whole_tone\",\n    spelling: [\"c\", \"d\", \"e\", \"fs\", \"gs\", \"as\"],\n  },\n  whole_tone_2: {\n    root: 1,\n    video_index: 57,\n    adjacent_scales: [\n      \"cs_acoustic\",\n      \"ds_acoustic\",\n      \"f_acoustic\",\n      \"g_acoustic\",\n      \"a_acoustic\",\n      \"b_acoustic\",\n    ],\n    pitch_classes: [1, 3, 5, 7, 9, 11],\n    chords: [],\n    scale_class: \"whole_tone\",\n    spelling: [\"df\", \"ef\", \"f\", \"g\", \"a\", \"b\"],\n  },\n};\n\nexport default ScaleData;\n","const PitchClassData = {\n  0: {\n    note: \"C\",\n    vexflow: \"c\",\n    slug: \"c\",\n    sharp: \"C\",\n    flat: \"C\",\n  },\n  1: {\n    note: \"C#\",\n    vexflow: \"c#\",\n    slug: \"cs\",\n    sharp: \"C#\",\n    flat: \"D\",\n  },\n  2: {\n    note: \"D\",\n    vexflow: \"d\",\n    slug: \"d\",\n    sharp: \"D\",\n    flat: \"D\",\n  },\n  3: {\n    note: \"E\",\n    vexflow: \"eb\",\n    slug: \"ef\",\n    sharp: \"D#\",\n    flat: \"E\",\n  },\n  4: {\n    note: \"E\",\n    vexflow: \"e\",\n    slug: \"e\",\n    sharp: \"E\",\n    flat: \"E\",\n  },\n  5: {\n    note: \"F\",\n    vexflow: \"f\",\n    slug: \"f\",\n    sharp: \"F\",\n    flat: \"F\",\n  },\n  6: {\n    note: \"F#\",\n    vexflow: \"f#\",\n    slug: \"fs\",\n    sharp: \"F#\",\n    flat: \"G\",\n  },\n  7: {\n    note: \"G\",\n    vexflow: \"g\",\n    slug: \"g\",\n    sharp: \"G\",\n    flat: \"G\",\n  },\n  8: {\n    note: \"A\",\n    vexflow: \"ab\",\n    slug: \"af\",\n    sharp: \"G#\",\n    flat: \"A\",\n  },\n  9: {\n    note: \"A\",\n    vexflow: \"a\",\n    slug: \"a\",\n    sharp: \"A\",\n    flat: \"A\",\n  },\n  10: {\n    note: \"B\",\n    vexflow: \"bb\",\n    slug: \"bf\",\n    sharp: \"A#\",\n    flat: \"B\",\n  },\n  11: {\n    note: \"B\",\n    vexflow: \"b\",\n    slug: \"b\",\n    sharp: \"B\",\n    flat: \"B\",\n  },\n};\n\nexport default PitchClassData;\n","import * as scalesJson from \"./pressing_scale_dict.json\";\nimport * as chordsJson from \"./chords_no_supersets.json\";\nimport * as chordTypesJson from \"./chord_types.json\";\n\nconst SCALES = scalesJson.default;\nconst CHORDS = chordsJson.default;\nconst CHORD_TYPES = chordTypesJson.default;\n\nconst isSubset = (array1, array2) => {\n  for (let x of array1) {\n    if (array2.indexOf(x) === -1) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst getChordsInScale = (scale) => {\n  const result = [];\n  const pitchClasses = SCALES[scale].pitch_classes;\n  for (let chordName of Object.keys(CHORDS)) {\n    const chord = CHORDS[chordName];\n    const chordPitchClasses = chord.prime_form_kinda;\n    if (isSubset(chordPitchClasses, pitchClasses)) {\n      result.push(chordName);\n    }\n  }\n  return result;\n};\n\nconst choose = (array) => {\n  return array[Math.floor(array.length * Math.random())];\n};\n\nfunction mod(a, b) {\n  return ((a % b) + b) % b;\n}\n\nexport default class ChordChooser {\n  constructor(chordData, setChordData, scale) {\n    this.jazz_filtering_enabled = true;\n    this.slice_size = 1;\n    this.last_chord_name = null;\n    this.current_chord_name = null;\n    this.current_chord = null;\n    this.setChordData = setChordData;\n    this.chordData = chordData;\n    this.voice_leading_threshold = 9;\n  }\n\n  setChordDataContext(chordData, setChordData) {\n    this.setChordData = setChordData;\n    this.chordData = chordData;\n  }\n\n  is_valid_jazz_chord_progression(current_chord, next_chord) {\n    if (!this.jazz_filtering_enabled) {\n      return true;\n    }\n\n    var root_interval = Math.abs(\n      mod(CHORDS[next_chord][\"root\"] - CHORDS[current_chord][\"root\"] + 6, 12) -\n        6\n    );\n\n    if (!this.chordData.allowedRootIntervals[root_interval]) {\n      return false;\n    }\n\n    var current_position =\n      CHORD_TYPES[CHORDS[current_chord].chord_type].position;\n    var next_position = CHORD_TYPES[CHORDS[next_chord].chord_type].position;\n\n    if (root_interval <= 2) {\n      // root movements by whole-steps, half-steps or unison\n      return current_position === next_position;\n    }\n    if (root_interval === 3 || root_interval === 4) {\n      // root movements by minor thirds/ sixths, major thirds / sixths\n      return true;\n    }\n    if (root_interval === 5) {\n      // root movements by fourths or fifths\n      return current_position !== next_position;\n    }\n    if (root_interval === 6) {\n      // root movement by tritones, not allowed!!\n      return true;\n    }\n  }\n\n  score_smooth_voice_leading(current_chord, next_chord) {\n    var current_pitches = CHORDS[current_chord].root_transposed_to_zero;\n    var next_pitches = CHORDS[next_chord].root_transposed_to_zero;\n\n    var fitness_score = 0;\n    current_pitches.forEach(function (pitch, index) {\n      for (let interval = -2; interval <= 2; interval++) {\n        if (next_pitches.indexOf(pitch + interval) !== -1) {\n          if (interval === 0) {\n            fitness_score += 2;\n          } else {\n            fitness_score += 1;\n          }\n          if (Math.max.apply(null, current_pitches) === pitch) {\n            fitness_score += 2;\n          }\n          return;\n        }\n      }\n    });\n    return fitness_score;\n  }\n\n  tick(scaleName) {\n    this.last_chord_name = this.current_chord_name;\n\n    let chord_candidates = getChordsInScale(scaleName);\n\n    if (!(this.last_chord_name === null || this.last_chord_name === \"error\")) {\n      chord_candidates = chord_candidates.filter((candidate) => {\n        return this.is_valid_jazz_chord_progression(\n          this.last_chord_name,\n          candidate\n        );\n      });\n      chord_candidates = chord_candidates.sort((a, b) => {\n        var score_a = this.score_smooth_voice_leading(this.last_chord_name, a);\n        var score_b = this.score_smooth_voice_leading(this.last_chord_name, b);\n\n        if (score_a === score_b) {\n          return 0;\n        } else if (score_a < score_b) {\n          return -1;\n        } else if (score_a > score_b) {\n          return 1;\n        }\n      });\n      let after_chord_candidates = chord_candidates.length;\n      let slice_size = Math.floor(\n        chord_candidates.length -\n          chord_candidates.length *\n            (this.chordData.voiceLeadingSmoothness / 100)\n      );\n      if (slice_size === 0) {\n        slice_size = 1;\n      }\n      if (slice_size < chord_candidates.length) {\n        chord_candidates = chord_candidates.slice(slice_size);\n      }\n    }\n\n    if (chord_candidates.length === 0) {\n      this.current_chord_name = \"error\";\n      this.current_chord = null;\n      return;\n    }\n\n    this.current_chord_name = choose(chord_candidates);\n    this.current_chord = CHORDS[this.current_chord_name];\n\n    this.setChordData({\n      chordName: this.current_chord_name,\n      chord: this.current_chord,\n    });\n  }\n}\n","export default __webpack_public_path__ + \"static/media/Mulish-Regular.92c7cbf6.ttf\";","import React, { useLayoutEffect } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport Sketch from \"react-p5\";\nimport './../../../resources/Mulish/Mulish-Regular.ttf';\n\nconst fps = 30;\n\nfunction Pfivesketch({ navRef, canvasWrapperRef, isMember = false }) {\n    const location = useLocation();\n\n    useLayoutEffect(() => {\n        const p = wrapperElm && wrapperElm.getBoundingClientRect();\n        window.scaleP5 && window.scaleP5.resizeCanvas(p.width, p.height);\n    }, [location.pathname])\n\n    const wrapperElm = canvasWrapperRef.current;\n\n    const setup = (p5, canvasParentRef) => {\n        const p = wrapperElm && wrapperElm.getBoundingClientRect();\n\n        if (!p) return\n\n        p5.createCanvas(p.width, Math.max(p.height, document.body.getBoundingClientRect().height / 2)).parent(canvasParentRef);\n        p5.frameRate(fps);\n        navRef.init(p5);\n        windowResized(p5);\n    };\n\n    const draw = (p5) => {\n        p5.clear();\n        navRef.draw(p5);\n\n        if (\n            document.getElementById(\"autopilot_checkbox\").checked !==\n            navRef.autopilot_data.active\n        ) {\n            navRef.toggle_autopilot();\n        }\n    };\n\n    const mousePressed = (p5, event) => {\n        if (isMember) return\n        navRef.mousePressed(p5, event);\n    };\n\n    const mouseReleased = (p5, event) => {\n        if (isMember) return\n        navRef.mouseReleased(p5, event);\n    };\n\n    const windowResized = (p5) => {\n        const p = wrapperElm && wrapperElm.getBoundingClientRect();\n        p5.resizeCanvas(p.width, p.height);\n        navRef.updateSizes(p5);\n    };\n\n    const preload = (p5) => {\n        window.scaleP5 = p5\n    }\n\n    return (\n        <Sketch\n            preload = { preload }\n            setup = { setup }\n            draw = { draw }\n            mousePressed = { mousePressed }\n            mouseReleased = { mouseReleased }\n            windowResized = { windowResized }\n            navigator = { navRef }\n        />\n    );\n}\n\nPfivesketch.note_names = [\n    \"C\",\n    \"D\",\n    \"D\",\n    \"E\",\n    \"E\",\n    \"F\",\n    \"F#\",\n    \"G\",\n    \"A\",\n    \"A\",\n    \"B\",\n    \"B\",\n];\n\nPfivesketch.fps = fps;\n\nexport default Pfivesketch;\n","// Helper functions\nimport React from \"react\";\nimport Sketch from \"react-p5\";\n\nfunction Helper() {}\n\nHelper.hsvToRgb = (h, s, v) => {\n  var r = 0,\n    g = 0,\n    b = 0;\n\n  var i = Math.floor(h * 6);\n  var f = h * 6 - i;\n  var p = v * (1 - s);\n  var q = v * (1 - f * s);\n  var t = v * (1 - (1 - f) * s);\n\n  if (i % 6 === 0) {\n    r = v;\n    g = t;\n    b = p;\n  } else if (i % 6 === 1) {\n    r = q;\n    g = v;\n    b = p;\n  } else if (i % 6 === 2) {\n    r = p;\n    g = v;\n    b = t;\n  } else if (i % 6 === 3) {\n    r = p;\n    g = q;\n    b = v;\n  } else if (i % 6 === 4) {\n    r = t;\n    g = p;\n    b = v;\n  } else if (i % 6 === 5) {\n    r = v;\n    g = p;\n    b = q;\n  }\n\n  return [r * 255, g * 255, b * 255];\n};\n\nHelper.default_animation_duration = 1;\n\nexport default Helper;\n","//finish polygon\n//import to react\n// then, get basic polygon working\n// test each class individually\n// once enough is properly converted, add in other behavioral classes\n// ...\n\nimport ScaleData from \"common/ScaleData\";\nimport Pfivesketch from \"./Pfivesketch\";\nimport Helper from \"./Helper\";\n\nconst default_animation_curve = (x) => {\n    return 1 / (1 + Math.pow(x / (1 - x), -3));\n};\n\nexport default class Polygon {\n    constructor(p5, x, y, size, scale) {\n        this.p5 = p5;\n\n        this.x = x;\n        this.y = y;\n        this.radius = size;\n\n        this.data = ScaleData[scale];\n        this.points_count = this.data.adjacent_scales.length;\n\n        this.animation = {\n            active: false,\n            animation_curve: default_animation_curve,\n            callback: () => {},\n            callback_args: [],\n            start_frame: 0,\n            end_frame: 1,\n            duration: 1,\n            target: {\n                size: this.radius,\n                x: this.x,\n                y: this.y,\n            },\n            start: {\n                size: this.radius,\n                x: this.x,\n                y: this.y,\n            },\n            progress: () => {\n                return (this.p5.frameCount - this.animation.start_frame) /\n                    (this.animation.end_frame - this.animation.start_frame)\n            }\n        };\n\n        this.opacity = 1;\n\n        this.scale = scale;\n        this.name = `${\n      Pfivesketch.note_names[this.data.root]\n    } ${this.data.scale_class.replace(\"_\", \" \")}`;\n\n        this.lastHover = false;\n\n        this.draw = (drawText = true, isNeigh = false, neighOffset = { x: 0, y: 0 }, scale_mult = 1) => {\n            this.p5.push();\n            this.animation_lerp();\n\n            // translate so we dont have to always write x and y\n            this.p5.translate(this.x * this.p5.width, this.y * this.p5.height);\n            this.p5.scale(scale_mult);\n\n            var angle = this.p5.TWO_PI / this.points_count;\n            var fontcolor;\n            this.p5.strokeJoin(this.p5.ROUND);\n            this.p5.strokeWeight(this.radius / 5)\n            this.p5.beginShape();\n\n            // set the color\n            // we always have the color as an array of 3 numbers even if it's grey\n            // we need that cuz we also push in the opacity (alpha channel)\n            if (this.data.scale_class === \"whole_tone\") {\n                fontcolor = Array(3).fill(\n                    this.p5.map(this.data.root % 2, 0, 1, 200, 150)\n                );\n            } else if (this.data.scale_class === \"octatonic\") {\n                fontcolor = Array(3).fill(\n                    this.p5.map(this.data.root % 3, 0, 2, 200, 133)\n                );\n            } else if (this.data.scale_class === \"hexatonic\") {\n                fontcolor = Array(3).fill(\n                    this.p5.map(this.data.root % 4, 0, 3, 200, 100)\n                );\n            } else {\n                fontcolor = Helper.hsvToRgb(\n                    this.p5.map((this.data.root * 7) % 12, 11, 0, 0, 1),\n                    this.p5.map((this.data.root * 7) % 12, 0, 11, 0.1, 0.5),\n                    1\n                );\n            }\n\n            // add in the opacity\n            fontcolor.push(255 * this.opacity);\n            this.p5.fill(fontcolor);\n            this.p5.stroke(fontcolor)\n            this.p5.textFont(\"Mulish\")\n\n            // draw the polygon\n            // addaptation of your code to the object\n            // add p5 to all relevant funcs\n            if (this.points_count === 12) {\n                for (let a = 0; a < this.p5.TWO_PI; a += angle) {\n                    let sx = Math.cos(a + this.p5.TWO_PI / 24) * this.radius;\n                    let sy = Math.sin(a + this.p5.TWO_PI / 24) * this.radius;\n                    this.p5.vertex(sx, sy);\n                }\n            } else if (this.points_count === 6) {\n                if (this.data.scale_class === \"diatonic\") {\n                    for (let a = 0; a < this.p5.TWO_PI; a += angle) {\n                        let sx = Math.cos(a + this.p5.TWO_PI / 12) * this.radius;\n                        let sy = Math.sin(a + this.p5.TWO_PI / 12) * this.radius;\n                        this.p5.vertex(sx, sy);\n                    }\n                }\n                if (this.data.scale_class === \"acoustic\") {\n                    this.p5.vertex(this.radius, this.radius * 0.5);\n                    this.p5.vertex(-this.radius, this.radius * 0.5);\n                    this.p5.vertex(-this.radius, -this.radius * 0.5);\n                    this.p5.vertex(this.radius, -this.radius * 0.5);\n                }\n                if (this.data.scale_class === \"whole_tone\") {\n                    this.p5.vertex(-this.radius * 0.5, -this.radius);\n                    this.p5.vertex(this.radius * 0.5, -this.radius);\n                    this.p5.vertex(this.radius * 0.5, this.radius);\n                    this.p5.vertex(-this.radius * 0.5, this.radius);\n                }\n                if (this.data.scale_class === \"hexatonic\") {\n                    this.p5.vertex(this.radius * 0.65, this.radius);\n                    this.p5.vertex(this.radius * 0.65, -this.radius);\n                    this.p5.vertex(-this.radius, this.radius * 0.01);\n                }\n                if (this.data.scale_class === \"harmonic_major\") {\n                    this.p5.vertex(this.radius, this.radius * 0.25);\n                    this.p5.vertex(-this.radius, this.radius * 0.75);\n                    this.p5.vertex(-this.radius, -this.radius * 0.25);\n                    this.p5.vertex(this.radius, -this.radius * 1);\n                }\n                if (this.data.scale_class === \"harmonic_minor\") {\n                    this.p5.vertex(this.radius, this.radius * 0.75);\n                    this.p5.vertex(-this.radius, this.radius * 0.25);\n                    this.p5.vertex(-this.radius, -this.radius * 1);\n                    this.p5.vertex(this.radius, -this.radius * 0.25);\n                }\n            }\n            this.p5.endShape(this.p5.CLOSE);\n\n            //write the text\n            this.p5.noStroke();\n            this.p5.fill(isNeigh ? 255 : 0, 255 * this.opacity);\n            var font_size_2 = this.radius / 3;\n            var scale_class = this.data.scale_class.replace(\"_\", \"\\n\");\n            this.p5.textSize(font_size_2);\n            this.p5.textAlign(this.p5.CENTER, this.p5.CENTER);\n\n\n            if (this.data.scale_class === \"harmonic_minor\" || this.data.scale_class === \"harmonic_major\") this.p5.translate(0, -this.radius / 5.5)\n            if (drawText) {\n                this.p5.text(Pfivesketch.note_names[this.data.root],\n                    neighOffset.x * this.p5.width, -font_size_2 / 2 + neighOffset.y * this.p5.height);\n                // the mess at the end of the line just checks if the text has 2 lines and then it offsets the text more if necessary\n                this.p5.text(\n                    scale_class,\n                    neighOffset.x * this.p5.width,\n                    (scale_class.split(\"\\n\").length > 1 ? font_size_2 : font_size_2 / 2) + neighOffset.y * this.p5.height\n                ); //print out scale class\n            }\n            this.p5.pop();\n        };\n\n        this.getNeighbors = (\n            neighbor_size = this.radius / 2,\n            offset_radius = this.radius * 3,\n            start_angle = 3.14159265358979323846 / 2,\n            end_angle = (5 / 2) * 3.14159265358979323846\n        ) => {\n            var total_neigh = this.data.adjacent_scales.length;\n            var neigh = [];\n\n            // use the getNeighborPositions to generate new objects for the neighbors of this object\n            var positions = this.getNeighborPositions(\n                this.x,\n                this.y,\n                this.radius,\n                neighbor_size,\n                offset_radius,\n                start_angle,\n                end_angle\n            );\n            for (var n = 0; n < total_neigh; n++) {\n                neigh.push(\n                    new Polygon(\n                        p5,\n                        positions[n].x,\n                        positions[n].y,\n                        positions[n].size,\n                        this.data.adjacent_scales[n]\n                    )\n                );\n            }\n\n            return neigh;\n        };\n\n        this.getNeighborPositions = (\n            x = this.x,\n            y = this.y,\n            size = this.radius,\n            neighbor_size = undefined,\n            offset_radius = undefined,\n            start_angle = 3.14159265358979323846 / 2,\n            end_angle = (5 / 2) * 3.14159265358979323846,\n            total_neigh = this.data.adjacent_scales.length\n        ) => {\n            // this function just radially generates the positions and sizes for the neighbors\n            // optional values can be passed in to generate positions for a state in which the object currently is not\n            var neigh = [];\n            offset_radius = !offset_radius ? size * 3 : offset_radius;\n            neighbor_size = !neighbor_size ? size / 2 : neighbor_size;\n\n            for (var n = 0; n < total_neigh; n++) {\n                var angle =\n                    ((start_angle - end_angle) * -n) / total_neigh + start_angle;\n                neigh.push({\n                    x: x + (Math.cos(angle) * offset_radius) / 550,\n                    y: y + (Math.sin(angle) * offset_radius) / 600,\n                    size: neighbor_size,\n                });\n            }\n\n            return neigh;\n        };\n\n        this.isMatching = (other) => {\n            // check if two objects are matching in type\n            return other.name === this.name;\n        };\n\n        this.animation_lerp = () => {\n            // lerp the animation of the object\n            if (this.animation.active) {\n                var progress = this.animation.progress();\n                progress = this.animation.animation_curve(progress);\n\n                if (progress > 1) {\n                    this.animation.active = false;\n                    this.animation.callback(...this.animation.callback_args);\n                    return;\n                }\n\n                this.x = this.p5.lerp(\n                    this.animation.start.x,\n                    this.animation.target.x,\n                    progress\n                );\n                this.y = this.p5.lerp(\n                    this.animation.start.y,\n                    this.animation.target.y,\n                    progress\n                );\n                this.radius = this.p5.lerp(\n                    this.animation.start.size,\n                    this.animation.target.size,\n                    progress\n                );\n                this.opacity = this.p5.lerp(\n                    this.animation.start.opacity,\n                    this.animation.target.opacity,\n                    progress\n                );\n            }\n        };\n\n        this.move = (\n            target_x,\n            target_y,\n            duration_seconds = Helper.default_animation_duration,\n            target_size = this.radius,\n            target_opacity = 1,\n            callback = () => {},\n            callback_args = []\n        ) => {\n            // start the animation of an object\n            var duration = Pfivesketch.fps * duration_seconds;\n\n            this.animation = {\n                active: true,\n                animation_curve: default_animation_curve,\n                callback: callback,\n                callback_args: callback_args,\n                start_frame: this.p5.frameCount,\n                end_frame: this.p5.frameCount + duration,\n                duration: duration,\n                target: {\n                    size: target_size,\n                    x: target_x,\n                    y: target_y,\n                    opacity: target_opacity,\n                },\n                start: {\n                    size: this.radius,\n                    x: this.x,\n                    y: this.y,\n                    opacity: this.opacity,\n                },\n                progress: () => {\n                    return (this.p5.frameCount - this.animation.start_frame) /\n                        (this.animation.end_frame - this.animation.start_frame)\n                }\n            };\n        };\n\n        this.click = (\n            x_in = this.p5.mouseX,\n            y_in = this.p5.mouseY,\n            verbose = false\n        ) => {\n            // check if the object has been clicked\n            var start = false,\n                end = false;\n\n            var h =\n                this.p5.dist(\n                    x_in,\n                    y_in,\n                    this.x * this.p5.width,\n                    this.y * this.p5.height\n                ) < this.radius;\n\n            if (h && !this.lastHover) {\n                this.onStartHover();\n                start = true;\n            } else if (!h && this.lastHover) {\n                this.onEndHover();\n                end = true;\n            }\n\n            this.lastHover = h;\n            if (!verbose) return h;\n            else {\n                return {\n                    click: h,\n                    start: start,\n                    end: end,\n                };\n            }\n        };\n\n        this.onStartHover = () => {\n            // console.log(this.scale, \"start\")\n        };\n\n        this.onEndHover = () => {\n            // console.log(this.scale, \"end\")\n        };\n    }\n\n    set() {\n        for (var i = 0; i < arguments.length; i++) {\n            this[arguments[i][0]] = arguments[i][1];\n        }\n    }\n}","import ChordChooser from \"../../ToneJS/ChordChooser\";\nimport Polygon from \"./Polygon\";\nimport Helper from \"./Helper\";\n\nfunction Navigator({ setScaleData }) {\n    this.scale = \"c_diatonic\";\n    this.main_polygon = undefined;\n    this.neighbors = [];\n    this.poly_size = 61;\n    this.preview_polygons_ready = false;\n    this.p5 = null;\n\n    this.autopilot_data = {\n        active: false,\n        default_period: [1000, 2000, 3000, 4000],\n        period: undefined,\n        chosen: undefined,\n        intervalID: undefined,\n        animate: true,\n        max_visited: 10,\n        visited: [],\n        chordClicks: 0\n    };\n\n    this.init = (p5) => {\n        this.p5 = p5;\n        this.init_autopilot(p5);\n\n        this.poly_size = (this.p5.width + this.p5.height) / 22;\n        this.poly_size = p5.max((1200) / 22, this.poly_size)\n\n        this.initPolygons();\n    };\n\n    this.initPolygons = () => {\n        this.main_polygon = new Polygon(this.p5, 0.5, 0.5, this.poly_size, this.scale);\n        this.neighbors = this.main_polygon.getNeighbors();\n        this.old_main_polygon = undefined;\n        this.old_neighbors = undefined;\n        this.last_clicked_polygon = undefined;\n        this.actually_new_polygons = undefined;\n        this.hover_polygons = [];\n        this.hover_polygons_to_be_removed = [];\n        this.preview_polygons = [];\n    };\n\n    this.init_autopilot = (p5) => {\n        if (!this.autopilot_data.period)\n            this.autopilot_data.period = this.autopilot_data.default_period;\n\n        var k = 1;\n        if (document.getElementById(\"autopilot_interval\") != null && document.getElementById(\"autopilot_interval\")) k = document.getElementById(\"autopilot_interval\").value\n        this.autopilot_data.chosen = p5.random(this.autopilot_data.period.map(x => x * k))\n\n        this.autopilot_data.intervalID = setInterval(\n            (p5) => {\n                if (this.autopilot_data.active) {\n                    var p = p5.random(this.neighbors.concat(this.main_polygon));\n\n                    var passes = 0\n                    while (this.autopilot_data.visited.includes(p) && passes < 100) {\n                        p = p5.random(this.neighbors.concat(this.main_polygon));\n                        passes++\n                    }\n\n                    var k = 1;\n                    if (document.getElementById(\"autopilot_interval\") != null && document.getElementById(\"autopilot_interval\")) k = document.getElementById(\"autopilot_interval\").value\n                    this.autopilot_data.chosen = p5.random(this.autopilot_data.period.map(x => x * k))\n\n                    if (this.autopilot_data.chordClicks > p5.random(4, 8)) {\n                        if (this.autopilot_data.visited.length >= this.autopilot_data.max_visited) {\n                            this.autopilot_data.visited.pop()\n                        }\n                        this.autopilot_data.visited.unshift(p)\n\n                        this.autopilot_data.chordClicks = 0\n                    } else {\n                        p = this.main_polygon;\n                        this.autopilot_data.chordClicks++;\n                        this.autopilot_data.chosen = Math.sqrt(this.autopilot_data.chosen / 500) * 500;\n                    }\n\n                    this.changeMainScale(\n                        p5,\n                        p,\n                        Helper.default_animation_duration,\n                        this.autopilot_data.animate\n                    );\n\n                    this.set_autopilot_period(p5, this.autopilot_data.default_period)\n                    return;\n                }\n            },\n            this.autopilot_data.chosen,\n            p5\n        );\n    };\n\n    this.toggle_autopilot = (forced_value = undefined) => {\n        if (forced_value) {\n            this.autopilot_data.active = forced_value;\n        } else {\n            this.autopilot_data.active = !this.autopilot_data.active;\n        }\n    };\n\n    this.reset_autopilot = () => {\n        this.autopilot_data.active = false;\n        this.autopilot_data.visited = []\n        this.autopilot_data.chordClicks = 0;\n        this.set_autopilot_period(undefined);\n    };\n\n    this.set_autopilot_period = (p5, new_period) => {\n        this.autopilot_data.period = new_period;\n\n        clearInterval(this.autopilot_data.intervalID);\n\n        this.init_autopilot(p5);\n    };\n\n    this.toggle_autopilot_animation = (forced_value = undefined) => {\n        if (forced_value) {\n            this.autopilot_data.animate = forced_value;\n        } else {\n            this.autopilot_data.animate = !this.autopilot_data.active;\n        }\n    };\n\n    \n\n    this.mousePressed = (p5, event) => {\n        try {\n            if (event.type == \"mousedown\") {\n                if (this.main_polygon.click()) {\n                    // Need to indicate to Chord player to change Chords\n                    this.updateScaleState(this.scale);\n                    return;\n                }\n                // check for clicks on all polygons\n                for (var p of this.neighbors) {\n                    if (p && p.click() && !p.animation.active) {\n                        this.prepareChangeMainScale(p5, p);\n                        return;\n                    }\n                }\n            }\n        } catch (err) {\n            console.error(err);\n        }\n    };\n\n    this.mouseReleased = (p5, event) => {\n        if (event.type == \"mouseup\") {\n            // check for clicks on all polygons\n            for (var p of this.neighbors) {\n                if (\n                    p &&\n                    p.click() &&\n                    !p.animation.active &&\n                    this.preview_polygons_ready\n                ) {\n                    this.finishChangeMainScale(p5, p);\n                    return;\n                }\n            }\n        }\n    };\n\n    this.third_gen_hover = (p5) => {\n        for (var h = 0; h < this.hover_polygons_to_be_removed.length; h++) {\n            this.hover_polygons.splice(this.hover_polygons_to_be_removed[h], 1);\n            this.hover_polygons_to_be_removed.splice(\n                this.hover_polygons_to_be_removed.indexOf(h),\n                1\n            );\n            this.hover_polygons_to_be_removed = this.hover_polygons_to_be_removed.map(\n                (x) => x - 1\n            );\n            h--;\n        }\n\n        for (var n of this.neighbors) {\n            var clickData = n.click(p5.mouseX, p5.mouseY, true);\n            if (clickData.start && !n.animation.active) {\n                var add = this.get_new_neighbors(p5, n).new;\n\n                var total_poly = this.neighbors.length;\n                var ind = this.main_polygon.getNeighbors().findIndex((x) => x.isMatching(n));\n                var pos = n.getNeighborPositions(n.x, n.y, n.radius, undefined, undefined, p5.PI / 2 + (2 * p5.PI * (ind - 1)) / total_poly, p5.PI / 2 + (2 * p5.PI * (ind + 1)) / total_poly, add.length)\n\n                for (var p = 0; p < add.length; p++) {\n                    add[p].set([\"x\", n.x], [\"y\", n.y], [\"generated_from\", n]);\n                    add[p].move(\n                        pos[p].x,\n                        pos[p].y,\n                        Helper.default_animation_duration / 2\n                    );\n                }\n\n                this.hover_polygons.push(...add);\n            } else if (clickData.end) {\n                for (var r of this.get_new_neighbors(p5, n).new) {\n                    for (var s = 0; s < this.hover_polygons.length; s++) {\n                        if (\n                            this.hover_polygons[s].isMatching(r) &&\n                            this.hover_polygons[s].generated_from == n\n                        ) {\n                            var _h = this.hover_polygons[s];\n\n                            _h.move(\n                                n.x,\n                                n.y,\n                                Helper.default_animation_duration / 2,\n                                _h.radius,\n                                1,\n                                (id) => {\n                                    this.hover_polygons_to_be_removed.push(id);\n                                }, [s]\n                            );\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    this.prepareChangeMainScale = (p5, p, animation = false) => {\n        this.last_clicked_polygon = p;\n\n        this.hover_polygons = [];\n\n        // convert to array\n        var pl = this.get_new_neighbors(p5, p);\n        this.actually_new_polygons = pl.new;\n        this.preview_polygons = pl.preview;\n\n        // take care of the fanning out (not all the way around)\n        var total_poly = this.neighbors.length;\n        var ind = this.main_polygon\n            .getNeighbors()\n            .findIndex((x) => x.isMatching(p));\n\n        console.log(ind)\n\n        if (ind >= 0) {\n            var positions = p.getNeighborPositions(p.x, p.y, p.radius, undefined, undefined, p5.PI / 2 + (2 * p5.PI * (ind - 1)) / total_poly, p5.PI / 2 + (2 * p5.PI * (ind + 1)) / total_poly, this.actually_new_polygons.length)\n                // var positions = p.getNeighborPositions(\n                //     p.x,\n                //     p.y,\n                //     p5.RADIUS,\n                //     undefined,\n                //     undefined,\n                //     p5.PI / 2,\n                //     p5.PI / 2 + 2 * p5.PI,\n                //     this.actually_new_polygons.length\n                // );\n\n            //position them\n            for (var a_n = 0; a_n < this.actually_new_polygons.length; a_n++) {\n                var pol = this.preview_polygons.find(x => this.actually_new_polygons[a_n].isMatching(x))\n\n                pol.set([\"x\", positions[a_n].x], [\"y\", positions[a_n].y], [\"size\", positions[a_n].size])\n            }\n\n            if (animation) {\n                for (var prev of this.actually_new_polygons) {\n                    var oldx = prev.x;\n                    var oldy = prev.y;\n\n                    prev.set([\"x\", p.x], [\"y\", p.y]);\n                    prev.move(oldx, oldy, prev.size);\n                }\n            }\n\n            this.preview_polygons_ready = true;\n        }\n\n        return;\n    };\n\n    this.updateSizes = (p5) => {\n        var oldps = this.poly_size;\n        this.poly_size = (p5.width + p5.height) / 22;\n        this.poly_size = p5.max((1200) / 22, this.poly_size)\n\n        //background(255);\n        var allPolygons = [this.main_polygon].concat(\n            this.preview_polygons,\n            this.old_neighbors,\n            this.hover_polygons\n        );\n        allPolygons.push(...this.neighbors);\n        allPolygons.push(this.old_main_polygon);\n\n        for (var p of allPolygons) {\n            if (p) p.radius = p.radius / oldps * this.poly_size;\n        }\n\n        var pos = this.main_polygon.getNeighborPositions();\n        for (var g = 0; g < this.neighbors.length; g++) {\n            this.neighbors[g].x = pos[g].x;\n            this.neighbors[g].y = pos[g].y;\n        }\n    }\n\n    this.get_new_neighbors = (p5, p) => {\n        var prev_poly = p.getNeighbors();\n\n        // duplicates between this.neighbors\n        var all_current = this.neighbors.concat([this.main_polygon]);\n        var acc_new_poly = new Set();\n        for (var n = 0; n < all_current.length; n++) {\n            for (var pre = 0; pre < prev_poly.length; pre++) {\n                if (all_current[n].isMatching(prev_poly[pre])) {\n                    prev_poly[pre] = all_current[n];\n                }\n            }\n        }\n\n        // find polygons which are actually new\n        for (var pre = 0; pre < prev_poly.length; pre++) {\n            if (!all_current.includes(prev_poly[pre])) {\n                acc_new_poly.add(prev_poly[pre]);\n            }\n        }\n\n        return {\n            new: Array.from(acc_new_poly),\n            preview: prev_poly,\n        };\n    };\n\n    this.finishChangeMainScale = (\n        p5,\n        new_main,\n        all_duration = Helper.default_animation_duration\n    ) => {\n        // p5.push the current polygons into old polygons\n        this.old_neighbors = [...this.neighbors];\n        this.old_main_polygon = this.main_polygon;\n\n        this.main_polygon = new_main;\n        this.neighbors = this.preview_polygons;\n\n        //Handle duplicates\n        this.old_neighbors.splice(this.old_neighbors.indexOf(this.main_polygon), 1);\n\n        // duplicate of main polygon\n        var index = this.neighbors.findIndex((x) => {\n            return this.old_main_polygon.isMatching(x);\n        });\n        if (index !== -1) {\n            this.neighbors[index] = this.old_main_polygon;\n        }\n\n        // Main polygons animation\n        this.main_polygon.move(0.5, 0.5, all_duration, this.poly_size);\n        //this.old_main_polygon.move(width / 2, height / 2, all_duration, 0, 0)\n\n        var positions = this.main_polygon.getNeighborPositions(\n            0.5,\n            0.5,\n            this.poly_size\n        );\n        for (var i = 0; i < this.neighbors.length; i++) {\n            try {\n                this.neighbors[i].move(\n                    positions[i].x,\n                    positions[i].y,\n                    all_duration,\n                    positions[i].size,\n                    1\n                );\n            } catch (error) {}\n        }\n\n        // Neighboring polygons animation\n        for (var old of this.old_neighbors) {\n            if (this.neighbors.findIndex((x) => old.isMatching(x)) === -1) {\n                old.move(\n                    this.old_main_polygon.animation.target.x,\n                    this.old_main_polygon.animation.target.y,\n                    all_duration,\n                    0,\n                    1\n                );\n            }\n        }\n\n        if (this.actually_new_polygons) {\n            for (var prev of this.actually_new_polygons) {\n                if (!prev.animation.active)\n                    prev.move(\n                        this.last_clicked_polygon.x,\n                        this.last_clicked_polygon.y,\n                        1,\n                        0\n                    );\n            }\n        }\n\n        //this.preview_polygons = []\n        this.preview_polygons_ready = false;\n\n        this.updateScaleState(this.main_polygon.scale);\n    };\n\n    this.changeMainScale = (\n        p5,\n        new_main,\n        all_duration = Helper.default_animation_duration,\n        animation = false\n    ) => {\n        this.prepareChangeMainScale(p5, new_main, animation);\n        this.finishChangeMainScale(p5, new_main, all_duration);\n    };\n\n    this.updateScaleState = (newScale) => {\n        this.scale = newScale;\n        setScaleData(newScale);\n        window.setFirebaseScaleData(newScale)\n    }\n\n    this.jumpToScale = (newScale) => {\n        if (newScale !== this.scale) {\n            this.updateScaleState(newScale)\n            this.initPolygons();\n        }\n    };\n\n    this.draw = (p5) => {\n        try {\n            p5.push();\n            p5.ellipseMode(p5.RADIUS);\n\n            for (var h = 0; h < this.hover_polygons.length; h++) {\n                this.hover_polygons[h].draw(false);\n            }\n\n            //background(255);\n            var allPolygons = [this.main_polygon].concat(\n                this.preview_polygons,\n                this.old_neighbors\n            );\n            allPolygons.push(...this.neighbors);\n            allPolygons.push(this.old_main_polygon);\n\n            //draw all the polygons\n            for (var p of allPolygons) {\n                if (p) {\n                    // p.draw(true, p != this.main_polygon, this.neighbors.includes(p) ? {\n                    //     x: (p.animation.target.x - this.main_polygon.animation.target.x) / 3,\n                    //     y: (p.animation.target.y - this.main_polygon.animation.target.y) / 3\n                    // } : { x: 0, y: 0 });\n                    p.draw(true);\n                }\n                // document.getElementById(\"labels_checkbox\").checked\n            }\n\n            this.third_gen_hover(p5);\n\n            p5.pop();\n        } catch (error) {\n            console.error(error);\n        }\n    };\n}\n\nexport default { Navigator };","import React from 'react';\nimport { useLocation, Link } from \"react-router-dom\";\nimport ROUTES from \"common/Routes\";\nimport classNames from \"classnames\";\n\nimport './style.scss'\n\nconst Tabs = ({ className }) => {\n    const location = useLocation();\n    const routes = {\n        Ensemble: ROUTES.ENSEMBLE,\n        Tablature: ROUTES.TABLATURE,\n        Navigator: ROUTES.NAVIGATOR,\n        Chords: ROUTES.CHORDS,\n        Visualization: ROUTES.SCALENET,\n        About: ROUTES.ABOUT,\n        Account: ROUTES.ACCOUNT,\n    };\n\n    return (\n        <nav className={`workspace__navwrap ${className}`}>\n            <ol className=\"workspace__nav\">\n            {Object.entries(routes).map((nameroute, key) => {\n                return (\n                    <li key={key}\n                        className={classNames(\"workspace__navitem\", nameroute[0], {\n                            \"workspace__navitem--on\": location.pathname === nameroute[1],\n                        })}>\n                        <Link to={nameroute[1]}>\n                            <div className={`icon ${nameroute[0]}`}/>\n                            <div>{nameroute[0]}</div>\n                        </Link>\n                    </li>\n                );\n            })}\n            </ol>\n        </nav>\n    );\n}\n\nexport default Tabs;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Pfivesketch from \"../Navigation/Navigator/Pfivesketch\";\nimport { useSelector } from 'react-redux'\n\nexport const sketchWrapperStyle = {\n    height: '35vh',\n    marginTop: '53px'\n}\n\nconst Wrapper = styled.div`\n`;\n\nconst ScaleNavigator = ({ canvasWrapperRef, navRef, hasActiveRoute }) => {\n    const { isEnsembleMember } = useSelector(state => state.root)\n\n    return (\n        <Wrapper\n            className=\"navigation__scalenav canvas-wrapper\"\n            id=\"canv_container\"\n            ref={canvasWrapperRef}\n            style={hasActiveRoute ? sketchWrapperStyle : {}}>\n            <Pfivesketch navRef={navRef} canvasWrapperRef={canvasWrapperRef} isMember={isEnsembleMember}/>\n        </Wrapper>\n    );\n}\n\nexport default ScaleNavigator;\n","export default __webpack_public_path__ + \"static/media/acoustic.0dbc81ac.svg\";","export default __webpack_public_path__ + \"static/media/diatonic.0d0bf003.svg\";","export default __webpack_public_path__ + \"static/media/harmonic_major.f5365c6f.svg\";","export default __webpack_public_path__ + \"static/media/harmonic_minor.fafa1cf8.svg\";","export default __webpack_public_path__ + \"static/media/hexatonic.8728e1b7.svg\";","export default __webpack_public_path__ + \"static/media/octatonic.b79b79b8.svg\";","export default __webpack_public_path__ + \"static/media/whole_tone.dde05bc6.svg\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Figure from \"react-bootstrap/Figure\";\n\nimport \"./About.scss\";\n\nimport acoustic from \"./shape_svgs/acoustic.svg\";\nimport diatonic from \"./shape_svgs/diatonic.svg\";\nimport harmonic_major from \"./shape_svgs/harmonic_major.svg\";\nimport harmonic_minor from \"./shape_svgs/harmonic_minor.svg\";\nimport hexatonic from \"./shape_svgs/hexatonic.svg\";\nimport octatonic from \"./shape_svgs/octatonic.svg\";\nimport whole_tone from \"./shape_svgs/whole_tone.svg\";\n\nconst About = () => (\n    <div className=\"page-about\">\n        <div>\n            <h2>About</h2>\n\n            <p>\n            <strong>Scale Navigator Dashboard</strong> is a web app for\n            exploring musical harmony! Use it to:\n            </p>\n\n            <ul id=\"activities\">\n            <li>\n                Creatively <strong>compose</strong> music\n            </li>\n            <li>\n                <strong>Improvise</strong> melodies, chords, riffs, progressions,\n                and phrases\n            </li>\n            <li>\n                Learn <strong>music theory</strong> concepts\n            </li>\n            <li>\n                Stay <strong>harmonically synchronized</strong> while jamming in{\" \"}\n                <strong>ensembles</strong> with your friends\n            </li>\n            <li>\n                Connect with <strong>Scale Navigator MIDI VST</strong> to\n                harmonically synchronize your <strong>DAW</strong>\n            </li>\n            </ul>\n\n            <p>\n            Scale Navigator makes harmony accessible by giving users tangible\n            harmonic objects to <em>play with</em>, and placing these objects\n            within an easy-to-understand and easy-to-navigate framework. Even as\n            an instrumentalist, it takes work to physically learn scales /\n            chords before you can actually <em>hear them</em>; and if you can't\n            play an instrument, these things can be locked away. Scale Navigator\n            unlocks these harmonic concepts by giving them form, and by placing\n            them in context.\n            </p>\n\n            <p>\n            Scale Navigator represents scales as icons. A scale icon's\n            polygonal shape indicates its scale class:\n            </p>\n\n            <div id=\"scale_table\">\n            <Figure class=\"scale_fig\">\n                <Figure.Image alt=\"diatonic scale class icon\" src={diatonic} />\n                <Figure.Caption className=\"figurecaption\">\n                <a href=\"https://en.wikipedia.org/wiki/Diatonic_scale\">\n                    diatonic\n                </a>\n                </Figure.Caption>\n            </Figure>\n\n            <Figure class=\"scale_fig\">\n                <Figure.Image alt=\"acoustic scale class icon\" src={acoustic} />\n                <Figure.Caption className=\"figurecaption\">\n                <a href=\"https://en.wikipedia.org/wiki/Acoustic_scale\">\n                    acoustic\n                </a>\n                </Figure.Caption>\n            </Figure>\n\n            <Figure class=\"scale_fig\">\n                <Figure.Image\n                alt=\"harmonic major scale class icon\"\n                src={harmonic_major}\n                />\n                <Figure.Caption className=\"figurecaption\">\n                <a href=\"https://en.wikipedia.org/wiki/Harmonic_major_scale\">\n                    harmonic\n                    <br />\n                    major\n                </a>\n                </Figure.Caption>\n            </Figure>\n\n            <Figure class=\"scale_fig\">\n                <Figure.Image\n                alt=\"harmonic minor scale class icon\"\n                src={harmonic_minor}\n                />\n                <Figure.Caption className=\"figurecaption\">\n                <a href=\"https://en.wikipedia.org/wiki/Minor_scale#Harmonic_minor_scale\">\n                    harmonic\n                    <br />\n                    minor\n                </a>\n                </Figure.Caption>\n            </Figure>\n\n            <Figure class=\"scale_fig\">\n                <Figure.Image\n                alt=\"whole tone scale class icon\"\n                src={whole_tone}\n                />\n                <Figure.Caption className=\"figurecaption\">\n                <a href=\"https://en.wikipedia.org/wiki/Whole_tone_scale\">\n                    whole\n                    <br />\n                    tone\n                </a>\n                </Figure.Caption>\n            </Figure>\n\n            <Figure class=\"scale_fig\">\n                <Figure.Image alt=\"octatonic scale class icon\" src={octatonic} />\n                <Figure.Caption className=\"figurecaption\">\n                <a href=\"https://en.wikipedia.org/wiki/Octatonic_scale\">\n                    octatonic\n                </a>\n                </Figure.Caption>\n            </Figure>\n\n            <Figure class=\"scale_fig\">\n                <Figure.Image alt=\"hexatonic scale class icon\" src={hexatonic} />\n                <Figure.Caption className=\"figurecaption\">\n                <a href=\"https://en.wikipedia.org/wiki/Hexatonic_scale#Augmented_scale\">\n                    hexatonic\n                </a>\n                </Figure.Caption>\n            </Figure>\n            </div>\n\n            <p>A scale icon's color indicates its root:</p>\n            <br />\n\n            <div id=\"circle_container\">\n            <div class=\"root_heading\" id=\"root_f\">\n                F\n            </div>\n            <div class=\"root_heading\" id=\"root_c\">\n                C\n            </div>\n            <div class=\"root_heading\" id=\"root_g\">\n                G\n            </div>\n            <div class=\"root_heading\" id=\"root_d\">\n                D\n            </div>\n            <div class=\"root_heading\" id=\"root_a\">\n                A\n            </div>\n            <div class=\"root_heading\" id=\"root_e\">\n                E\n            </div>\n            <div class=\"root_heading\" id=\"root_b\">\n                B\n            </div>\n            <div class=\"root_heading\" id=\"root_fs\">\n                F#\n            </div>\n            <div class=\"root_heading\" id=\"root_df\">\n                D\n            </div>\n            <div class=\"root_heading\" id=\"root_af\">\n                A\n            </div>\n            <div class=\"root_heading\" id=\"root_ef\">\n                E\n            </div>\n            <div class=\"root_heading\" id=\"root_bf\">\n                B\n            </div>\n            </div>\n\n            <p>\n            Users can travel (or \"modulate\") to a new scale by clicking on its\n            scale icon in the Navigator interface. The current selected scale is\n            in the center, radially surrounded by adjacent neighbor scales. Each\n            neighbor scale shares all notes in common with the current scale\n            save for one, i.e., each neighbor scale differs from the current\n            scale by a single note. Enable autopilot (in the infobox below the\n            Navigator interface) to automatically select a new current\n            scale&mdash;adjust the autopilot slider to change the rate at which\n            the autopilot selects a new scale.\n            </p>\n\n            <p>\n            The Navigator interface displays the local harmonic context as it\n            relates to the current selected scale. A bird's eye view of all of\n            the scales as they relate to one another can be seen in the{\" \"}\n            <Link to=\"scale-network\">\n                Visualization tab\n            </Link>\n            , which desplays all of the scale icons in a network graph.\n            </p>\n\n            <p>\n            Make music with your friends by creating or joining an ensemble in\n            the{\" \"}\n            <Link to=\"ensemble\">\n                Ensemble tab\n            </Link>\n            .\n            </p>\n\n            <p>\n            Select an instrument with which to compose or improvise music in the{\" \"}\n            <Link to=\"tablature\">\n                Tablature tab\n            </Link>\n            .\n            </p>\n\n            <p>\n            In the words of Dmitri Tymoczko, \"New scales [provide] access to new\n            chords, while new chords, in turn, [suggest] new scales.\" Use the{\" \"}\n            <Link to=\"chords\">\n                Chords tab\n            </Link>{\" \"}\n            to generate chords within the context of the current selected scale.\n            </p>\n\n            <h2>Further Reading</h2>\n            <p>\n            Scale Navigator was the subject of my graduate thesis at California\n            Institute of the Arts:{\" \"}\n            <a href=\"https://mtiid.calarts.edu/wp-content/uploads/2020/03/Turczan_MFA_Thesis.pdf\">\n                The Scale Navigator: A Synesthetic Interface for Manipulating\n                Harmony in Composition, Performance and Installation\n            </a>{\" \"}\n            describes not only Scale Navigator's design, but also its use as a\n            music compositional assistive tool, a performance tool, and as a\n            framework&mdash;and interface&mdash;for interactive multimedia\n            installations. I later presented this work at the{\" \"}\n            <a href=\"https://www.nime.org/proceedings/2019/nime2019_paper020.pdf\">\n                New Interfaces for Musical Expression conference\n            </a>{\" \"}\n            in June 2019.\n            </p>\n            <p>\n            Scale Navigator is built entirely on the foundation laid by Dmitri\n            Tymoczko in his paper{\" \"}\n            <a href=\"https://dmitri.mycpanel.princeton.edu/files/publications/debussy.pdf\">\n                Scale Networks and Debussy\n            </a>\n            . To read more about scale networks, this time in a jazz context,\n            check out{\" \"}\n            <a href=\"https://music.arts.uci.edu/abauer/3.1/notes/Chord-Scale_Networks.pdf\">\n                Chord-Scale Networks in the Music and Improvisations of Wayne\n                Shorter\n            </a>{\" \"}\n            by Garrett Michaelsen.\n            </p>\n\n            <p style={{ \"text-align\": \"right\" }}>\n            &mdash; Nathan Turczan, September 2021\n            </p>\n\n            <h2>Credits</h2>\n            <ul id=\"credits\">\n            <li>\n                <a href=\"https://yobro.icu/\">Nate Ben</a>\n            </li>\n            <li>\n                <a href=\"https://bboettcher3.github.io/\">Brady Boettcher</a>\n            </li>\n            <li>\n                <a href=\"https://popleap.dev/\">Scott Devereux</a>\n            </li>\n            <li>\n                <a href=\"https://nathan.ho.name/\">Nathan Ho</a>\n            </li>\n            <li>\n                <a href=\"https://colinhonigman.com/\">Colin Honigman</a>\n            </li>\n            <li>\n                <a href=\"https://github.com/mjmaurer\">Michael Maurer</a>\n            </li>\n\n            <li>\n                <a href=\"https://github.com/rudytak\">Ondej Sedlek</a>\n            </li>\n            <li>\n                <a href=\"https://dexterjshepherd.com/\">Dexter Shepherd</a>\n            </li>\n            <li>\n                <a href=\"https://nathanturczan.com\">Nathan Turczan</a>\n            </li>\n            </ul>\n        </div>\n    </div>\n);\n\nexport default  About\n","import React from 'react';\nimport { withFirebase } from '../../Firebase';\nimport styled from 'styled-components';\n\nconst Button = styled.button`\n    background: #ff8080;\n    color: #fff;\n    border-radius: 9px;\n    text-align: center;\n    width: 139px;\n    height: 40px;\n    font-weight: bold;\n    margin: 12px auto 30px;\n    display: block;\n`\n\nconst SignOutButton = ({ firebase }) => (\n    <Button onClick={firebase.doSignOut}>\n        Sign Out\n    </Button>\n);\n\nexport default withFirebase(SignOutButton);\n","import React from 'react';\nimport { useDispatch } from 'react-redux'\nimport { compose } from 'recompose';\nimport { withAuthentication, AuthUserContext } from '../../Session';\nimport SignOutButton from '../SignOut'\nimport { Link } from 'react-router-dom';\nimport ROUTES from 'common/Routes';\nimport styled, { css } from 'styled-components';\nimport UserImage from './user.png'\n\nconst Wrapper = styled.div`\n    color: #ffffff;\n`;\n\nconst Button = styled.button`\n    background: #FFDE6A;\n    border-radius: 9px;\n    text-align: center;\n    width: 139px;\n    height: 40px;\n    color: black;\n    font-weight: bold;\n    margin: 12px auto 30px;\n    display: block;\n\n    ${props => props.alt && css`\n        background: transparent;\n        border: 1px solid #FFDE6A;\n        color: #FFDE6A;\n    `}\n`;\n\nconst UserName = styled.div`\n    font-weight: bold;\n    font-size: 22px;\n    margin-bottom: 12px;\n`;\n\nconst EmailVerify = styled.div`\n    font-size: 12px;\n    margin: 12px 0 5vh;\n`;\n\nconst UserDetailsWrapper = styled.div`\n    padding: 20px 0;\n\n    &:before {\n        content: '';\n        display: block;\n        margin: 0 auto;\n        width: 100px;\n        height: 100px;\n        background: url(${UserImage}) no-repeat center;\n        background-size: cover;\n        border-radius: 50%;\n        overflow: hidden;\n        margin-bottom: 22px;\n    }\n`;\n\nconst Account = () => {\n    const dispatch = useDispatch()\n    const toggleMenu = () => dispatch({ type: 'SET_IS_MOBILE_MENU_VISIBLE', payload: false })\n\n    return (\n        <Wrapper>\n            <AuthUserContext.Consumer>\n                {authUser =>\n                    authUser ? (\n                        <UserDetails user={authUser}/>\n                    ) : (\n                        <>\n                            <p>You are currently not signed in</p>\n                            <Link to={ROUTES.SIGN_IN}><Button onClick={toggleMenu}>Sign In </Button></Link>\n                            <p>OR</p>\n                            <Link to={ROUTES.SIGN_UP}><Button onClick={toggleMenu} alt>Sign Up </Button></Link>\n                        </>\n                )}\n            </AuthUserContext.Consumer>\n        </Wrapper>\n    )\n}\n\nfunction UserDetails({ user }) {\n    const { userName, email, emailVerified, accountType } = user;\n    const EmailVerifiedText = emailVerified ? 'Email is Verified' : 'Email is not Verified'\n\n    return (\n        <UserDetailsWrapper>\n            <UserName>{userName}</UserName>\n            <div>{email}</div>\n            <div>Account Type: <span style={{color:'red'}}> {accountType}</span> </div>\n            <EmailVerify>{EmailVerifiedText}</EmailVerify>\n            <SignOutButton/>\n        </UserDetailsWrapper>\n    );\n}\n\nexport default compose(withAuthentication)(Account);\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport Drawer from 'rc-drawer';\nimport About from '../Workspace/About/About';\nimport Account from '../Workspace/Account';\nimport styled from 'styled-components';\n\nimport './style.scss'\n\nconst Content = styled.div`\n    padding-top: 12px;\n    border-top: 1px solid #eee;\n    text-align: center;\n`;\n\nconst MobileMenu = () => {\n    const dispatch = useDispatch()\n    const { isMobileMenuVisible } = useSelector(state => state.root)\n    const toggleMenu = () => dispatch({ type: 'SET_IS_MOBILE_MENU_VISIBLE', payload: !isMobileMenuVisible })\n    const [activePage, setPage] = React.useState('none')\n\n    return (\n        <div className=\"mobile-menu-wrapper\">\n            <button onClick={()=>{ toggleMenu(); setPage('none'); }}/>\n\n            <Drawer\n                placement=\"right\"\n                open={isMobileMenuVisible}\n                width=\"100vw\"\n                className=\"mobile-nav-drawer\"\n            >\n                <div>\n                    <button className=\"drawer-close\" onClick={toggleMenu}>&times;</button>\n                </div>\n\n                <ul>\n                    <li onClick={()=>setPage('account')}>\n                        Account\n                    </li>\n                    <li onClick={()=>setPage('about')}>\n                        About\n                    </li>\n                </ul>\n\n                <Content>\n                    {activePage === 'account' && <Account/>}\n                    {activePage === 'about' && <About/>}\n                </Content>\n\n            </Drawer>\n        </div>\n    );\n}\n\nexport default MobileMenu;\n","import { useState, useEffect } from \"react\";\n\nfunction useWindowSize() {\n    // Initialize state with undefined width/height so server and client renders match\n    // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n    const [windowSize, setWindowSize] = useState({\n      width: undefined,\n      height: undefined,\n    });\n    useEffect(() => {\n      // Handler to call on window resize\n      function handleResize() {\n        // Set window width/height to state\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n      // Add event listener\n      window.addEventListener(\"resize\", handleResize);\n      // Call handler right away so state gets updated with initial window size\n      handleResize();\n      // Remove event listener on cleanup\n      return () => window.removeEventListener(\"resize\", handleResize);\n    }, []); // Empty array ensures that effect is only run on mount\n    return windowSize;\n}\n\nexport default useWindowSize\n","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11, _path12, _path13, _path14, _path15, _path16, _path17, _path18, _path19, _path20, _path21;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 589 132\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.2812 0.835938H19.1758C9.33203 0.835938 0.964844 6.32031 0.964844 15.0039C0.964844 15.3203 0.964844 15.6016 1 15.918C1.73828 26.3945 20.6523 30.2969 28.668 36.0625C30.8125 37.6094 32.4648 39.7188 32.4648 41.4062C32.4648 42.8477 31.2344 43.9375 28 44.0078H27.8242C21.8828 44.0078 6.83594 38.6992 4.72656 27.3086L1.07031 42.7773C5.21875 46.6445 12.4961 49 19.5273 49C29.3359 49 38.7578 44.4648 38.7578 33.3203C38.7578 22.3867 17.3125 18.5898 10.0703 12.4023C8.27734 10.8555 7.50391 9.44922 7.50391 8.32422C7.50391 6.25 9.96484 4.94922 13.2695 4.94922C19.1406 4.94922 27.6133 8.99219 29.6875 19.9609L38.582 8.57031C32.8164 3.19141 25.75 0.835938 19.2812 0.835938Z\",\n    fill: \"white\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M67.0938 0.554688H67.0234C54.5781 0.554688 43.0117 8.88672 42.2031 22.8086C42.168 23.2305 42.168 23.6875 42.168 24.1094C42.168 37.0117 52.1875 49 73.2109 49L83.2656 32.3359C77.4648 34.7969 72.5781 35.8516 68.4648 35.8516C56.0547 35.8516 51.168 26.2188 51.168 17.5352C51.168 11.6992 53.3477 6.32031 56.9688 4.49219C58.2695 3.82422 59.6055 3.54297 60.9062 3.54297C68.5703 3.54297 75.8125 13.7734 75.918 21.6484L85.5859 7.65625C80.1016 2.80469 73.4922 0.589844 67.0938 0.554688Z\",\n    fill: \"white\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M96.0273 0.800781C96.8008 2.41797 97.6094 4.28125 98.4531 6.35547L82.5625 49H89.2773C88.082 47.6641 87.0625 45.8711 87.0625 44.0078C87.0625 43.4102 87.168 42.8477 87.3789 42.25L90.6836 33.3906C98.3125 33.4258 108.438 37.3633 111.215 49H125.664L109.492 0.800781H96.0273ZM99.7188 9.23828C103.832 19.2578 108.613 32.3711 110.441 41.8984C107.629 37.2227 102.004 31.5977 91.457 31.3867L99.7188 9.23828Z\",\n    fill: \"white\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M130.656 0.800781C132.449 5.58203 132.695 9.51953 132.695 14.4766V35.3945C132.695 40.3164 132.449 44.2188 130.656 49H184.516V34.9023C179.734 42.5664 172.141 47.2422 162.648 47.2422H145.246V0.800781H130.656ZM153.051 0.800781C154.844 5.54688 155.125 9.48438 155.125 14.4062V20.2422C155.125 25.1992 154.879 29.1367 153.051 33.9531H184.516V19.5742C180.965 26.5 175.023 31.7383 167.676 32.1602V20.5586C170.734 17.5 173.582 16.5859 175.832 16.5859C178.188 16.5859 179.91 17.5703 180.613 18.168V11.875H179.875C172.703 11.875 169.117 16.2344 167.676 18.7656V2.55859C174.461 2.66406 179.945 3.50781 183.496 10.6445V0.800781H153.051Z\",\n    fill: \"white\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M207.297 0.800781C209.055 5.58203 209.336 9.48438 209.336 14.3711V35.4297C209.336 40.3164 209.055 44.2188 207.297 49H223.926C222.133 44.2188 221.852 40.3164 221.852 35.4297V14.3711C221.852 13.1055 221.887 11.9102 221.957 10.7148C226.598 18.6953 234.719 34.6211 234.719 49H249.273C247.516 44.2188 247.234 40.3164 247.234 35.4297V14.3711C247.234 9.48438 247.516 5.58203 249.273 0.800781H232.645C234.227 5.01953 234.613 8.53516 234.684 12.7188H234.719V34.1992C231.344 22.3867 225.191 11.6289 222.309 6.95312C222.625 4.98438 223.117 2.98047 223.926 0.800781H207.297Z\",\n    fill: \"white\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M267.449 0.800781C268.223 2.41797 269.031 4.28125 269.875 6.35547L253.984 49H260.699C259.504 47.6641 258.484 45.8711 258.484 44.0078C258.484 43.4102 258.59 42.8477 258.801 42.25L262.105 33.3906C269.734 33.4258 279.859 37.3633 282.637 49H297.086L280.914 0.800781H267.449ZM271.141 9.23828C275.254 19.2578 280.035 32.3711 281.863 41.8984C279.051 37.2227 273.426 31.5977 262.879 31.3867L271.141 9.23828Z\",\n    fill: \"white\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M288.016 0.800781L304.047 49H317.477C316.984 47.875 316.422 46.6445 315.859 45.3086L332.945 0.800781H323.137C325.773 2.875 327.285 5.30078 327.285 7.48047C327.285 8.04297 327.215 8.57031 327.004 9.09766L314.418 41.9336C309.145 29.2422 302.465 10.5391 302.465 1.15234V0.800781H288.016Z\",\n    fill: \"white\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M337.586 0.800781C339.379 5.58203 339.66 9.48438 339.66 14.3711V35.4297C339.66 40.3164 339.379 44.2188 337.586 49H354.25C352.492 44.2188 352.211 40.3164 352.211 35.4297V14.3711C352.211 9.48438 352.492 5.58203 354.25 0.800781H337.586Z\",\n    fill: \"white\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M381.848 0.835938H381.707C369.824 0.835938 358.785 9.23828 358.047 23.2656C358.012 23.7227 358.012 24.1797 358.012 24.6719C358.012 33.4609 362.477 41.8984 371.652 46.3633C375.238 48.0859 379.105 49 382.832 49C387.086 49 391.129 47.8398 394.293 45.4844L401.078 49C401.078 41.0898 401.148 33.25 401.148 25.3047H383.676C390.566 29.4883 392.816 33.6367 393.344 36.9766C391.938 38.2422 390.109 38.7344 388.141 38.7344C385.398 38.7344 382.375 37.75 379.879 36.4492C371.898 32.2656 367.293 23.125 367.293 15.7422V15.0742C367.539 7.72656 370.352 4.87891 373.973 4.87891C380.23 4.87891 388.879 13.5625 390.32 22.1055L399.566 7.97266C394.328 3.12109 387.965 0.835938 381.848 0.835938Z\",\n    fill: \"white\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M418.41 0.800781C419.184 2.41797 419.992 4.28125 420.836 6.35547L404.945 49H411.66C410.465 47.6641 409.445 45.8711 409.445 44.0078C409.445 43.4102 409.551 42.8477 409.762 42.25L413.066 33.3906C420.695 33.4258 430.82 37.3633 433.598 49H448.047L431.875 0.800781H418.41ZM422.102 9.23828C426.215 19.2578 430.996 32.3711 432.824 41.8984C430.012 37.2227 424.387 31.5977 413.84 31.3867L422.102 9.23828Z\",\n    fill: \"white\"\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M443.898 0.800781V14.8984C447.379 9.0625 452.266 5.33594 457.504 3.68359V35.3242C457.504 40.2461 457.223 44.1836 455.43 49H472.094C470.301 44.1836 470.055 40.2461 470.055 35.3242V3.68359C475.293 5.33594 480.145 9.0625 483.625 14.8984V0.800781H443.898Z\",\n    fill: \"white\"\n  })), _path12 || (_path12 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M516.918 0.800781C496.773 0.800781 486.191 13.9492 486.191 26.5352C486.191 37.9961 495.051 49 513.438 49C533.582 49 544.164 35.8516 544.164 23.2656C544.164 11.8047 535.34 0.800781 516.918 0.800781ZM507.531 4.42188H507.566C519.484 4.42188 532.984 22.5273 532.984 34.7617C532.984 38.9805 531.367 42.5312 527.5 44.3594C525.988 45.0625 524.406 45.4141 522.824 45.4141C510.906 45.4141 497.406 27.3438 497.406 15.1094C497.406 10.8555 499.023 7.30469 502.926 5.47656C504.402 4.73828 505.949 4.42188 507.531 4.42188Z\",\n    fill: \"white\"\n  })), _path13 || (_path13 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M547.82 0.800781C549.613 5.58203 549.859 9.48438 549.859 14.4062V35.3242C549.859 40.2461 549.613 44.1836 547.82 49H564.449C562.656 44.1836 562.375 40.2461 562.375 35.3242V1.99609C572.465 2.13672 576.684 8.07812 576.684 14.0898C576.684 20.3125 572.148 26.6406 564.906 26.6406C564.906 37.1875 571.727 49 581.711 49L588.109 37.1875C586.457 37.9258 584.84 38.2422 583.293 38.2422C577.527 38.2422 572.711 33.6719 569.512 28.2578C582.977 27.6602 588.742 20.9102 588.742 14.2656C588.742 7.48047 582.766 0.800781 573.027 0.800781H547.82Z\",\n    fill: \"white\"\n  })), _path14 || (_path14 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M370.012 42.4023C359.953 42.4219 346.809 47.2461 335.402 54.0039C327.414 58.75 320.227 64.4727 315.559 70.0977C312.043 74.375 309.914 78.6328 309.914 82.4805C309.914 83.9062 310.207 85.2734 310.832 86.5625C312.883 90.9766 318.586 94.2969 329.328 95.8398H329.445C329.953 95.8398 330.363 95.4688 330.461 95C330.461 94.9414 330.48 94.9023 330.48 94.8438C330.48 94.3555 330.109 93.9258 329.602 93.8672C319.621 92.4609 314.387 89.5117 312.609 85.7227C312.121 84.707 311.887 83.6133 311.887 82.4609C311.887 79.1016 313.84 75.2734 317.043 71.3672C321.574 65.918 328.586 60.3906 336.379 55.7422C347.59 49.1016 360.441 44.3164 370.012 44.3164C374.562 44.3164 378.352 45.3906 380.891 47.8711C382.863 49.7852 383.879 52.3633 384.211 55.4102C384.27 56.0156 384.309 56.6406 384.309 57.2852C384.309 63.2422 381.828 70.5273 377.902 77.8906C376.047 81.4453 373.801 85.0195 371.359 88.4375C365.812 89.9414 359.973 91.7578 354.504 93.8281C349.973 95.5273 345.695 97.4023 342.062 99.3359C348.156 83.3789 355.676 68.8086 355.715 68.7891C355.793 68.6328 355.812 68.4766 355.812 68.3203C355.812 67.9492 355.637 67.6172 355.305 67.4219C355.148 67.3633 354.992 67.3242 354.855 67.3242C354.484 67.3242 354.152 67.5195 353.938 67.8516C353.898 67.9297 345.656 83.9062 339.406 100.84C335.793 103.027 333.078 105.312 331.809 107.578C331.066 108.848 330.754 110.137 330.754 111.309C330.754 111.484 330.754 111.641 330.773 111.797C330.871 112.637 331.145 113.477 331.672 114.238C332.141 114.941 332.785 115.547 333.625 116.016C334.777 116.68 336.281 117.07 338.059 117.07C338.508 117.07 338.957 117.031 339.426 116.992C346.047 116.348 354.406 110.566 362.258 102.559C365.91 98.8086 369.406 94.5703 372.59 90.1758C381.086 87.9102 388.742 86.5039 392.902 86.4258C393.449 86.4258 393.879 85.957 393.879 85.4297C393.879 84.8633 393.41 84.4531 392.902 84.4531C388.938 84.5508 382.062 85.7227 374.309 87.6758C376.262 84.7852 378.098 81.7773 379.641 78.8281C383.703 71.1914 386.262 63.5742 386.262 57.2656C386.262 56.5625 386.223 55.8594 386.164 55.1758C385.793 51.6992 384.582 48.7109 382.258 46.4648C379.406 43.6328 375.148 42.4023 370.129 42.4023H370.012ZM369.504 91.0156C366.789 94.6289 363.84 98.0469 360.852 101.152C353.332 108.887 345.344 114.414 339.23 115.02C338.82 115.059 338.41 115.078 338.039 115.078C336.613 115.078 335.441 114.805 334.602 114.277C334.055 114.004 333.625 113.574 333.293 113.105C332.98 112.676 332.785 112.129 332.746 111.562C332.727 111.445 332.727 111.328 332.727 111.191C332.727 110.391 333 109.492 333.488 108.555C334.387 107.012 336.066 105.43 338.312 103.867C337.316 106.719 336.398 109.57 335.598 112.363C335.578 112.461 335.559 112.559 335.559 112.656C335.559 113.086 335.832 113.477 336.242 113.613C336.32 113.633 336.418 113.652 336.496 113.652C336.926 113.652 337.336 113.34 337.453 112.91C338.469 109.395 339.699 105.762 341.008 102.168C344.895 99.9023 349.836 97.6953 355.168 95.7031C359.836 93.9648 364.738 92.3828 369.504 91.0156Z\",\n    fill: \"#FEDD73\"\n  })), _path15 || (_path15 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M404.621 77.2852C404.289 77.2852 403.977 77.4414 403.762 77.7344C403.762 77.7344 403.254 78.5352 402.355 79.8438C401.379 79.4922 400.227 79.1602 399.074 79.1602C398.215 79.1602 397.336 79.3555 396.535 79.9023C393.117 82.1094 390.188 87.9688 389.113 92.0312C388.82 93.125 388.684 94.0625 388.684 94.8438C388.684 95.8398 388.977 96.6406 389.523 97.0117C389.777 97.207 390.09 97.3242 390.422 97.3242C390.637 97.3242 390.871 97.2852 391.105 97.1875C392.473 96.7773 396.066 92.1289 399.328 87.6367C398.352 89.9219 397.414 92.3242 396.574 94.668C395.461 97.6562 394.621 100.527 394.191 102.734C394.055 103.535 393.996 104.121 393.996 104.766C393.996 106.25 394.406 107.305 395.383 107.695C395.48 107.754 395.559 107.754 395.715 107.793C395.832 107.812 395.969 107.832 396.105 107.832C397.941 107.832 400.754 105.625 403.762 102.441C409.504 96.4062 416.223 87.207 416.789 86.3672C416.887 86.1914 416.926 86.0156 416.926 85.8398C416.926 85.5078 416.789 85.1758 416.516 84.9609C416.359 84.8633 416.184 84.8242 416.008 84.8242C415.656 84.8242 415.324 84.9805 415.109 85.293C414.602 86.1328 407.961 95.1367 402.355 101.094C399.66 103.926 397.297 105.898 396.242 105.898C396.203 105.898 396.164 105.879 396.125 105.879C395.969 105.801 395.891 105.508 395.891 105.039C395.891 104.531 395.969 103.945 396.105 103.047C396.477 100.996 397.375 98.2227 398.391 95.3711C400.91 88.3789 404.562 80.6055 405.441 78.7695C405.539 78.6328 405.598 78.457 405.598 78.2812C405.598 77.9688 405.441 77.6367 405.168 77.4609C404.992 77.3438 404.797 77.2852 404.621 77.2852ZM399.074 81.1523C399.777 81.1523 400.52 81.3281 401.203 81.543C397.883 86.4062 392.277 94.3359 390.656 95.2734V94.8438C390.656 94.2383 390.793 93.4375 391.027 92.5586C392.004 88.8086 394.621 83.457 397.609 81.543C398.039 81.25 398.547 81.1523 399.074 81.1523Z\",\n    fill: \"#FEDD73\"\n  })), _path16 || (_path16 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M454.484 44.2773H454.465C453.508 44.2773 452.043 46.2109 450.266 49.4141C447.98 53.5742 444.855 60.0391 441.828 66.875C437.805 72.7344 433.234 79.1406 428.898 85.2344C426.008 89.2969 423.176 93.2422 420.695 96.7969C419.582 95.0195 417.941 93.1055 415.656 91.1719L415.52 91.0742C415.207 90.7617 415.07 90.3516 415.07 89.9023C415.07 89.707 415.09 89.4727 415.148 89.2578V89.2188C415.383 88.3203 415.988 87.3438 416.828 86.3477C417.062 86.0742 417.336 85.8008 417.629 85.4688C420.148 82.8906 422.473 81.8555 423.918 81.8555C424.289 81.8555 424.523 81.9141 424.699 82.0508C424.797 82.0898 424.895 82.1875 424.895 82.2852L424.934 82.3242V82.4219C424.934 82.7539 424.699 83.2227 424.191 83.8281C424.016 84.0234 423.938 84.2578 423.938 84.4727C423.938 84.7656 424.055 85.0391 424.289 85.2344C424.465 85.3906 424.68 85.4688 424.895 85.4688C425.188 85.4688 425.48 85.3516 425.695 85.1367C426.496 84.1602 426.906 83.2422 426.906 82.4023C426.906 82.2461 426.887 82.0703 426.848 81.9141L426.809 81.8164C426.672 81.1523 426.301 80.6836 425.734 80.3125C425.266 80.0391 424.621 79.8828 423.918 79.8828C422.004 79.8828 419.152 81.0547 416.223 84.1016C415.891 84.4336 415.578 84.7656 415.285 85.0977C414.309 86.2695 413.566 87.5195 413.293 88.75H413.234C413.137 89.1406 413.078 89.5508 413.078 89.9219C413.078 90.8789 413.41 91.7578 414.172 92.4805C414.211 92.5391 414.309 92.6367 414.406 92.6758C416.867 94.7852 418.508 96.7578 419.445 98.6133C415.188 104.668 412.082 109.492 411.242 111.641V111.738C411.066 112.188 410.969 112.578 410.969 112.93C410.969 113.496 411.242 113.906 411.789 114.121C411.945 114.18 412.141 114.219 412.375 114.219C413.547 114.219 415.559 113.418 417.434 112.012C418.742 111.035 419.992 109.727 420.93 108.125C421.867 106.582 422.473 104.824 422.473 102.793V102.598C422.473 101.387 422.199 100.117 421.672 98.8086C424.328 95.0586 427.375 90.8008 430.48 86.4062C432.961 82.8906 435.52 79.3359 438 75.8203C436.125 80.3516 434.445 84.668 433.293 88.2812C432.102 91.7773 431.398 94.668 431.398 96.5234C431.398 97.5977 431.633 98.3203 432.16 98.6133C432.297 98.6914 432.453 98.7109 432.609 98.7109C432.961 98.7109 433.312 98.5352 433.469 98.2031L433.762 97.7344C437.102 91.543 444.621 77.6953 448.293 77.6953C448.449 77.6953 448.605 77.7344 448.762 77.793C449.055 77.8906 449.172 78.3984 449.172 79.1602C449.172 80.1172 448.996 81.4453 448.82 82.8906C448.645 84.4336 448.449 86.0352 448.449 87.5195C448.449 89.1016 448.664 90.5859 449.367 91.6992C450.109 92.832 451.301 93.5352 453.156 93.5352C456.281 93.5352 461.301 91.5625 469.328 86.3477C469.621 86.1523 469.777 85.8398 469.777 85.5273C469.777 85.332 469.719 85.1562 469.602 85C469.426 84.6875 469.094 84.5312 468.762 84.5312C468.586 84.5312 468.41 84.5703 468.254 84.668C460.363 89.8047 455.852 91.6797 453.371 91.6797C452.199 91.6797 451.477 91.2695 451.047 90.6055C450.578 89.8633 450.422 88.7695 450.422 87.5C450.422 86.1523 450.598 84.6289 450.773 83.1641C450.93 81.7969 451.105 80.4883 451.105 79.3555C451.105 77.6953 450.734 76.4453 449.504 75.957C449.211 75.8398 448.898 75.7812 448.566 75.7812C444.074 75.7812 437.492 86.8555 433.527 93.9844C433.898 92.6758 434.445 90.9375 435.148 88.9258C437.023 83.3203 440.051 75.8203 443.215 68.6523L443.547 67.8516C449.465 59.2383 454.23 51.7578 455.52 47.9688C455.754 47.2656 455.891 46.6406 455.891 46.1133C455.891 45.1953 455.5 44.5703 454.68 44.3164C454.621 44.2773 454.562 44.2773 454.484 44.2773ZM454.074 46.1719V46.1914C454.074 46.2695 453.879 46.6797 453.625 47.3438C453 49.1797 451.477 52.0312 449.328 55.5469C450.266 53.5742 451.184 51.7969 451.984 50.3516C453.352 47.8516 453.977 46.1914 454.074 46.1719ZM420.285 100.859C420.422 101.484 420.52 102.031 420.52 102.656V102.832C420.52 104.395 420.031 105.879 419.25 107.148C418.469 108.457 417.336 109.57 416.223 110.41C415.012 111.348 413.898 111.973 413.137 112.207C413.938 110.234 416.633 106.113 420.285 100.859Z\",\n    fill: \"#FEDD73\"\n  })), _path17 || (_path17 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M488.605 38.5938C488.234 38.5938 487.863 38.8086 487.688 39.1602C484.758 45.3125 475.598 65.7031 469.68 80.6055C466.633 88.2422 464.504 94.5703 464.504 97.2656C464.504 97.9688 464.641 98.418 464.953 98.5938C465.109 98.6719 465.266 98.7109 465.422 98.7109C465.773 98.7109 466.105 98.5352 466.262 98.1836L466.359 98.0859C467.473 95.3711 472.668 87.4414 477.414 83.1836C478.488 82.1875 479.562 81.4062 480.5 80.9766C481.027 80.7227 481.496 80.5859 481.906 80.5859C482.102 80.5859 482.297 80.625 482.473 80.7031C482.648 80.7422 482.785 80.8789 482.941 81.0156C483.156 81.25 483.254 81.5625 483.254 81.9141C483.254 82.2461 483.156 82.6367 482.98 83.0469C482.473 84.2969 481.301 85.8008 479.855 87.2656C478.918 88.2031 477.941 89.082 476.906 89.9805C475.363 90.6836 473.977 91.3867 472.766 92.0312C471.496 92.7344 470.422 93.3984 469.719 93.9648C469.016 94.4727 468.547 94.9414 468.371 95.4102C468.312 95.5273 468.273 95.6641 468.273 95.8203C468.273 95.8984 468.293 95.9961 468.312 96.0742C468.371 96.3086 468.469 96.4844 468.703 96.6797L468.781 96.7773C468.859 96.8359 468.977 96.8555 469.133 96.8555C470.246 96.8555 473.098 95.3516 476.027 93.1641C476.672 92.6953 477.336 92.1875 477.98 91.6602C483.156 89.2773 489.738 86.9141 494.68 86.9141C494.875 86.9141 495.051 86.9336 495.246 86.9336H495.305C495.812 86.9336 496.242 86.4844 496.281 85.9961C496.281 85.4297 495.871 84.9609 495.305 84.9609C495.109 84.9609 494.914 84.9414 494.738 84.9414C490.988 84.9414 486.398 86.1719 482.082 87.7734C483.312 86.4062 484.289 85.0586 484.797 83.7891C485.09 83.125 485.246 82.4805 485.246 81.875C485.246 81.0742 484.973 80.3516 484.426 79.707C484.055 79.3359 483.684 79.0625 483.215 78.8672C482.805 78.6914 482.375 78.6133 481.926 78.6133C481.203 78.6133 480.441 78.8281 479.66 79.1992C478.547 79.707 477.336 80.6055 476.066 81.7188C472.844 84.6289 469.387 89.1797 467.062 92.832C468.098 90.0195 469.621 85.9375 471.496 81.3477C477.414 66.4453 486.574 46.1523 489.465 40C489.523 39.8633 489.562 39.7266 489.562 39.5703C489.562 39.2188 489.367 38.8672 488.996 38.6914C488.879 38.6328 488.742 38.5938 488.605 38.5938Z\",\n    fill: \"#FEDD73\"\n  })), _path18 || (_path18 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M499.836 80.8203C497.902 80.8203 496.164 82.4805 494.816 84.7266C493.508 86.9336 492.57 89.7852 492.199 92.1289L492.16 92.793C492.102 93.3594 492.062 93.8672 492.062 94.3164C492.062 96.875 493.02 97.9688 494.445 98.125C494.543 98.1445 494.641 98.1445 494.738 98.1445C496.34 98.1445 498.41 96.6602 500.129 94.707C501.867 92.793 503.312 90.3516 503.645 88.4375C504.914 88.8867 506.574 89.2578 508.625 89.2578C511.418 89.2578 514.953 88.5742 519.27 86.5039C519.621 86.3281 519.836 85.957 519.836 85.5859C519.836 85.4297 519.797 85.293 519.738 85.1562C519.562 84.8047 519.191 84.5898 518.82 84.5898C518.684 84.5898 518.547 84.6289 518.43 84.6875C514.348 86.6602 511.086 87.2852 508.547 87.2852C506.242 87.2852 504.543 86.7578 503.41 86.2305C503.312 86.0938 503.215 85.8984 503.078 85.7617C503.117 85.4297 503.137 85.1172 503.137 84.8242C503.137 84.1406 503.039 83.5352 502.844 83.0469C502.512 82.1094 501.965 81.4453 501.164 81.1133C500.93 80.9766 500.656 80.9375 500.363 80.8789L500.227 80.8398C500.09 80.8203 499.973 80.8203 499.836 80.8203ZM499.914 82.793C499.953 82.793 500.012 82.793 500.051 82.8125L500.09 82.8516C500.188 82.8516 500.285 82.8906 500.363 82.8906C500.656 83.0469 500.832 83.2812 500.969 83.6914C501.125 84.0234 501.164 84.3945 501.164 84.8633H501.125C501.066 84.8438 501.008 84.8438 500.949 84.8438C500.461 84.8438 500.07 85.2148 499.992 85.7031V85.8203C499.992 86.0938 500.109 86.3477 500.285 86.5625C500.324 86.5625 500.461 86.6992 500.832 86.9727C500.656 87.6758 500.363 88.4375 499.953 89.2773C499.895 89.4141 499.875 89.5508 499.875 89.668C499.875 90.0586 500.09 90.4102 500.461 90.5859C500.52 90.625 500.598 90.625 500.695 90.6836C500.129 91.5625 499.445 92.5586 498.684 93.3984C497.238 94.9805 495.715 96.1719 494.719 96.1719H494.621C494.25 96.1328 493.996 95.6445 493.996 94.5117C493.996 94.1016 494.035 93.5742 494.113 92.9688L494.172 92.4609C494.484 90.3125 495.383 87.7344 496.535 85.7617C497.531 84.043 498.742 82.793 499.914 82.793Z\",\n    fill: \"#FEDD73\"\n  })), _path19 || (_path19 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M530.793 77.2852C530.461 77.2852 530.148 77.4414 529.934 77.7344C529.934 77.7344 529.426 78.5352 528.527 79.8438C527.551 79.4922 526.398 79.1602 525.246 79.1602C524.387 79.1602 523.508 79.3555 522.707 79.9023C519.289 82.1094 516.359 87.9688 515.285 92.0312C514.992 93.125 514.855 94.0625 514.855 94.8438C514.855 95.8398 515.148 96.6406 515.695 97.0117C515.949 97.207 516.262 97.3242 516.594 97.3242C516.809 97.3242 517.043 97.2852 517.277 97.1875C518.645 96.7773 522.238 92.1289 525.5 87.6367C524.523 89.9219 523.586 92.3242 522.746 94.668C521.633 97.6562 520.793 100.527 520.363 102.734C520.227 103.535 520.168 104.121 520.168 104.766C520.168 106.25 520.578 107.305 521.555 107.695C521.652 107.754 521.73 107.754 521.887 107.793C522.004 107.812 522.141 107.832 522.277 107.832C524.113 107.832 526.926 105.625 529.934 102.441C535.676 96.4062 542.395 87.207 542.961 86.3672C543.059 86.1914 543.098 86.0156 543.098 85.8398C543.098 85.5078 542.961 85.1758 542.688 84.9609C542.531 84.8633 542.355 84.8242 542.18 84.8242C541.828 84.8242 541.496 84.9805 541.281 85.293C540.773 86.1328 534.133 95.1367 528.527 101.094C525.832 103.926 523.469 105.898 522.414 105.898C522.375 105.898 522.336 105.879 522.297 105.879C522.141 105.801 522.062 105.508 522.062 105.039C522.062 104.531 522.141 103.945 522.277 103.047C522.648 100.996 523.547 98.2227 524.562 95.3711C527.082 88.3789 530.734 80.6055 531.613 78.7695C531.711 78.6328 531.77 78.457 531.77 78.2812C531.77 77.9688 531.613 77.6367 531.34 77.4609C531.164 77.3438 530.969 77.2852 530.793 77.2852ZM525.246 81.1523C525.949 81.1523 526.691 81.3281 527.375 81.543C524.055 86.4062 518.449 94.3359 516.828 95.2734V94.8438C516.828 94.2383 516.965 93.4375 517.199 92.5586C518.176 88.8086 520.793 83.457 523.781 81.543C524.211 81.25 524.719 81.1523 525.246 81.1523Z\",\n    fill: \"#FEDD73\"\n  })), _path20 || (_path20 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M544.055 79.707C543.645 79.707 543.273 79.9609 543.117 80.3711C543.117 80.3711 539.816 88.8477 538.137 95.3711C538.117 95.4688 538.098 95.5469 538.098 95.6445C538.098 96.0938 538.391 96.4648 538.84 96.582C538.918 96.6016 539.016 96.6211 539.094 96.6211C539.465 96.6211 539.797 96.4062 539.953 96.0742C543.918 87.6758 546.301 85.5664 548.273 85.5664C549.211 85.5664 550.051 86.0547 550.93 86.5625C552.238 87.3047 553.605 88.0664 555.227 88.0664C556.496 88.0664 557.922 87.6172 559.602 86.3281C559.855 86.1328 559.992 85.8398 559.992 85.5469C559.992 85.332 559.934 85.1367 559.797 84.9609C559.602 84.6875 559.328 84.5703 559.035 84.5703C558.82 84.5703 558.586 84.6289 558.391 84.7656C557.199 85.6641 556.184 85.9766 555.266 85.9766C553.996 85.9766 552.922 85.3906 551.906 84.8242C550.637 84.1016 549.406 83.418 548.059 83.418C546.516 83.418 544.816 84.3359 542.707 87.168C543.918 83.75 544.953 81.0742 544.953 81.0742C544.992 80.957 545.012 80.8398 545.012 80.7227C545.012 80.3125 544.777 79.9414 544.387 79.7656C544.27 79.7266 544.172 79.707 544.055 79.707Z\",\n    fill: \"#FEDD73\"\n  })), _path21 || (_path21 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M585.871 49.4727C585.48 49.4727 585.109 49.6875 584.914 50.0781C584.855 50.1367 575.988 68.0859 568.332 80.5469C567.453 80.1367 566.516 79.8438 565.539 79.7656C565.227 79.7266 564.934 79.707 564.641 79.707C563.449 79.707 562.316 80.0195 561.34 80.7422C558.586 82.8125 557.043 86.6016 556.672 89.5117C556.633 89.8828 556.613 90.2539 556.613 90.6055C556.613 91.1328 556.652 91.6211 556.711 92.0312C556.906 92.9297 557.277 93.6328 557.824 94.0039C558.176 94.2578 558.586 94.4141 559.055 94.4141C559.27 94.4141 559.504 94.375 559.738 94.2969C561.809 93.5938 565.207 89.1797 568.898 83.418C569.016 83.4766 569.152 83.4961 569.289 83.4961C569.602 83.4961 569.934 83.3398 570.148 83.0859C570.305 82.8906 570.363 82.6562 570.363 82.4414C570.363 82.1484 570.246 81.8555 570.012 81.6406C571.652 79.0039 573.332 76.1914 574.973 73.3398C567.922 90.7422 559.758 113.477 559.758 124.961C559.758 128.34 560.461 130.742 562.121 131.738C562.297 131.855 562.492 131.895 562.688 131.895C563.039 131.895 563.41 131.699 563.625 131.367C563.723 131.211 563.762 131.035 563.762 130.84C563.762 130.488 563.586 130.137 563.254 129.922C562.121 129.199 561.613 127.441 561.613 124.941C561.613 107.441 585.949 52.9102 586.828 51.0742V51.0156C586.906 50.8789 586.945 50.7031 586.945 50.5469C586.945 50.1562 586.73 49.7656 586.359 49.5703C586.203 49.5117 586.027 49.4727 585.871 49.4727ZM564.758 81.8359C564.934 81.8359 565.109 81.8555 565.305 81.875C565.949 81.9531 566.613 82.1094 567.16 82.3828C563.859 87.6758 560.812 91.6602 559.094 92.2266C559.074 92.2266 559.074 92.2266 559.074 92.2461C559.074 92.2461 559.074 92.2656 559.055 92.2656C558.996 92.2266 558.898 91.9922 558.82 91.6602C558.781 91.4062 558.742 91.1133 558.742 90.7812C558.742 90.4688 558.781 90.1172 558.82 89.7461C559.094 87.3047 560.344 84.1602 562.59 82.4805C563.195 82.0117 563.957 81.8359 564.758 81.8359Z\",\n    fill: \"#FEDD73\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.ac0baefb.svg\";\nexport { ForwardRef as ReactComponent };","export const logoStyle = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    background: 'black',\n    'z-index': 123,\n    padding: '10px 12px 0'\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { compose } from 'recompose'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useLocation } from 'react-router-dom';\nimport ScaleData from \"common/ScaleData\";\nimport PitchClassData from \"common/PitchClassData\";\nimport Navigator from \"./Navigator/Navigator\";\nimport Tabs from \"components/Tabs\";\nimport ScaleNavigator from \"components/ScaleNavigator\";\nimport MobileMenu from \"../MobileMenu\";\nimport useWindowSize from \"../../hooks/device/index\";\nimport styled from 'styled-components';\nimport { ReactComponent as Logo } from '../../assets/logo.svg'\nimport { withFirebase } from '../Firebase';\nimport { logoStyle } from '../../common/LayoutConfig'\nimport \"./Navigation.scss\";\n\nconst MainWrapper = styled.div`\n    height: 100%;\n\n    .canvas-wrapper {\n        height: 80%;\n    }\n    .navinfo {\n        height: 20%;\n    }\n`;\n\nconst HostBanner = styled.div`\n    text-align: center;\n    margin-bottom: -36px;\n`;\n\nconst Navigation = (props) => {\n    const dispatch = useDispatch()\n    const { scaleData, isEnsembleMember, currentRoomId } = useSelector(state => state.root)\n    const { scale } = scaleData;\n\n    const setScaleData = (payload) => {\n        dispatch({ type: 'SET_SCALE_DATA', payload })\n    }\n\n    const location = useLocation();\n    const size = useWindowSize();\n    const isMobile = size.width < 425;\n\n    const canvasWrapperRef = useRef(null);\n    const navRef = useRef(null);\n    window.navRef = navRef;\n\n    useEffect(() => {\n        navRef.current = new Navigator.Navigator({ setScaleData });\n    }, []);\n\n    useEffect(() => {\n        navRef.current.jumpToScale(scale);\n    }, [scale]);\n\n    useEffect(() => {\n        if (isEnsembleMember) getFirebaseScaleData()\n    }, [isEnsembleMember]);\n\n    const setFirebaseScaleData = (scaleData) => {\n        const roomId = currentRoomId\n        props.firebase.room(roomId).update({ scaleData })\n    }\n\n    window.setFirebaseScaleData = setFirebaseScaleData;\n\n    const getFirebaseScaleData = () => {\n        const roomId = currentRoomId\n\n        if (!roomId) { return }\n\n        props.firebase.room(roomId)\n            .onSnapshot(doc => {\n                if (!doc.exists) { return }\n\n                const { scaleData } = doc.data()\n                navRef.current.jumpToScale(scaleData);\n                setScaleData(scaleData)\n            });\n    }\n\n    const hasActiveRoute = isMobile && location.pathname !== '/';\n    const wrapperStyle = hasActiveRoute ? { height: '40vh', overflow: 'hidden' } : {};\n    const navInfoStyle = hasActiveRoute ? { display: 'none' } : {};\n\n    const { authUser } = props\n\n    return (\n        <div className=\"navigation\" style={wrapperStyle}>\n            <div className=\"header-wrapper\" style={hasActiveRoute ? logoStyle : {}}>\n                <div className=\"app-logo\">\n                    <Logo/>\n                </div>\n                {isMobile && <MobileMenu/>}\n            </div>\n\n            <MainWrapper>\n                {authUser &&\n                    <HostBanner>\n                        {authUser.isHost ? (<p>You are currently the host of : <span>{authUser.currentEnsemble}</span></p>)\n                        : (<p>You are currently the guest of : <span>{authUser.currentEnsemble}</span></p>)}\n                    </HostBanner>}\n\n                <ScaleNavigator canvasWrapperRef={canvasWrapperRef} navRef={navRef.current} hasActiveRoute={hasActiveRoute}/>\n\n                <div className=\"navinfo\" style={navInfoStyle}>\n                    <div className=\"navinfo__root\">\n                        <h5>ROOT</h5>\n                        {PitchClassData[ScaleData[scale].root].note}\n                    </div>\n\n                    <div className=\"navinfo__scaleclass\">\n                        <h5>SCALE CLASS</h5>\n\n                        {ScaleData[scale].scale_class\n                            .split(\"_\")\n                            .map((word) => word.charAt(0) + word.slice(1))\n                            .join(\" \")}\n                    </div>\n\n                    <div className=\"navinfo__options\">\n                        <div className=\"navinfo__option\">\n                            <input\n                                type=\"checkbox\"\n                                autoComplete=\"off\"\n                                name=\"autopilot\"\n                                id=\"autopilot_checkbox\"\n                            />\n                            <label htmlFor=\"autopilot\">autopilot</label>\n                        </div>\n\n                        <div className=\"navinfo__option\">\n                            <input\n                                style={{direction: \"rtl\"}}\n                                type=\"range\"\n                                autoComplete=\"off\"\n                                name=\"autopilot_interval\"\n                                id=\"autopilot_interval\"\n                                min=\"1\"\n                                max=\"4\"\n                                step=\"0.01\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n            </MainWrapper>\n\n            <Tabs className=\"mobile-tabs\"/>\n        </div>\n    );\n};\n\n\n\n\nexport default compose(withFirebase)(Navigation);\n","const OutputTypes = {\n  current_scale_pitch_class: {\n      name: \"Scale Pitch Class\",\n      index: \"current_scale_pitch_class\",\n      scaleKey: \"pitch_classes\",\n  },\n  current_scale_root: {\n      name: \"Scale Root\",\n      index: \"current_scale_root\",\n      scaleKey: \"root\",\n  },\n  current_chord_root: {\n      name: \"Chord Root\",\n      index: \"current_chord_root\",\n      scaleKey: \"root\",\n  },\n  current_chord_original_voicing: {\n      name: \"Chord Original Voicing\",\n      index: \"current_chord_original_voicing\",\n      scaleKey: \"root\",\n  },\n  video_index: {\n      name: \"Scale Video Index\",\n      index: \"video_index\",\n      scaleKey: \"video_index\",\n  },\n  chord_prime_form: {\n      name: \"Chord Prime Form\",\n      index: \"chord_prime_form\",\n      scaleKey: \"video_index\",\n  },\n};\n\nexport default OutputTypes;\n","import { useDispatch } from \"react-redux\";\nimport React, { useCallback } from \"react\";\nimport OutputTypes from \"./OutputTypes\";\n\nfunction MidiOutputSettings({\n    index,\n    octave,\n    outputPortId,\n    type,\n    channel,\n    midiOutputMap,\n}) {\n    const dispatch = useDispatch();\n\n    const _modifyMidiData = useCallback(\n        (payload) => dispatch({ type: \"MODIFY_MIDI_OUTPUT\", payload }),\n        [dispatch]\n    );\n    const _removeMidiOutput = useCallback(\n        (payload) => dispatch({ type: \"REMOVE_MIDI_OUTPUT\", payload }),\n        [dispatch]\n    );\n\n    return (\n        <>\n            {index ? <hr></hr> : <></>}\n            <li id=\"midi_output\">\n                <label>\n                    Type\n                    <select\n                        value={type}\n                        onChange={(e) => {\n                            _modifyMidiData({\n                                index,\n                                data: {\n                                    type: e.target.value,\n                                },\n                            });\n                        }}\n                    >\n                        {Object.values(OutputTypes).map((type, i) => {\n                            return (\n                                <option key={i} value={type.index}>\n                                    {type.name}\n                                </option>\n                            );\n                        })}\n                    </select>\n                </label>\n                <label>\n                    Port\n                    <select\n                        value={outputPortId}\n                        onChange={(e) => {\n                            _modifyMidiData({\n                                index,\n                                data: {\n                                    outputPortId: e.target.value,\n                                },\n                            });\n                        }}\n                    >\n                        {Object.values(midiOutputMap).map((port) => {\n                            return (\n                                <option key={port.id} value={port.id}>\n                                    {port.name}\n                                </option>\n                            );\n                        })}\n                    </select>\n                </label>\n                <label>\n                    Channel\n                    <select\n                        value={channel}\n                        onChange={(e) => {\n                            _modifyMidiData({\n                                index,\n                                data: {\n                                    channel: e.target.value,\n                                },\n                            });\n                        }}\n                    >\n                        {[...Array(16).keys()].map((channel) => {\n                            return (\n                                <option key={channel} value={channel}>\n                                    {channel}\n                                </option>\n                            );\n                        })}\n                    </select>\n                </label>\n                <div id=\"octave_controls\">\n                    <p>Octave</p>\n                    <div>\n                        <button\n                            onClick={() => {\n                                octave > 0 &&\n                                    _modifyMidiData({\n                                        index,\n                                        octave: octave - 12,\n                                    });\n                            }}\n                        >\n                            -\n                        </button>\n                        <button\n                            onClick={() => {\n                                octave < 108 &&\n                                    _modifyMidiData({\n                                        index,\n                                        octave: octave + 12,\n                                    });\n                            }}\n                        >\n                            +\n                        </button>\n                    </div>\n                </div>\n                <button\n                    onClick={() => {\n                        _removeMidiOutput(index);\n                    }}\n                >\n                    Remove\n                </button>\n            </li>\n        </>\n    );\n}\n\nexport default MidiOutputSettings;\n","import { useDispatch, useSelector } from \"react-redux\";\nimport React, { useEffect, useCallback } from \"react\";\nimport MidiOutputSettings from \"./MidiOutputSettings\";\nimport OutputTypes from \"./OutputTypes\";\n\nfunction Midi() {\n    const dispatch = useDispatch();\n    const { midiData, midiOutputs } = useSelector(\n        (state) => state.root\n    );\n\n    const _addMidiOutput = useCallback(\n        (payload) => dispatch({ type: \"ADD_MIDI_OUTPUT\", payload }),\n        [dispatch]\n    );\n    const _setMidiData = useCallback(\n        (payload) => dispatch({ type: \"SET_MIDI_DATA\", payload }),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        const isChrome =\n            !!window.chrome &&\n            (!!window.chrome.webstore || !!window.chrome.runtime);\n\n        const isMobile =\n            /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n                navigator.userAgent\n            );\n        _setMidiData({\n            featureEnabled: isChrome && !isMobile,\n        });\n    }, [_setMidiData]);\n\n    const onMidiConnectSuccess = (midiInfo) => {\n        const outputMap = {};\n        for (let output of midiInfo.outputs.values()) {\n            outputMap[output.id] = output;\n        }\n\n        midiInfo.onstatechange = (e) => {\n            // Use new object for useEffect comparison\n            const newMap = {};\n            for (let output of midiInfo.outputs.values()) {\n                newMap[output.id] = output;\n            }\n\n            _setMidiData({\n                midiOutputMap: newMap,\n            });\n        };\n\n        _setMidiData({\n            midiOutputMap: outputMap,\n            midiEnabled: true,\n            midiInfo,\n        });\n    };\n\n    if (midiData.featureEnabled) {\n        return (\n            <div id=\"midi_controls\">\n                {!midiData.midiEnabled && !midiData.midiError && (\n                    <button\n                        id=\"midi_enable\"\n                        onClick={() => {\n                            navigator\n                                .requestMIDIAccess()\n                                .then(onMidiConnectSuccess, (errorCode) =>\n                                    _setMidiData({\n                                        midiError: errorCode,\n                                    })\n                                );\n                        }}\n                    >\n                        Enable Midi Output\n                    </button>\n                )}\n                {midiData.midiEnabled && (\n                    <>\n                        <h3>Midi Outputs:</h3>\n                        <ul id=\"midi_outputs\">\n                            {midiOutputs.map((output, i) => {\n                                return (\n                                    <MidiOutputSettings\n                                        key={i}\n                                        index={i}\n                                        type={output.type}\n                                        channel={output.channel}\n                                        outputPortId={output.outputPortId}\n                                        octave={output.octave}\n                                        midiOutputMap={midiData.midiOutputMap}\n                                    ></MidiOutputSettings>\n                                );\n                            })}\n                        </ul>\n                        <button\n                            id=\"midi_add_output\"\n                            onClick={() =>\n                                _addMidiOutput({\n                                    octave: 0,\n                                    channel: 0,\n                                    type: OutputTypes.current_scale_pitch_class.index,\n                                    outputPortId: \"\",\n                                })\n                            }\n                        >\n                            Add Output\n                        </button>\n                    </>\n                )}\n                {midiData.midiError && (\n                    <p>Midi Connection Error: {midiData.midiError}</p>\n                )}\n            </div>\n        );\n    }\n\n    return <></>;\n}\n\nexport default Midi;\n\n","import \"./Chords.scss\";\nimport React from \"react\";\nimport Vex from \"vexflow\";\nimport ScaleData from \"common/ScaleData\";\nimport styled from 'styled-components';\nimport Midi from \"./Midi\";\n\nconst RootsList = styled.ul`\n    span {\n        display: inline-block;\n        width: 100%;\n        max-width: 80px;\n    }\n`;\n\nconst DEFAULT_SPELLINGS = [\n  \"c\",\n  \"cs\",\n  \"d\",\n  \"ef\",\n  \"e\",\n  \"f\",\n  \"fs\",\n  \"g\",\n  \"af\",\n  \"a\",\n  \"bf\",\n  \"b\",\n];\n\nconst mod = (a, b) => {\n  return ((a % b) + b) % b;\n};\n\nconst isSubset = (a, b) => {\n  for (let x of a) {\n    if (b.indexOf(x) === -1) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst lilypondToVexflow = (note) => {\n  if (note.length === 1) {\n    return note;\n  }\n  return note[0] + { s: \"#\", f: \"b\" }[note[1]];\n};\n\nconst NOTE_NAME_TO_PITCH_CLASS = {\n  c: 0,\n  d: 2,\n  e: 4,\n  f: 5,\n  g: 7,\n  a: 9,\n  b: 11,\n};\n\nconst lilypondToPitchClass = (note) => {\n  const baseNoteName = note[0];\n  let result = NOTE_NAME_TO_PITCH_CLASS[baseNoteName];\n  return result + lilypondToInflection(note);\n};\n\nconst lilypondToInflection = (note) => {\n  if (note.length === 1) {\n    return 0;\n  }\n  return { s: 1, f: -1 }[note[1]];\n};\n\nclass Chords extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n\n    this.togglePlaying = this.togglePlaying.bind(this);\n    this.handleVoiceLeadingSmoothnessChange =\n      this.handleVoiceLeadingSmoothnessChange.bind(this);\n  }\n\n  handleRootMovementChange(i) {\n    return () => {\n      const updatedAllowedIntervals =\n        this.props.chordData.allowedRootIntervals.slice();\n      updatedAllowedIntervals[i] = !updatedAllowedIntervals[i];\n      this.props.setChordData({\n        allowedRootIntervals: updatedAllowedIntervals,\n      });\n    };\n  }\n\n  handleVoiceLeadingSmoothnessChange(event) {\n    this.setState({\n      voiceLeadingSmoothness: event.target.value,\n    });\n  }\n\n  togglePlaying() {\n    this.props.setChordData({ playing: !this.props.chordData.playing });\n  }\n\n  componentDidMount() {\n    this.updateNotation();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.chordData.chord !== prevProps.chordData.chord) {\n      this.updateNotation();\n    }\n  }\n\n  updateNotation() {\n    const container = document.getElementById(\"chords-notation-ctr\");\n    while (container.hasChildNodes()) {\n      container.removeChild(container.lastChild);\n    }\n\n    const chordObject = this.props.chordData.chord;\n    if (!chordObject) {\n      return;\n    }\n    const chord = chordObject.original_voicing;\n\n    const VF = Vex.Flow;\n\n    const width = 150;\n\n    const renderer = new VF.Renderer(container, VF.Renderer.Backends.SVG);\n    renderer.resize(width, 300);\n    const context = renderer.getContext();\n\n    const clefs = {\n      right: \"treble\",\n      left: \"bass\",\n      bass: \"bass\",\n    };\n\n    const staveOptions = { fill_style: \"#000000\" };\n\n    const rightStave = new VF.Stave(0, 0, width, staveOptions);\n    rightStave.addClef(clefs.right);\n    rightStave.setContext(context);\n\n    const leftStave = new VF.Stave(0, 100, width, staveOptions);\n    leftStave.addClef(clefs.left);\n    leftStave.setContext(context);\n\n    const bassStave = new VF.Stave(0, 200, width, staveOptions);\n    bassStave.addClef(clefs.left);\n    bassStave.setContext(context);\n\n    const staves = { left: leftStave, right: rightStave, bass: bassStave };\n\n    const brace = new VF.StaveConnector(rightStave, leftStave).setType(3);\n\n    const spelling = DEFAULT_SPELLINGS.concat(\n      ScaleData[this.props.scaleData.scale].spelling\n    );\n    const pitchClassToNoteName = {};\n    const pitchClassToInflection = {};\n    for (let note of spelling) {\n      const pitchClass = lilypondToPitchClass(note);\n      pitchClassToNoteName[mod(pitchClass, 12)] = lilypondToVexflow(note);\n      pitchClassToInflection[mod(pitchClass, 12)] = lilypondToInflection(note);\n    }\n\n    const accidentals = { left: [], right: [], bass: [] };\n    const keys = { left: [], right: [], bass: [] };\n    chord.forEach((midiNote) => {\n      const noteName = pitchClassToNoteName[midiNote % 12];\n      const inflection = pitchClassToInflection[midiNote % 12];\n      const baseMidiNote = midiNote - inflection;\n      const hand = baseMidiNote >= 60 ? \"right\" : \"left\";\n      let vexflowString = noteName + \"/\" + (Math.floor(baseMidiNote / 12) - 1);\n      if (!noteName) {\n        console.log(chordObject);\n        console.log(this.props.scaleData);\n        console.log(this.props.chordData.chordName);\n      }\n      if (noteName.length === 2) {\n        accidentals[hand].push(noteName[1]);\n      } else {\n        accidentals[hand].push(null);\n      }\n      keys[hand].push(vexflowString);\n    });\n\n    let rootNoteName = pitchClassToNoteName[chordObject.root];\n    if (rootNoteName !== undefined) {\n      keys.bass.push(rootNoteName + \"/3\");\n      if (rootNoteName.length === 2) {\n        accidentals.bass.push(rootNoteName[1]);\n      } else {\n        accidentals.bass.push(null);\n      }\n    }\n\n    for (let hand of [\"left\", \"right\", \"bass\"]) {\n      staves[hand].draw();\n      if (keys[hand].length !== 0) {\n        const voice = new VF.Voice({\n          num_beats: 4,\n          beat_value: 4,\n        });\n        const chord = new VF.StaveNote({\n          clef: clefs[hand],\n          keys: keys[hand],\n          duration: \"w\",\n        });\n        accidentals[hand].forEach((accidentalString, i) => {\n          if (accidentalString === null) {\n            return;\n          }\n          chord.addAccidental(i, new VF.Accidental(accidentalString));\n        });\n        voice.addTickables([chord]);\n        new VF.Formatter().joinVoices([voice]).format([voice], width);\n        voice.draw(context, staves[hand]);\n      }\n    }\n    brace.setContext(context).draw();\n  }\n\n  getPivotModulations() {\n    const chordObject = this.props.chordData.chord;\n\n    if (chordObject === null) {\n      return [];\n    }\n\n    const chordPitchClasses = chordObject.prime_form_kinda;\n    const scales = [];\n\n    for (let scaleName of Object.keys(ScaleData)) {\n      const scale = ScaleData[scaleName];\n      const scalePitchClasses = scale.pitch_classes;\n\n      if (isSubset(chordPitchClasses, scalePitchClasses)) {\n        scales.push(scaleName);\n      }\n    }\n\n    return scales;\n  }\n\n  modulate(scale) {\n    this.props.setScaleData(scale);\n  }\n\n  render() {\n    const elements = [\n      \"Unison\",\n      \"m2, M7\",\n      \"M2, m7\",\n      \"m3, M6\",\n      \"M3, m6\",\n      \"P4, P5\",\n      \"Tritone\",\n    ].map((name, i) => {\n      const id = \"root-movement-\" + i;\n      return (\n        <li key={i}>\n          <input\n            id={id}\n            type=\"checkbox\"\n            checked={this.props.chordData.allowedRootIntervals[i]}\n            onChange={this.handleRootMovementChange(i)}\n          />\n          <span htmlFor={i}>{name}</span>\n        </li>\n      );\n    });\n\n    const modulate = (scale) => () => this.modulate(scale);\n\n    const pivotModulationButtons = this.getPivotModulations().map((scale) => {\n      return (\n        <button class=\"supersets\" onClick={modulate(scale)}>\n          {scale\n            .split(\"_\")\n            .map((word) => word.charAt(0) + word.slice(1))\n            .join(\" \")}\n        </button>\n      );\n    });\n\n    return (\n      <div id=\"Chords\" className=\"chords-page\">\n        <button id=\"play\" onClick={this.togglePlaying}>\n          {this.props.chordData.playing ? \"STOP\" : \"PLAY\"}\n        </button>\n\n        <div id=\"chord_controls_container\" className=\"chords-wrapper\">\n\n          <div id=\"this_scale\" className=\"current-scale-wrapper\">\n              <h3>Current scale:</h3>\n              <p>{this.props.scaleData.scale}</p>\n\n              <h3>Pivot modulations:</h3>\n              <p>{pivotModulationButtons}</p>\n\n          </div>\n\n          <div id=\"this_chord\" className=\"current-chord-wrapper\">\n            <h3>Current chord: </h3>\n            <p>\n              {this.props.chordData.chordName === null\n                ? \"none\"\n                : this.props.chordData.chordName === \"error\"\n                ? \"Error -- couldn't find a chord fitting these constraints. Try checking more boxes.\"\n                : this.props.chordData.chordName\n                  .slice(0,this.props.chordData.chordName.lastIndexOf('-'))\n                  .split(\"_\")\n                  .map((word) => word.charAt(0) + word.slice(1))\n                  .join(\"  \")\n              }\n            </p>\n            <div id=\"chords-notation-ctr\"></div>\n          </div>\n\n          <div id=\"controls\" className=\"chords-control-wrapper\">\n            <h3>Allowed root movements:</h3>\n            <RootsList>{elements}</RootsList>\n            <p>\n              <label htmlFor=\"voice-leading-smoothness\">\n                Voice leading smoothness:\n              </label>\n              <input\n                type=\"range\"\n                id=\"voice-leading-smoothness\"\n                min=\"0\"\n                max=\"100\"\n                value={this.voiceLeadingSmoothness}\n                onChange={this.handleVoiceLeadingSmoothnessChange}\n              />\n            </p>\n          </div>\n        </div>\n        <Midi></Midi>\n      </div>\n    );\n  }\n}\n\nexport default Chords;\n","import React from 'react';\nimport { useDispatch } from 'react-redux'\nimport ROUTES from 'common/Routes';\nimport styled from 'styled-components';\nimport { withFirebase } from '../../Firebase';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nconst Wrapper = styled.div`\n    border: 2px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 8px;\n    color: white;\n    padding: 20px;\n    width: 250px;\n    height: 124px;\n    margin: 6px;\n    transition: .3s ease opacity;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n        opacity: .7;\n    }\n`;\n\nconst RoomImage = styled.div`\n    height: 100%;\n    background-color: red;\n    width: 88px;\n    margin-right: 14px;\n    border-radius: 50px 0 50px 0;\n`;\n\nconst Title = styled.div`\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 20px;\n    color: #FFDE6A;\n    text-align: left;\n\n    >div {\n        color: white;\n    }\n`;\n\nconst RoomItem = ({ room, history }) => {\n    const dispatch = useDispatch()\n\n    const handleRoomClick = () => {\n        const roomId = room.uid\n        dispatch({ type: 'SET_CURRENT_ROOM_ID', payload: roomId })\n\n        const roomRoute = `${ROUTES.ENSEMBLE}/${roomId}`\n        history.push(roomRoute);\n    }\n\n    return (\n        <button onClick={handleRoomClick}>\n            <Wrapper>\n                <RoomImage/>\n                <Title>\n                    {room.roomName}\n                    <div>Host: {room.hostName}</div><br/>\n                    <div>{10} Members</div>\n                </Title>\n            </Wrapper>\n       </button>\n    );\n}\n\nexport default compose(\n    withRouter,\n    withFirebase,\n)(RoomItem);\n","import React from 'react';\nimport RoomItem from './RoomItem';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    padding: 26px 0;\n    border: 2px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 8px 8px 28px 8px;\n`;\n\nconst RoomsContainer = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-around;\n`;\n\nconst MainTitle = styled.div`\n    color: white;\n    font-weight: bold;\n    font-size: 4.2vh;\n    line-height: 20px;\n    text-align: center;\n    margin-bottom: 28px;\n`;\n\nconst RoomList = ({\n    authUser,\n    rooms,\n    onRemoveRoom,\n}) => (\n    <Wrapper>\n        <MainTitle>Join an Ensemble</MainTitle>\n\n        <RoomsContainer>\n            {rooms.map(room => (\n                <RoomItem\n                    authUser={authUser}\n                    key={room.uid}\n                    room={room}\n                    onRemoveRoom={onRemoveRoom}\n                />\n            ))}\n        </RoomsContainer>\n    </Wrapper>\n);\n\nexport default RoomList;","import React, { Component, useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { AuthUserContext, withAuthorization, } from '../../Session';\nimport { withFirebase } from '../../Firebase';\nimport RoomList from './RoomList';\nimport { Link, withRouter } from 'react-router-dom';\nimport ROUTES from 'common/Routes';\nimport { compose } from 'recompose';\nimport SignOutButton from '../SignOut'\nimport styled from 'styled-components';\nimport Modal from 'react-modal';\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        width: '100%',\n        maxWidth: '550px',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        background: 'transparent',\n        border: 0,\n        zIndex: 9090\n    },\n};\n\nconst Title = styled.div`\n    font-weight: bold;\n    font-size: 36px;\n    line-height: 20px;\n    text-align: center;\n    width: 100%;\n`;\n\nconst Input = styled.input`\n    border: 2px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 9px;\n    background-color: transparent;\n    height: 39px;\n    width: 100%;\n    margin-bottom: 28px;\n    padding-left: 12px;\n`;\n\nconst Wrapper = styled.div`\n    height: 100%;\n`;\n\n\nconst ModalWrapper = styled.div`\n    color: #fff;\n    background: #000000;\n    border: 3px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 38px;\n    padding: 20px 0 35px;\n\n    &>div {\n        width: 100%;\n        max-width: 350px;\n        margin: 0 auto;\n        padding: 50px 20px 0;\n    }\n`;\n\n\nconst Header = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 30px;\n`;\n\nconst Submit = styled.button`\n    background: #FFDE6A;\n    border-radius: 9px;\n    text-align: center;\n    width: 139px;\n    height: 40px;\n    color: black;\n    font-weight: bold;\n    margin: 12px auto 30px;\n    display: block;\n`;\n\nconst CreateEnsamble = styled.div`\n    border: 2px solid #FFFFFF;\n    border-radius: 8px 11px 11px 8px;\n    display: flex;\n    align-items: center;\n    height: 40px;\n    margin-bottom: 22px;\n\n    input {\n        background-color: transparent;\n        padding-left: 12px;\n        border: 0;\n        height: 100%;\n        width: 100%;\n    }\n\n    button {\n        background: #FFFFFF;\n        border-radius: 8px;\n        height: 100%;\n        width: 100%;\n        max-width: 230px;\n        color: #000;\n        font-weight: bold;\n        font-size: 20px;\n    }\n`;\n\nfunction Rooms(props) {\n    const dispatch = useDispatch()\n\n    const [roomName, setRoomName] = useState('')\n    const [rooms, setRooms] = useState([])\n    const [listMode, setListMode] = useState(true)\n\n    const handleNewRoom = () => {\n        if (roomName == '') return\n\n        props.firebase\n            .user(props.authUser.uid)\n            .get().then((doc) => {\n                // Check if user eligible to create room\n                if (doc.exists && doc.data().accountType === 'free' && doc.data().ensembleCount > 0) {\n                    props.history.push(ROUTES.CHECKOUT);\n                } else {\n                    addNewRoom()\n                }\n            })\n    }\n\n    const addNewRoom = () => {\n        const { uid, userName } = props.authUser\n\n        props.firebase.rooms().add({\n            createdAt: new Date().getTime(),\n            roomName: roomName,\n            hostName: userName || '',\n            hostId: uid,\n            scaleData: 'c_diatonic'\n        }).then(function(docRef) {\n            // Save room Id for hosting\n            const roomId = docRef.id\n            dispatch({ type: 'SET_CURRENT_ROOM_ID', payload: roomId })\n\n            props.firebase.user(uid).set({\n                ensembleCount: 1,\n                currentEnsemble: roomName,\n                isHost: true,\n                ensembleHostRoomId: roomId\n            }, {merge:true})\n\n            props.history.push(ROUTES.ENSEMBLE + '/' + docRef.id);\n        })\n    }\n\n    useEffect(() => {\n        const unsubscribe = props.firebase\n        .rooms()\n        .orderBy('createdAt', 'desc')\n        .onSnapshot(snapshot => {\n            if (snapshot.size) {\n            let rooms = [];\n            snapshot.forEach(doc =>\n                rooms.push({ ...doc.data(), uid: doc.id }),\n            );\n\n            setRooms(rooms.reverse())\n\n            } else {\n            setRooms([])\n\n            }\n        })\n\n        return () => {\n            unsubscribe()\n        }\n    }, [props.firebase])\n\n\n    const handleNotAuth = () =>{\n        props.history.push(ROUTES.SIGN_UP);\n    }\n\n    const onRemoveRoom = uid => {\n        props.firebase.Room(uid).delete();\n    };\n\n    return (\n        <AuthUserContext.Consumer>\n            {authUser => (\n                <Wrapper>\n                    {listMode && <>\n                        <AuthUserContext.Consumer>\n                            {authUser =>\n                              authUser ? (\n                             <CreateEnsamble>\n                                 {/* TODO: REMOVE CODE DUPLICATION */}\n                                <input onChange={e => setRoomName(e.target.value)}  placeholder=\"input new ensemble name...\"/>\n                                 <button onClick={handleNewRoom}>\n                                    Create Ensemble\n                                </button>\n                             </CreateEnsamble>\n                              ) : (\n                                <CreateEnsamble>\n                                 {/* TODO: REMOVE CODE DUPLICATION */}\n                                <input placeholder=\"input new ensemble name...\"/>\n                                 <button onClick={handleNotAuth}>\n                                    Create Ensemble\n                                </button>\n                             </CreateEnsamble>\n                                )\n                            }\n                          </AuthUserContext.Consumer>\n\n\n                        {rooms &&\n                            <RoomList\n                                authUser={authUser}\n                                rooms={rooms}\n                                onRemoveRoom={onRemoveRoom}\n                            />\n                        }\n                    </>}\n\n                </Wrapper>\n            )}\n        </AuthUserContext.Consumer>\n    );\n}\n\nexport default compose(withRouter, withFirebase)(Rooms);\n","import Rooms from './Rooms';\n\nexport default Rooms;","import React from 'react';\nimport Rooms from '../Rooms'\nimport { AuthUserContext } from '../../Session';\n\nconst RoomLanding = () => (\n    <AuthUserContext.Consumer>\n        {authUser => (\n            <Rooms authUser={authUser}/>\n        )}\n    </AuthUserContext.Consumer>\n);\n\nexport default RoomLanding\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: #fff;\n    text-align: left;\n    padding: 12px 20px;\n    margin-bottom: 12px;\n`;\n\nconst Input = styled.input`\n    flex: 1;\n    border: 2px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 9px;\n    background-color: transparent;\n    height: 40px;\n    padding-left: 12px;\n    margin-right: 12px;\n`;\n\nconst Button = styled.button`\n    background: #FFDE6A;\n    border-radius: 9px;\n    text-align: center;\n    width: 139px;\n    height: 40px;\n    color: black;\n    font-weight: bold;\n    display: block;\n`;\n\nconst SendMessage = ({ text, handleText, createMessage }) => (\n    <Wrapper>\n        <Input onChange={handleText} value={text}/>\n        <Button onClick={createMessage}>Send Message</Button>\n    </Wrapper>\n);\n\nexport default SendMessage;\n","import React from 'react';\nimport styled from 'styled-components';\nimport SendMessage from './SendMessage'\n\nconst Wrapper = styled.div`\n    color: #fff;\n    text-align: left;\n    padding: 12px 20px;\n`;\n\nconst MsgHeader = styled.div`\n    font-weight: bold;\n    margin-bottom: 7px;\n\n    span {\n        font-size: 12px;\n        margin-left: 7px;\n    }\n`;\n\nconst MessageBubble = styled.div`\n    background-color: rgb(221 202 255 / 40%);\n    border-radius: 0 50px 50px 50px;\n    margin-bottom: 14px;\n    padding: 4px 12px;\n`;\n\nconst formatCreatedAt = (timestamp) => new Date(timestamp).toTimeString().split(' ')[0]\n\nconst Messages = ({ data = [] }) => (\n    <Wrapper>\n        {data.map(({ createdAt, userId, message }, key)=> (\n            <div>\n                <MsgHeader>\n                    {userId}\n                    <span>{formatCreatedAt(createdAt)}</span>\n                </MsgHeader>\n                <MessageBubble key={key}>\n                {message}\n                </MessageBubble>\n            </div>\n        ))}\n    </Wrapper>\n);\n\nexport {SendMessage}\nexport default Messages;\n","import React, {useEffect, useState} from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { withAuthorization, withEmailVerification, AuthUserContext } from '../../Session';\nimport { compose } from 'recompose';\nimport { withRouter } from 'react-router-dom';\nimport { withFirebase } from '../../Firebase';\nimport ROUTES from 'common/Routes';\nimport styled from 'styled-components';\nimport Messages, { SendMessage } from '../../Messages';\n\nconst Wrapper = styled.div`\n    color: #ffffff;\n`;\n\nconst Header = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 12px 20px;\n    border: 2px solid #FFFFFF;\n    border-radius: 8px;\n    margin-bottom: 22px;\n`;\n\nconst RoomImage = styled.div`\n    background-color: red;\n    height: 88px;\n    width: 88px;\n    margin-right: 14px;\n    border-radius: 50px 0 50px 0;\n`;\n\nconst RoomName = styled.div`\n    color: #FFDE6A;\n    font-weight: bold;\n    font-size: 26px;\n    text-align: left;\n`;\n\nconst HostName = styled.div`\n    color: #fff;\n    font-weight: bold;\n    font-size: 20px;\n    text-align: left;\n`;\n\nconst Button = styled.button`\n    background: #FFDE6A;\n    border-radius: 9px;\n    text-align: center;\n    width: 139px;\n    height: 40px;\n    color: black;\n    font-weight: bold;\n    display: block;\n`;\n\nconst MembersInRoom = styled.div`\n    margin-top: 4px;\n    font-size: 20px;\n`;\n\nconst ContentWrapper = styled.div`\n    min-height: 100%;\n    border: 2px solid #FFFFFF;\n    border-radius: 8px 8px 28px 8px;\n    margin-bottom: 12px;\n`;\n\nfunction RoomView(props) {\n    const dispatch = useDispatch()\n    const { userData } = useSelector(state => state.root)\n\n    const [roomName, setRoomName] = useState('')\n    const [hostName, setHostName] = useState('')\n    const [activeUsers, setActiveUsers] = useState([])\n    const [text, setText] = useState('')\n    const [messages, setMessages] = useState([])\n\n    useEffect(() => {\n        const roomId = props.location.pathname.split('/')[2];\n        dispatch({ type: 'SET_CURRENT_ROOM_ID', payload: roomId })\n    }, [props.location])\n\n    useEffect(() => {\n        const unsubscribe = props.firebase\n            .room(props.match.params.id)\n            .onSnapshot(snapshot => {\n                if(!snapshot.data()) return props.history.push(ROUTES.ENSEMBLE);\n                setRoomName(snapshot.data().roomName || '')\n\n                const authUser = JSON.parse(localStorage.getItem('authUser')).userName\n\n                if (snapshot.data().hostName === authUser) {\n                    dispatch({ type: 'SET_IS_ENSEMBLE_HOST', payload: true })\n                    dispatch({ type: 'SET_IS_ENSEMBLE_MEMBER', payload: false })\n                } else {\n                    dispatch({ type: 'SET_IS_ENSEMBLE_HOST', payload: false })\n                    dispatch({ type: 'SET_IS_ENSEMBLE_MEMBER', payload: true })\n                }\n            })\n\n        return () => {\n            unsubscribe()\n        }\n    },[props.firebase])\n\n    const createMessage = ({target}) => {\n        const { userName } = userData\n\n        props.firebase.room(props.match.params.id).collection('messages').add({\n            userId: userName,\n            message:text,\n            createdAt:new Date().getTime()\n        })\n        setText('')\n    }\n\n    useEffect(() => {\n        const unsubscribe = props.firebase\n            .room(props.match.params.id)\n            .collection('messages')\n            .orderBy('createdAt', 'desc')\n            .onSnapshot(snapshot => {\n                if (snapshot.size) {\n                let messages = [];\n                snapshot.forEach(doc =>\n                    messages.push({ ...doc.data(), uid: doc.id }),\n                );\n\n                setMessages(messages.reverse())\n\n                } else {\n                setMessages([])\n                }\n        })\n\n        return () => {\n            unsubscribe()\n        }\n    },[props.firebase])\n\n    useEffect(() => {\n        const unsubscribe = props.firebase\n            .user(props.authUser.uid)\n            .onSnapshot(snapshot => {\n                props.firebase.room(props.match.params.id).collection('activeUsers').doc(props.authUser.uid).set({\n                    userId: props.authUser.uid,\n                    userName: snapshot.data().userName || '',\n                    createdAt: new Date().getTime(),\n                }).then(()=>{\n                    const unsubscribe = props.firebase\n                        .room(props.match.params.id)\n                        .collection('activeUsers')\n                        .orderBy('createdAt', 'desc')\n                        .onSnapshot(snapshot => {\n                            if (snapshot.size) {\n                                let activeUsers = [];\n\n                                snapshot.forEach(doc =>\n                                    activeUsers.push({ ...doc.data(), uid: doc.id }),\n                                )\n\n                                setActiveUsers(activeUsers.reverse())\n                                setHostName(activeUsers[0].userName)\n                            } else {\n                                setActiveUsers([])\n                            }\n                        })\n\n                return () => {\n                    unsubscribe()\n                }\n            })\n        })\n    },[props.firebase])\n\n    const handleLeaveRoom = () =>{\n        if (activeUsers.length === 1) {\n            props.history.push(ROUTES.ENSEMBLE)\n            props.firebase.room(props.match.params.id).delete()\n        } else {\n            props.firebase.room(props.match.params.id).collection('activeUsers').doc(props.authUser.uid).delete()\n            props.history.push(ROUTES.ENSEMBLE);\n            setHostName(activeUsers[0].userName)\n        }\n\n        // dispatch({ type: 'SET_IS_ENSEMBLE_MEMBER', payload: false })\n    }\n\n    return(\n        <Wrapper>\n            <AuthUserContext.Consumer>\n                {authUser => (\n                    <div>\n                        <Header>\n                            <div style={{display: 'flex'}}>\n                                <RoomImage/>\n                                <div>\n                                    <RoomName>{roomName}</RoomName>\n                                    <HostName>Host: {hostName}</HostName>\n                                </div>\n                            </div>\n                            <div>\n                                <Button onClick={handleLeaveRoom} >Leave Ensemble</Button>\n                                <MembersInRoom>{activeUsers.length} Members</MembersInRoom>\n                            </div>\n                        </Header>\n\n                        <ContentWrapper>\n                            <Messages data={messages}/>\n                            <SendMessage\n                                text={text}\n                                handleText={({target})=>setText(target.value)}\n                                createMessage={createMessage}/>\n                        </ContentWrapper>\n\n                        {/* <br/>\n                            <p>Users in this room:</p>\n                                {activeUsers.map((activeUser)=>(\n                                    <p key={activeUser.userId}><span>{activeUser.userName}</span></p>\n                                ))}\n                        */}\n                    </div>\n                )}\n            </AuthUserContext.Consumer>\n        </Wrapper>\n    );\n}\n\nconst condition = authUser => !!authUser;\n\nexport default compose(\n    withRouter,\n    withAuthorization(condition),\n    withFirebase,\n)(RoomView);\n","import React from 'react';\nimport RoomView from '../RoomView'\nimport { AuthUserContext } from '../../Session';\n\nconst RoomViewLanding = () => (\n    <AuthUserContext.Consumer>\n        {authUser => (\n            <RoomView authUser={authUser}/>\n        )}\n    </AuthUserContext.Consumer>\n);\n\nexport default RoomViewLanding\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport ROUTES from 'common/Routes';\nimport RoomLanding from '../RoomLanding'\nimport RoomViewLanding from '../RoomViewLanding'\n\n//Switches between array itm room list and room view\n\nconst Room = () => (\n    <Switch>\n        <Route exact path={ROUTES.ENSEMBLE_DETAILS} component={RoomViewLanding} />\n        <Route exact path={ROUTES.ENSEMBLE} component={RoomLanding} />\n    </Switch>\n);\n\nexport default Room;\n","import React from 'react';\nimport { AuthUserContext } from '../../Session';\nimport Room from '../Room'\n\nconst Ensemble = () => (\n    <AuthUserContext.Consumer>\n       {authUser => (\n            <Room authUser={authUser}/>\n        )}\n    </AuthUserContext.Consumer>\n);\n\nexport default Ensemble\n","const STRING_POS = [0, 60, 110, 160, 210, 260, 310];\n\nconst FRET_POS = [\n  45, 115, 185, 255, 325, 395, 465, 535, 605, 675, 745, 815, 885,\n];\nconst STRINGS = [\n  { start: { x: 78.5, y: 60 }, end: { x: 921.5, y: 60 } },\n  { start: { x: 78.5, y: 110 }, end: { x: 921.5, y: 110 } },\n  { start: { x: 78.5, y: 160 }, end: { x: 921.5, y: 160 } },\n  { start: { x: 78.5, y: 210 }, end: { x: 921.5, y: 210 } },\n  { start: { x: 78.5, y: 260 }, end: { x: 921.5, y: 260 } },\n  { start: { x: 78.5, y: 310 }, end: { x: 921.5, y: 310 } },\n];\n\nconst FRETS = (endString) => [\n  { start: { x: 80, y: 59.25 }, end: { x: 80, y: STRING_POS[endString] + 1.5 } },\n  { start: { x: 150, y: 60 }, end: { x: 150, y: STRING_POS[endString] } },\n  { start: { x: 220, y: 60 }, end: { x: 220, y: STRING_POS[endString] } },\n  { start: { x: 290, y: 60 }, end: { x: 290, y: STRING_POS[endString] } },\n  { start: { x: 360, y: 60 }, end: { x: 360, y: STRING_POS[endString] } },\n  { start: { x: 430, y: 60 }, end: { x: 430, y: STRING_POS[endString] } },\n  { start: { x: 500, y: 60 }, end: { x: 500, y: STRING_POS[endString] } },\n  { start: { x: 570, y: 60 }, end: { x: 570, y: STRING_POS[endString] } },\n  { start: { x: 640, y: 60 }, end: { x: 640, y: STRING_POS[endString] } },\n  { start: { x: 710, y: 60 }, end: { x: 710, y: STRING_POS[endString] } },\n  { start: { x: 780, y: 60 }, end: { x: 780, y: STRING_POS[endString] } },\n  { start: { x: 850, y: 60 }, end: { x: 850, y: STRING_POS[endString] } },\n  { start: { x: 920, y: 60 }, end: { x: 920, y: STRING_POS[endString] } },\n];\n\nexport { STRINGS, FRETS, STRING_POS, FRET_POS };\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { FRET_POS } from \"./BoardData\";\nimport PitchClassData from \"common/PitchClassData\";\n\nfunction Note({ children, className, note, x, y }) {\n  return (\n    <>\n      <circle cx={x} cy={y} r=\"20\" className={className} />\n      <text dy=\"0.3em\" x={x} y={y} className={note || \"\"}>\n        {children}\n      </text>\n    </>\n  );\n}\n\nexport default function Notes({ markers, noteMappings, keyData, openFn }) {\n  const defaultIsOpen = (x, y) => x === FRET_POS[0];\n  const isOpen = openFn || defaultIsOpen;\n  return (\n    <>\n      {markers.map((marker) => {\n        return (\n          <Note\n            x={marker.location.x}\n            y={marker.location.y}\n            className=\"strings__note strings__note--marker\"\n          >\n            {marker.fret}\n          </Note>\n        );\n      })}\n      {noteMappings.map((pc, i) => {\n        const pitchClass = i;\n        const pitchClassData = PitchClassData[pitchClass];\n        return (\n          <>\n            {pc.locations.map((l) => {\n              return (\n                <Note\n                  note={pitchClassData.note}\n                  x={l.x}\n                  y={l.y}\n                  className={classNames(pitchClassData.note, \"strings__note\", {\n                    \"strings__note--open\": isOpen(l.x, l.y),\n                    \"strings__note--fingered\": !isOpen(l.x, l.y),\n                    \"strings__note--off\": !keyData.pitch_classes.includes(pitchClass),\n                  })}\n                >\n                  {pitchClassData.note}\n                </Note>\n              );\n            })}\n          </>\n        );\n      })}\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./Strings.scss\";\nimport { FRETS, FRET_POS, STRINGS, STRING_POS } from \"./BoardData\";\nimport Notes from \"./Notes\";\n\nconst pitchClassMapping = [\n  {\n    // 0\n    locations: [\n      { x: FRET_POS[8], y: STRING_POS[1] },\n      { x: FRET_POS[3], y: STRING_POS[2] },\n      { x: FRET_POS[10], y: STRING_POS[3] },\n      { x: FRET_POS[5], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 1\n    locations: [\n      { x: FRET_POS[9], y: STRING_POS[1] },\n      { x: FRET_POS[4], y: STRING_POS[2] },\n      { x: FRET_POS[11], y: STRING_POS[3] },\n      { x: FRET_POS[6], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 2\n    locations: [\n      { x: FRET_POS[10], y: STRING_POS[1] },\n      { x: FRET_POS[5], y: STRING_POS[2] },\n      { x: FRET_POS[12], y: STRING_POS[3] },\n      { x: FRET_POS[0], y: STRING_POS[3] },\n      { x: FRET_POS[7], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 3\n    locations: [\n      { x: FRET_POS[11], y: STRING_POS[1] },\n      { x: FRET_POS[6], y: STRING_POS[2] },\n      { x: FRET_POS[1], y: STRING_POS[3] },\n      { x: FRET_POS[8], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 4\n    locations: [\n      { x: FRET_POS[12], y: STRING_POS[1] },\n      { x: FRET_POS[0], y: STRING_POS[1] },\n      { x: FRET_POS[7], y: STRING_POS[2] },\n      { x: FRET_POS[2], y: STRING_POS[3] },\n      { x: FRET_POS[9], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 5\n    locations: [\n      { x: FRET_POS[1], y: STRING_POS[1] },\n      { x: FRET_POS[8], y: STRING_POS[2] },\n      { x: FRET_POS[3], y: STRING_POS[3] },\n      { x: FRET_POS[10], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 6\n    locations: [\n      { x: FRET_POS[2], y: STRING_POS[1] },\n      { x: FRET_POS[9], y: STRING_POS[2] },\n      { x: FRET_POS[4], y: STRING_POS[3] },\n      { x: FRET_POS[11], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 7\n    locations: [\n      { x: FRET_POS[3], y: STRING_POS[1] },\n      { x: FRET_POS[10], y: STRING_POS[2] },\n      { x: FRET_POS[5], y: STRING_POS[3] },\n      { x: FRET_POS[12], y: STRING_POS[4] },\n      { x: FRET_POS[0], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 8\n    locations: [\n      { x: FRET_POS[4], y: STRING_POS[1] },\n      { x: FRET_POS[11], y: STRING_POS[2] },\n      { x: FRET_POS[6], y: STRING_POS[3] },\n      { x: FRET_POS[1], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 9\n    locations: [\n      { x: FRET_POS[5], y: STRING_POS[1] },\n      { x: FRET_POS[12], y: STRING_POS[2] },\n      { x: FRET_POS[0], y: STRING_POS[2] },\n      { x: FRET_POS[7], y: STRING_POS[3] },\n      { x: FRET_POS[2], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 10\n    locations: [\n      { x: FRET_POS[6], y: STRING_POS[1] },\n      { x: FRET_POS[1], y: STRING_POS[2] },\n      { x: FRET_POS[8], y: STRING_POS[3] },\n      { x: FRET_POS[3], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 11\n    locations: [\n      { x: FRET_POS[7], y: STRING_POS[1] },\n      { x: FRET_POS[2], y: STRING_POS[2] },\n      { x: FRET_POS[9], y: STRING_POS[3] },\n      { x: FRET_POS[4], y: STRING_POS[4] },\n    ],\n  },\n];\n\nconst markers = [\n  {\n    fret: 3,\n    location: { x: 255, y: 135 },\n  },\n  {\n    fret: 5,\n    location: { x: 395, y: 135 },\n  },\n  {\n    fret: 7,\n    location: { x: 535, y: 135 },\n  },\n  {\n    fret: 10,\n    location: { x: 745, y: 135 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 85 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 185 },\n  },\n];\nexport default class Main extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        baseProfile=\"full\"\n        width=\"100%\"\n        viewBox=\"0 0 980 232\"\n        className=\"strings\"\n      >\n        {FRETS(4).map((fret, i) => {\n          return (\n            <line\n              className={`strings__fret${i === 0 ? \" strings__fret--nut\" : \"\"}`}\n              x1={fret.start.x}\n              y1={fret.start.y}\n              x2={fret.end.x}\n              y2={fret.end.y}\n            />\n          );\n        })}\n        {STRINGS.slice(0, 4).map((string, i) => {\n          return (\n            <line\n              className={`strings__string strings__string--${i + 1}`}\n              x1={string.start.x}\n              y1={string.start.y}\n              x2={string.end.x}\n              y2={string.end.y}\n            />\n          );\n        })}\n        <Notes\n          markers={markers}\n          noteMappings={pitchClassMapping}\n          keyData={this.props.keyData}\n        />\n      </svg>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Strings.scss\";\nimport { FRETS, FRET_POS, STRINGS, STRING_POS } from \"./BoardData\";\nimport Notes from \"./Notes\";\n\nconst pitchClassMapping = [\n  {\n    // 0\n    locations: [\n      { x: FRET_POS[8], y: STRING_POS[1] },\n      { x: FRET_POS[1], y: STRING_POS[2] },\n      { x: FRET_POS[5], y: STRING_POS[3] },\n      { x: FRET_POS[10], y: STRING_POS[4] },\n      { x: FRET_POS[3], y: STRING_POS[5] },\n      { x: FRET_POS[8], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 1\n    locations: [\n      { x: FRET_POS[9], y: STRING_POS[1] },\n      { x: FRET_POS[2], y: STRING_POS[2] },\n      { x: FRET_POS[6], y: STRING_POS[3] },\n      { x: FRET_POS[11], y: STRING_POS[4] },\n      { x: FRET_POS[4], y: STRING_POS[5] },\n      { x: FRET_POS[9], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 2\n    locations: [\n      { x: FRET_POS[10], y: STRING_POS[1] },\n      { x: FRET_POS[3], y: STRING_POS[2] },\n      { x: FRET_POS[7], y: STRING_POS[3] },\n      { x: FRET_POS[12], y: STRING_POS[4] },\n      { x: FRET_POS[0], y: STRING_POS[4] },\n      { x: FRET_POS[5], y: STRING_POS[5] },\n      { x: FRET_POS[10], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 3\n    locations: [\n      { x: FRET_POS[11], y: STRING_POS[1] },\n      { x: FRET_POS[4], y: STRING_POS[2] },\n      { x: FRET_POS[8], y: STRING_POS[3] },\n      { x: FRET_POS[1], y: STRING_POS[4] },\n      { x: FRET_POS[6], y: STRING_POS[5] },\n      { x: FRET_POS[11], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 4\n    locations: [\n      { x: FRET_POS[12], y: STRING_POS[1] },\n      { x: FRET_POS[0], y: STRING_POS[1] },\n      { x: FRET_POS[5], y: STRING_POS[2] },\n      { x: FRET_POS[9], y: STRING_POS[3] },\n      { x: FRET_POS[2], y: STRING_POS[4] },\n      { x: FRET_POS[7], y: STRING_POS[5] },\n      { x: FRET_POS[12], y: STRING_POS[6] },\n      { x: FRET_POS[0], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 5\n    locations: [\n      { x: FRET_POS[1], y: STRING_POS[1] },\n      { x: FRET_POS[6], y: STRING_POS[2] },\n      { x: FRET_POS[10], y: STRING_POS[3] },\n      { x: FRET_POS[3], y: STRING_POS[4] },\n      { x: FRET_POS[8], y: STRING_POS[5] },\n      { x: FRET_POS[1], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 6\n    locations: [\n      { x: FRET_POS[2], y: STRING_POS[1] },\n      { x: FRET_POS[7], y: STRING_POS[2] },\n      { x: FRET_POS[11], y: STRING_POS[3] },\n      { x: FRET_POS[4], y: STRING_POS[4] },\n      { x: FRET_POS[9], y: STRING_POS[5] },\n      { x: FRET_POS[2], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 7\n    locations: [\n      { x: FRET_POS[3], y: STRING_POS[1] },\n      { x: FRET_POS[8], y: STRING_POS[2] },\n      { x: FRET_POS[12], y: STRING_POS[3] },\n      { x: FRET_POS[0], y: STRING_POS[3] },\n      { x: FRET_POS[5], y: STRING_POS[4] },\n      { x: FRET_POS[10], y: STRING_POS[5] },\n      { x: FRET_POS[3], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 8\n    locations: [\n      { x: FRET_POS[4], y: STRING_POS[1] },\n      { x: FRET_POS[9], y: STRING_POS[2] },\n      { x: FRET_POS[1], y: STRING_POS[3] },\n      { x: FRET_POS[6], y: STRING_POS[4] },\n      { x: FRET_POS[11], y: STRING_POS[5] },\n      { x: FRET_POS[4], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 9\n    locations: [\n      { x: FRET_POS[5], y: STRING_POS[1] },\n      { x: FRET_POS[10], y: STRING_POS[2] },\n      { x: FRET_POS[2], y: STRING_POS[3] },\n      { x: FRET_POS[7], y: STRING_POS[4] },\n      { x: FRET_POS[12], y: STRING_POS[5] },\n      { x: FRET_POS[0], y: STRING_POS[5] },\n      { x: FRET_POS[5], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 10\n    locations: [\n      { x: FRET_POS[6], y: STRING_POS[1] },\n      { x: FRET_POS[11], y: STRING_POS[2] },\n      { x: FRET_POS[3], y: STRING_POS[3] },\n      { x: FRET_POS[8], y: STRING_POS[4] },\n      { x: FRET_POS[1], y: STRING_POS[5] },\n      { x: FRET_POS[6], y: STRING_POS[6] },\n    ],\n  },\n  {\n    // 11\n    locations: [\n      { x: FRET_POS[7], y: STRING_POS[1] },\n      { x: FRET_POS[12], y: STRING_POS[2] },\n      { x: FRET_POS[0], y: STRING_POS[2] },\n      { x: FRET_POS[4], y: STRING_POS[3] },\n      { x: FRET_POS[9], y: STRING_POS[4] },\n      { x: FRET_POS[2], y: STRING_POS[5] },\n      { x: FRET_POS[7], y: STRING_POS[6] },\n    ],\n  },\n];\n\nconst markers = [\n  {\n    fret: 3,\n    location: { x: 255, y: 185 },\n  },\n  {\n    fret: 5,\n    location: { x: 395, y: 185 },\n  },\n  {\n    fret: 7,\n    location: { x: 535, y: 185 },\n  },\n  {\n    fret: 9,\n    location: { x: 675, y: 185 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 135 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 235 },\n  },\n];\n\nexport default function Guitar({ keyData }) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      baseProfile=\"full\"\n      width=\"100%\"\n      viewBox=\"0 0 980 332\"\n      className=\"strings\"\n    >\n      {FRETS(6).map((fret, i) => {\n        return (\n          <line\n            className={`strings__fret${i === 0 ? \" strings__fret--nut\" : \"\"}`}\n            x1={fret.start.x}\n            y1={fret.start.y}\n            x2={fret.end.x}\n            y2={fret.end.y}\n          />\n        );\n      })}\n      {STRINGS.slice(0, 6).map((string, i) => {\n        return (\n          <line\n            className={`strings__string strings__string--${i + 1}`}\n            x1={string.start.x}\n            y1={string.start.y}\n            x2={string.end.x}\n            y2={string.end.y}\n          />\n        );\n      })}\n      <Notes\n        markers={markers}\n        noteMappings={pitchClassMapping}\n        keyData={keyData}\n      />\n    </svg>\n  );\n}\n","import React from \"react\";\nimport \"./Strings.scss\";\nimport { FRETS, FRET_POS, STRINGS, STRING_POS } from \"./BoardData\";\nimport Notes from \"./Notes\";\n\nconst pitchClassMapping = [\n  {\n    // 0\n    locations: [\n      { x: FRET_POS[10], y: STRING_POS[1] },\n      { x: FRET_POS[1], y: STRING_POS[2] },\n      { x: FRET_POS[5], y: STRING_POS[3] },\n      { x: FRET_POS[10], y: STRING_POS[4] },\n      { x: FRET_POS[10], y: STRING_POS[5] },\n    ],\n  },\n  {\n    // 1\n    locations: [\n      { x: FRET_POS[11], y: STRING_POS[1] },\n      { x: FRET_POS[2], y: STRING_POS[2] },\n      { x: FRET_POS[6], y: STRING_POS[3] },\n      { x: FRET_POS[11], y: STRING_POS[4] },\n      { x: FRET_POS[11], y: STRING_POS[5] },\n    ],\n  },\n  {\n    // 2\n    locations: [\n      { x: FRET_POS[12], y: STRING_POS[1] },\n      { x: FRET_POS[0], y: STRING_POS[1] },\n      { x: FRET_POS[3], y: STRING_POS[2] },\n      { x: FRET_POS[7], y: STRING_POS[3] },\n      { x: FRET_POS[12], y: STRING_POS[4] },\n      { x: FRET_POS[0], y: STRING_POS[4] },\n      { x: FRET_POS[12], y: STRING_POS[5] },\n    ],\n  },\n  {\n    // 3\n    locations: [\n      { x: FRET_POS[1], y: STRING_POS[1] },\n      { x: FRET_POS[4], y: STRING_POS[2] },\n      { x: FRET_POS[8], y: STRING_POS[3] },\n      { x: FRET_POS[1], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 4\n    locations: [\n      { x: FRET_POS[2], y: STRING_POS[1] },\n      { x: FRET_POS[5], y: STRING_POS[2] },\n      { x: FRET_POS[9], y: STRING_POS[3] },\n      { x: FRET_POS[2], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 5\n    locations: [\n      { x: FRET_POS[3], y: STRING_POS[1] },\n      { x: FRET_POS[6], y: STRING_POS[2] },\n      { x: FRET_POS[10], y: STRING_POS[3] },\n      { x: FRET_POS[3], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 6\n    locations: [\n      { x: FRET_POS[4], y: STRING_POS[1] },\n      { x: FRET_POS[7], y: STRING_POS[2] },\n      { x: FRET_POS[11], y: STRING_POS[3] },\n      { x: FRET_POS[4], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 7\n    locations: [\n      { x: FRET_POS[5], y: STRING_POS[1] },\n      { x: FRET_POS[8], y: STRING_POS[2] },\n      { x: FRET_POS[12], y: STRING_POS[3] },\n      { x: FRET_POS[0], y: STRING_POS[3] },\n      { x: FRET_POS[5], y: STRING_POS[4] },\n      { x: FRET_POS[5], y: STRING_POS[5] },\n    ],\n  },\n  {\n    // 8\n    locations: [\n      { x: FRET_POS[6], y: STRING_POS[1] },\n      { x: FRET_POS[9], y: STRING_POS[2] },\n      { x: FRET_POS[1], y: STRING_POS[3] },\n      { x: FRET_POS[6], y: STRING_POS[4] },\n      { x: FRET_POS[6], y: STRING_POS[5] },\n    ],\n  },\n  {\n    // 9\n    locations: [\n      { x: FRET_POS[7], y: STRING_POS[1] },\n      { x: FRET_POS[10], y: STRING_POS[2] },\n      { x: FRET_POS[2], y: STRING_POS[3] },\n      { x: FRET_POS[7], y: STRING_POS[4] },\n      { x: FRET_POS[7], y: STRING_POS[5] },\n    ],\n  },\n  {\n    // 10\n    locations: [\n      { x: FRET_POS[8], y: STRING_POS[1] },\n      { x: FRET_POS[11], y: STRING_POS[2] },\n      { x: FRET_POS[3], y: STRING_POS[3] },\n      { x: FRET_POS[8], y: STRING_POS[4] },\n      { x: FRET_POS[8], y: STRING_POS[5] },\n    ],\n  },\n  {\n    // 11\n    locations: [\n      { x: FRET_POS[9], y: STRING_POS[1] },\n      { x: FRET_POS[12], y: STRING_POS[2] },\n      { x: FRET_POS[0], y: STRING_POS[2] },\n      { x: FRET_POS[4], y: STRING_POS[3] },\n      { x: FRET_POS[9], y: STRING_POS[4] },\n      { x: FRET_POS[9], y: STRING_POS[5] },\n    ],\n  },\n];\n\nconst markers = [\n  {\n    fret: 3,\n    location: { x: 255, y: 135 },\n  },\n  {\n    fret: 5,\n    location: { x: 395, y: 135 },\n  },\n  {\n    fret: 7,\n    location: { x: 535, y: 135 },\n  },\n  {\n    fret: 10,\n    location: { x: 745, y: 135 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 85 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 185 },\n  },\n];\n\nconst extraNut = {\n  start: { x: 430, y: 210 },\n  end: { x: 430, y: STRING_POS[5] + 1.5 },\n};\nconst extraString = { start: { x: 430, y: 260 }, end: { x: 921.5, y: 260 } };\n\nexport default class Main extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        baseProfile=\"full\"\n        width=\"100%\"\n        viewBox=\"0 0 980 285\"\n        className=\"strings\"\n      >\n        {FRETS(4)\n          .slice(0, 6)\n          .map((fret, i) => {\n            return (\n              <line\n                className={`strings__fret${\n                  i === 0 ? \" strings__fret--nut\" : \"\"\n                }`}\n                x1={fret.start.x}\n                y1={fret.start.y}\n                x2={fret.end.x}\n                y2={fret.end.y}\n              />\n            );\n          })}\n        {FRETS(5)\n          .slice(6)\n          .map((fret, i) => {\n            return (\n              <line\n                className={`strings__fret`}\n                x1={fret.start.x}\n                y1={fret.start.y}\n                x2={fret.end.x}\n                y2={fret.end.y}\n              />\n            );\n          })}\n        {STRINGS.slice(0, 4).map((string, i) => {\n          return (\n            <line\n              className={`strings__string strings__string--${i + 1}`}\n              x1={string.start.x}\n              y1={string.start.y}\n              x2={string.end.x}\n              y2={string.end.y}\n            />\n          );\n        })}\n        <line\n          className={`strings__fret strings__fret--nut`}\n          x1={extraNut.start.x}\n          y1={extraNut.start.y}\n          x2={extraNut.end.x}\n          y2={extraNut.end.y}\n        />\n        <line\n          className={`strings__string strings__string--1`}\n          x1={extraString.start.x}\n          y1={extraString.start.y}\n          x2={extraString.end.x}\n          y2={extraString.end.y}\n        />\n        <Notes\n          markers={markers}\n          noteMappings={pitchClassMapping}\n          keyData={this.props.keyData}\n          openFn={(x, y) =>\n            x === FRET_POS[0] || (x === FRET_POS[5] && y === STRING_POS[5])\n          }\n        />\n      </svg>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Strings.scss\";\nimport { FRETS, FRET_POS, STRINGS, STRING_POS } from \"./BoardData\";\nimport Notes from \"./Notes\";\n\nconst pitchClassMapping = [\n  {\n    // 0\n    locations: [\n      { x: FRET_POS[3], y: STRING_POS[1] },\n      { x: FRET_POS[8], y: STRING_POS[2] },\n      { x: FRET_POS[12], y: STRING_POS[3] },\n      { x: FRET_POS[0], y: STRING_POS[3] },\n      { x: FRET_POS[5], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 1\n    locations: [\n      { x: FRET_POS[4], y: STRING_POS[1] },\n      { x: FRET_POS[9], y: STRING_POS[2] },\n      { x: FRET_POS[1], y: STRING_POS[3] },\n      { x: FRET_POS[6], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 2\n    locations: [\n      { x: FRET_POS[5], y: STRING_POS[1] },\n      { x: FRET_POS[10], y: STRING_POS[2] },\n      { x: FRET_POS[2], y: STRING_POS[3] },\n      { x: FRET_POS[7], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 3\n    locations: [\n      { x: FRET_POS[6], y: STRING_POS[1] },\n      { x: FRET_POS[11], y: STRING_POS[2] },\n      { x: FRET_POS[3], y: STRING_POS[3] },\n      { x: FRET_POS[8], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 4\n    locations: [\n      { x: FRET_POS[7], y: STRING_POS[1] },\n      { x: FRET_POS[12], y: STRING_POS[2] },\n      { x: FRET_POS[0], y: STRING_POS[2] },\n      { x: FRET_POS[4], y: STRING_POS[3] },\n      { x: FRET_POS[9], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 5\n    locations: [\n      { x: FRET_POS[8], y: STRING_POS[1] },\n      { x: FRET_POS[1], y: STRING_POS[2] },\n      { x: FRET_POS[5], y: STRING_POS[3] },\n      { x: FRET_POS[10], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 6\n    locations: [\n      { x: FRET_POS[9], y: STRING_POS[1] },\n      { x: FRET_POS[2], y: STRING_POS[2] },\n      { x: FRET_POS[6], y: STRING_POS[3] },\n      { x: FRET_POS[11], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 7\n    locations: [\n      { x: FRET_POS[10], y: STRING_POS[1] },\n      { x: FRET_POS[3], y: STRING_POS[2] },\n      { x: FRET_POS[7], y: STRING_POS[3] },\n      { x: FRET_POS[12], y: STRING_POS[4] },\n      { x: FRET_POS[0], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 8\n    locations: [\n      { x: FRET_POS[11], y: STRING_POS[1] },\n      { x: FRET_POS[4], y: STRING_POS[2] },\n      { x: FRET_POS[8], y: STRING_POS[3] },\n      { x: FRET_POS[1], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 9\n    locations: [\n      { x: FRET_POS[12], y: STRING_POS[1] },\n      { x: FRET_POS[0], y: STRING_POS[1] },\n      { x: FRET_POS[5], y: STRING_POS[2] },\n      { x: FRET_POS[9], y: STRING_POS[3] },\n      { x: FRET_POS[2], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 10\n    locations: [\n      { x: FRET_POS[1], y: STRING_POS[1] },\n      { x: FRET_POS[6], y: STRING_POS[2] },\n      { x: FRET_POS[10], y: STRING_POS[3] },\n      { x: FRET_POS[3], y: STRING_POS[4] },\n    ],\n  },\n  {\n    // 11\n    locations: [\n      { x: FRET_POS[2], y: STRING_POS[1] },\n      { x: FRET_POS[7], y: STRING_POS[2] },\n      { x: FRET_POS[11], y: STRING_POS[3] },\n      { x: FRET_POS[4], y: STRING_POS[4] },\n    ],\n  },\n];\n\nconst markers = [\n  {\n    fret: 3,\n    location: { x: 255, y: 135 },\n  },\n  {\n    fret: 5,\n    location: { x: 395, y: 135 },\n  },\n  {\n    fret: 7,\n    location: { x: 535, y: 135 },\n  },\n  {\n    fret: 10,\n    location: { x: 745, y: 135 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 85 },\n  },\n  {\n    fret: 12,\n    location: { x: 885, y: 185 },\n  },\n];\nexport default class Main extends React.Component {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n        baseProfile=\"full\"\n        width=\"100%\"\n        viewBox=\"0 0 980 232\"\n        className=\"strings\"\n      >\n        {FRETS(4).map((fret, i) => {\n          return (\n            <line\n              className={`strings__fret${i === 0 ? \" strings__fret--nut\" : \"\"}`}\n              x1={fret.start.x}\n              y1={fret.start.y}\n              x2={fret.end.x}\n              y2={fret.end.y}\n            />\n          );\n        })}\n        {STRINGS.slice(0, 4).map((string, i) => {\n          return (\n            <line\n              className={`strings__string strings__string--${i + 1}`}\n              x1={string.start.x}\n              y1={string.start.y}\n              x2={string.end.x}\n              y2={string.end.y}\n            />\n          );\n        })}\n        <Notes\n          markers={markers}\n          noteMappings={pitchClassMapping}\n          keyData={this.props.keyData}\n        />\n      </svg>\n    );\n  }\n}\n","import React from \"react\";\nimport PitchClassData from \"common/PitchClassData\";\nimport \"./Flute.scss\";\nimport classNames from \"classnames\";\n\nconst trills = [\n  { pitchClasses: [0, 1], fingers: [\"eflat\"], trills: [\"b\"] },\n  { pitchClasses: [0, 2], fingers: [\"b\", \"eflat\"], trills: [\"trill-1\"] },\n  { pitchClasses: [1, 2], fingers: [\"eflat\"], trills: [\"trill-1\"] },\n  { pitchClasses: [1, 3], fingers: [\"eflat\"], trills: [\"trill-2\"] },\n  {\n    pitchClasses: [2, 4],\n    fingers: [\"b\", \"a\", \"g\", \"f\", \"e\", \"c\"],\n    trills: [\"d\"],\n  },\n  {\n    pitchClasses: [3, 5],\n    fingers: [\"b\", \"a\", \"g\", \"f\", \"d\", \"c\", \"eflat\"],\n    trills: [\"e\"],\n  },\n  {\n    pitchClasses: [4, 6],\n    fingers: [\"b\", \"a\", \"g\", \"e\", \"c\", \"eflat\"],\n    trills: [\"f\"],\n  },\n  {\n    pitchClasses: [5, 6],\n    fingers: [\"b\", \"a\", \"g\", \"d\", \"c\", \"eflat\"],\n    trills: [\"f\"],\n  },\n  {\n    pitchClasses: [6, 8],\n    fingers: [\"b\", \"a\", \"g\", \"d\", \"c\", \"eflat\"],\n    trills: [\"gsharp\"],\n  },\n  {\n    pitchClasses: [8, 9],\n    fingers: [\"b\", \"a\", \"c\", \"gsharp\", \"eflat\"],\n    trills: [\"g\"],\n  },\n  {\n    pitchClasses: [8, 10],\n    fingers: [\"b\", \"g\", \"bflat\", \"gsharp\", \"eflat\"],\n    trills: [\"a\"],\n  },\n  { pitchClasses: [9, 10], fingers: [\"b\", \"f\", \"c\", \"eflat\"], trills: [\"a\"] },\n  { pitchClasses: [10, 0], fingers: [\"b\", \"f\", \"eflat\"], trills: [\"c\"] },\n  { pitchClasses: [10, 11], fingers: [\"b\", \"c\", \"eflat\"], trills: [\"f\"] },\n  { pitchClasses: [11, 1], fingers: [\"eflat\"], trills: [\"b\", \"c\"] },\n];\n\nconst BlankTrill = () => {\n  return <div className=\"trill\"></div>;\n};\n\nconst Trill = ({ trill }) => (\n  <div className=\"trill\">\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      baseProfile=\"full\"\n      viewBox=\"0 0 218 66\"\n    >\n      <title>\n        {trill.pitchClasses.map((pc) => PitchClassData[pc].slug).join(\"-\")}\n      </title>\n      <circle\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"b\"),\n          \"trill__note--trilled\": trill.trills.includes(\"b\"),\n        })}\n        id=\"b\"\n        cx=\"10\"\n        cy=\"30\"\n        r=\"8\"\n        stroke=\"black\"\n      ></circle>\n      <circle\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"a\"),\n          \"trill__note--trilled\": trill.trills.includes(\"a\"),\n        })}\n        id=\"a\"\n        cx=\"50\"\n        cy=\"30\"\n        r=\"10\"\n        stroke=\"black\"\n      />\n      <circle\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"g\"),\n          \"trill__note--trilled\": trill.trills.includes(\"g\"),\n        })}\n        id=\"g\"\n        cx=\"80\"\n        cy=\"30\"\n        r=\"10\"\n        stroke=\"black\"\n      />\n      <circle\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"f\"),\n          \"trill__note--trilled\": trill.trills.includes(\"f\"),\n        })}\n        id=\"f\"\n        cx=\"130\"\n        cy=\"30\"\n        r=\"10\"\n        stroke=\"black\"\n      />\n      <circle\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"e\"),\n          \"trill__note--trilled\": trill.trills.includes(\"e\"),\n        })}\n        id=\"e\"\n        cx=\"160\"\n        cy=\"30\"\n        r=\"10\"\n        stroke=\"black\"\n      />\n      <circle\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"d\"),\n          \"trill__note--trilled\": trill.trills.includes(\"d\"),\n        })}\n        id=\"d\"\n        cx=\"190\"\n        cy=\"30\"\n        r=\"10\"\n        stroke=\"black\"\n      />\n\n      <path\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"bflat\"),\n          \"trill__note--trilled\": trill.trills.includes(\"bflat\"),\n        })}\n        id=\"bflat\"\n        d=\"M 5 45 L 45 45 C 47 46, 47 47, 45 48 L 18 48 C 17 69, 4 69, 5 45\"\n        stroke=\"black\"\n      />\n      <path\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"c\"),\n          \"trill__note--trilled\": trill.trills.includes(\"c\"),\n        })}\n        id=\"c\"\n        d=\"M 20 50 L 44 50 C 45 68, 17 68, 20 50\"\n        stroke=\"black\"\n      />\n\n      <path\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"gsharp\"),\n          \"trill__note--trilled\": trill.trills.includes(\"gsharp\"),\n        })}\n        id=\"gsharp\"\n        d=\"M 80 10 C 95 14, 98 26, 100 30 L 92 10 C 90 5, 88 3, 88 3 C 82 0, 76 5, 80 10\"\n        stroke=\"black\"\n      />\n\n      <path\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"bflat-lever\"),\n          \"trill__note--trilled\": trill.trills.includes(\"bflat-lever\"),\n        })}\n        id=\"bflat-lever\"\n        d=\"M 105 45 L 115 45 C 115 35, 122 35, 122 45 L 122 48 L 105 48 C 100 48, 100 45, 105 45\"\n        stroke=\"black\"\n      />\n\n      <path\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"trill-1\"),\n          \"trill__note--trilled\": trill.trills.includes(\"trill-1\"),\n        })}\n        id=\"trill-1\"\n        d=\"M 142 48 L 148 48 C 152 35, 138 35, 142 48\"\n        stroke=\"black\"\n      />\n\n      <path\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"trill-2\"),\n          \"trill__note--trilled\": trill.trills.includes(\"trill-2\"),\n        })}\n        id=\"trill-2\"\n        d=\"M 172 48 L 178 48 C 182 35, 168 35, 172 48\"\n        stroke=\"black\"\n      />\n\n      <path\n        className={classNames(\"trill__note\", {\n          \"trill__note--fingered\": trill.fingers.includes(\"eflat\"),\n          \"trill__note--trilled\": trill.trills.includes(\"eflat\"),\n        })}\n        id=\"eflat\"\n        d=\"M 205 30 C 208 36, 192 45, 205 48 C 222 45, 212 36, 210 30 C 209 26, 206 26, 205 30\"\n        stroke=\"black\"\n      />\n    </svg>\n  </div>\n);\n\nexport default function Flute({ keyData }) {\n  const isSubsetOf = (superSet, test) => {\n    return test.every((i) => superSet.includes(i));\n  };\n\n  return (\n    <div className=\"trillcontainer\">\n      {trills.map((trill, i) => {\n        return isSubsetOf(keyData.pitch_classes, trill.pitchClasses) ? (\n          <Trill key={i} trill={trill}></Trill>\n        ) : (\n          <BlankTrill key={i}></BlankTrill>\n        );\n      })}\n    </div>\n  );\n}\n","const CHORDS = [\n  \"C\",\n  \"Em\",\n  \"G\",\n  \"Bm\",\n  \"D\",\n  \"F#m\",\n  \"A\",\n  \"C#m\",\n  \"E\",\n  \"G#m\",\n  \"B\",\n  \"D#m\",\n  \"F#\",\n  \"Bm\",\n  \"D\",\n  \"Fm\",\n  \"A\",\n  \"Cm\",\n  \"E\",\n  \"Gm\",\n  \"B\",\n  \"Dm\",\n  \"F\",\n  \"Am\",\n];\n\n\n\nexport default CHORDS;\n","import React from \"react\";\nimport \"./TriadCircle.scss\";\nimport ChordData from \"common/ChordData\";\nimport classNames from \"classnames\";\n\nconst triad_spelling = {\n  \"C\": \"C\",\n  \"Em\": \"Em\",\n  \"G\":\"G\",\n  \"Bm\":\"Bm\",\n  \"D\":\"D\",\n  \"F#m\":\"Gm\", \n  \"A\":\"A\",\n  \"C#m\":\"Dm\",\n  \"E\":\"E\",\n  \"G#m\":\"Am\",\n  \"B\":\"B\",\n  \"D#m\":\"Em\",\n  \"F#\":\"G\",\n  \"Bm\":\"A#m\",\n  \"D\":\"C#\",\n  \"Fm\":\"Fm\",\n  \"A\":\"G#\",\n  \"Cm\":\"Cm\",\n  \"E\":\"D#\",\n  \"Gm\":\"Gm\",\n  \"B\":\"A#\",\n  \"Dm\":\"Dm\",\n  \"F\":\"F\",\n  \"Am\":\"Am\",\n\n}\n\nexport default function TriadCircle({ keyData }) {\n  console.log(\"keydata: \", keyData);\n  const radius = 850;\n  const padding = 200;\n  const polarToCart = (deg) => {\n    const radians = deg * (Math.PI / 180);\n\n    return {\n      x: radius + padding / 2 + radius * Math.cos(radians),\n      y: radius + padding / 2 + radius * Math.sin(radians),\n    };\n  };\n\n  return (\n    <svg\n      viewBox={`0 0 ${radius * 2 + padding} ${radius * 2 + padding}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      version=\"1.1\"\n      baseProfile=\"full\"\n      class=\"triadcircle\"\n    >\n      <circle\n        class=\"triadcircle__circle\"\n        cx={radius + padding / 2}\n        cy={radius + padding / 2}\n        r={radius}\n      />\n      {ChordData.map((chord, i) => {\n        if (!keyData.chords.includes(chord)){\n          chord = triad_spelling[chord];\n        }\n        const { x, y } = polarToCart(270 + i * (360 / 24));\n        return (\n          <>\n            <circle\n              class={classNames(\"triadcircle__chord\", {\n                \"triadcircle__chord--off\": !keyData.chords.includes(chord),\n\n              })}\n              cx={x}\n              cy={y}\n              r=\"100.0\"\n            />\n            <text\n              class={classNames(\"triadcircle__chordtext\", {\n                \"triadcircle__chordtext--off\": !keyData.chords.includes(chord),\n              })}\n              dy=\"0.3em\"\n              x={x}\n              y={y}\n            >\n              {chord}\n            </text>\n          </>\n        );\n      })}\n    </svg>\n  );\n}\n","import React from \"react\";\nimport \"./Tablature.scss\";\n\nexport default function TabContainer({\n  onClose,\n  className,\n  instrumentName,\n  children,\n}) {\n  return (\n    <li className={\"tabcontainer \" + className}>\n      <h2 class=\"tabcontainer__title\">{instrumentName}</h2>\n\n      {/*<label class=\"tabcontainer__transposition\" for=\"transposition\">transposition:</label>\n      <input type=\"text\"></input>*/}\n\n      <button aria-label=\"Close\" onClick={onClose} class=\"tabcontainer__close\">\n        X\n      </button>\n      {children}\n    </li>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport Mandolin from \"./instruments/strings/Mandolin\";\nimport Guitar from \"./instruments/strings/Guitar\";\nimport Banjo from \"./instruments/strings/Banjo\";\nimport Ukulele from \"./instruments/strings/Ukulele\";\nimport ScaleData from \"common/ScaleData\";\nimport Flute from \"./instruments/flute/Flute\";\nimport Select from \"react-select\";\nimport Piano from \"./instruments/keyboard/Piano\";\nimport Treble from \"./instruments/notation/TrebleStaff\";\nimport Bass from \"./instruments/notation/BassStaff\";\nimport Alto from \"./instruments/notation/AltoStaff\";\nimport Sax from \"./instruments/notation/SaxStaff\";\nimport Triads from \"./instruments/chords/Triads\";\nimport TriadCircle from \"./instruments/chords/TriadCircle\";\nimport { SortableContainer, SortableElement } from \"react-sortable-hoc\";\nimport Autoharp from \"./instruments/autoharp/Autoharp\";\nimport { arrayMoveImmutable } from \"array-move\";\nimport TabContainer from \"./TabContainer\";\n\nimport \"./Tablature.scss\";\n\nconst INST = {\n  GUITAR: {\n    name: \"GUITAR\",\n    display: \"Guitar\",\n    Fn: Guitar,\n  },\n  BANJO: {\n    name: \"BANJO\",\n    display: \"Banjo\",\n    Fn: Banjo,\n  },\n  MANDOLIN: {\n    name: \"MANDOLIN\",\n    display: \"Mandolin\",\n    Fn: Mandolin,\n  },\n  UKULELE: {\n    name: \"UKULELE\",\n    display: \"Ukulele\",\n    Fn: Ukulele,\n  },\n  FLUTE: {\n    name: \"FLUTE\",\n    display: \"Flute\",\n    Fn: Flute,\n  },\n  PIANO: {\n    name: \"PIANO\",\n    display: \"Piano\",\n    Fn: Piano,\n  },\n  TREBLESTAFF: {\n    name: \"TREBLESTAFF\",\n    display: \"Treble Staff\",\n    Fn: Treble,\n  },\n  BASSSTAFF: {\n    name: \"BASSSTAFF\",\n    display: \"Bass Staff\",\n    Fn: Bass,\n  },\n  ALTOSTAFF: {\n    name: \"ALTOSTAFF\",\n    display: \"Alto Staff\",\n    Fn: Alto,\n  },\n  SAXSTAFF: {\n    name: \"SAXSTAFF\",\n    display: \"Sax Staff\",\n    Fn: Sax,\n  },\n  TRIADS: {\n    name: \"TRIADS\",\n    display: \"Triads\",\n    Fn: Triads,\n  },\n  TRIADCIRCLE: {\n    name: \"TRIADCIRCLE\",\n    display: \"Circle of Triads\",\n    Fn: TriadCircle,\n  },\n  AUTOHARP: {\n    name: \"AUTOHARP\",\n    display: \"Autoharp\",\n    Fn: Autoharp,\n  },\n};\n\nexport default function Tablature() {\n    const dispatch = useDispatch()\n    const { tabData, scaleData } = useSelector(state => state.root)\n    const setTablatureInstruments = (payload) => dispatch({ type: 'SET_TAB_DATA', payload })\n    // console.log(scaleData);\n    const options = [\n        {\n            label: \"Fretted Instruments\",\n            options: [\n                { label: \"Guitar\", value: INST.GUITAR.name },\n                { label: \"Banjo\", value: INST.BANJO.name },\n                { label: \"Mandolin\", value: INST.MANDOLIN.name },\n                { label: \"Ukulele\", value: INST.UKULELE.name },\n            ],\n            },\n            {\n            label: \"Aerophones\",\n            options: [{ label: \"Flute\", value: INST.FLUTE.name }],\n            },\n            {\n            label: \"Keyboard\",\n            options: [\n                { label: \"Piano\", value: INST.PIANO.name },\n                { label: \"Autoharp\", value: INST.AUTOHARP.name },\n            ],\n            },\n            {\n            label: \"Staff Notation\",\n            options: [\n                { label: \"Treble Staff\", value: INST.TREBLESTAFF.name },\n                { label: \"Bass Staff\", value: INST.BASSSTAFF.name },\n                { label: \"Alto Staff\", value: INST.ALTOSTAFF.name },\n                { label: \"Sax Staff\", value: INST.SAXSTAFF.name }\n            ],\n            },\n            {\n            label: \"Chords\",\n            options: [\n                { label: \"Triads\", value: INST.TRIADS.name },\n                {\n                label: \"Circle of Major and Minor Triads\",\n                value: INST.TRIADCIRCLE.name,\n                },\n            ],\n        },\n    ];\n\n    const onChange = (newSelected, s) => {\n        setTablatureInstruments(newSelected);\n    };\n\n    const onSortEnd = ({ oldIndex, newIndex }) => {\n        const newSelected = arrayMoveImmutable(tabData, oldIndex, newIndex);\n        onChange(newSelected);\n    };\n\n    const makeCloseFn = (name) => {\n        return () => {\n            const newSelected = tabData.filter((s) => s.value !== name);\n            setTablatureInstruments(newSelected);\n        };\n    };\n\n    const SortableTabsList = SortableContainer(({ keyData, curSelected }) => {\n        return (\n            <ul class=\"alltabscontainer\">\n                {curSelected.map((selection, i) => {\n                if (INST[selection.value]) {\n                    const Inst = INST[selection.value];\n                    const SortableTab = SortableElement(() => {\n                    return (\n                        <TabContainer\n                        onClose={makeCloseFn(Inst.name)}\n                        instrumentName={Inst.display}\n                        >\n                        <Inst.Fn keyData={keyData} />\n                        </TabContainer>\n                    );\n                    });\n                    return <SortableTab key={i} index={i}></SortableTab>;\n                }\n                return <></>;\n                })}\n            </ul>\n        );\n    });\n\n    const keyData = ScaleData[scaleData.scale];\n\n    return (\n        <div className=\"tabsectioncontainer\">\n            <h2 className=\"tabsectioncontainer__title\">Instruments</h2>\n            <Select\n                isMulti\n                name=\"Tablature\"\n                onChange={onChange}\n                options={options}\n                value={tabData}\n                className=\"tabsectioncontainer__select\"\n                classNamePrefix=\"select\"\n                placeholder=\"add instrument...\"\n            />\n            <SortableTabsList\n                onSortEnd={onSortEnd}\n                keyData={keyData}\n                curSelected={tabData}\n            />\n        </div>\n    );\n}\n","import React from \"react\";\nimport \"./Keyboard.scss\";\nimport classNames from \"classnames\";\n\nexport default function Piano({ keyData }) {\n  return (\n    <>\n      <div class=\"piano\">\n        <div\n          class={classNames(\"piano__key piano__key--white c\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(0),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--black c_sharp\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(1),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--white d\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(2),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--black d_sharp\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(3),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--white e\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(4),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--white f\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(5),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--black f_sharp\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(6),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--white g\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(7),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--black g_sharp\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(8),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--white a\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(9),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--black a_sharp\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(10),\n          })}\n        ></div>\n        <div\n          class={classNames(\"piano__key piano__key--white b\", {\n            \"piano__key--on\": keyData.pitch_classes.includes(11),\n          })}\n        ></div>\n      </div>\n      <div class=\"piano__clear\"></div>\n    </>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport PitchClassData from \"common/PitchClassData\";\nimport Vex from \"vexflow\";\n\nexport default function Treble({ keyData }) {\n  useEffect(() => {\n    const VF = Vex.Flow;\n\n    const renderer = new VF.Renderer(\n      document.getElementById(\"treblestaff\"),\n      VF.Renderer.Backends.SVG\n    );\n\n    var stave_width;\n\n    //console.log(\"staffwide \", window.innerWidth);\n\n    if (window.innerWidth <= 600){\n      stave_width = 350;\n    } else if (window.innerWidth <= 960 && window.innerWidth > 600) {\n      stave_width = 400;\n    } else if (window.innerWidth <= 1280 && window.innerWidth > 960) {\n      stave_width = 500;\n    } else if (window.innerWidth > 1280) {\n      stave_width = 600;\n    }\n\n    renderer.resize(stave_width, 100);\n\n    var context = renderer.getContext();\n    context.setFont(\"Arial\", 10, \"\");\n\n    var stave = new VF.Stave(0, 0, stave_width);\n    stave.addClef(\"treble\");\n    stave.setContext(context);\n\n    var notes = [];\n    const convert_inflection = {\"s\": \"#\", \"ss\": \"##\", \"f\": \"b\", \"ff\": \"bb\", \"\": \"n\"}\n    const convert_octavation = {\"''\": \"/6\", \"'\": \"/5\", \"\": \"/4\" };\n\n    keyData.spelling.forEach(function(element) {\n      var re_lilypond_note = /^([a-g])(s|ss|f|ff|)('|''|)$/\n      //match returns an array pf what it matched: whats the note, acidental and octave??\n      //pass gi2567756bg3h45g : match_obj will be NULL\n      var match_obj = element.match(re_lilypond_note);\n\n      if (match_obj === null) {\n        return [];\n\n      }\n\n      var base_note_name = match_obj[1];\n      var inflection = match_obj[2];\n      var octavation = match_obj[3];\n\n      if (inflection == \"\"){\n        notes.push(new VF.StaveNote({clef: \"treble\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\" }))\n      }\n      else {\n        notes.push(new VF.StaveNote({clef: \"treble\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\" }).\n        addAccidental(0, new VF.Accidental(convert_inflection[inflection])));\n      }  \n    });\n    //console.log(\"notes: \",notes);\n\n\n    const voice = new VF.Voice({\n      num_beats: keyData.pitch_classes.length,\n      beat_value: 4,\n    });\n    voice.addTickables(notes);\n    new VF.Formatter().joinVoices([voice]).format([voice], stave_width);\n\n    // const group = context.openGroup();\n    stave.draw();\n    voice.draw(context, stave);\n    // context.closeGroup();\n\n    // And when you want to delete it, do this:\n    // context.svg.removeChild(group);\n\n    return () => {\n      const staff = document.getElementById(\"treblestaff\");\n      while (staff && staff.hasChildNodes()) {\n        staff.removeChild(staff.lastChild);\n      }\n    };\n  }, [keyData]);\n\n  return <div id=\"treblestaff\" class=\"treblestaff\"></div>;\n}\n","import React, { useEffect } from \"react\";\nimport PitchClassData from \"common/PitchClassData\";\nimport Vex from \"vexflow\";\n\nexport default function Bass({ keyData }) {\n  useEffect(() => {\n    const VF = Vex.Flow;\n\n    const renderer = new VF.Renderer(\n      document.getElementById(\"bassstaff\"),\n      VF.Renderer.Backends.SVG\n    );\n\n    var stave_width;\n\n    //console.log(\"staffwide \", window.innerWidth);\n\n    if (window.innerWidth <= 600){\n      stave_width = 350;\n    } else if (window.innerWidth <= 960 && window.innerWidth > 600) {\n      stave_width = 400;\n    } else if (window.innerWidth <= 1280 && window.innerWidth > 960) {\n      stave_width = 500;\n    } else if (window.innerWidth > 1280) {\n      stave_width = 600;\n    }\n\n    renderer.resize(stave_width, 100);\n\n    var context = renderer.getContext();\n    context.setFont(\"Arial\", 10, \"\");\n\n    var stave = new VF.Stave(0, 0, stave_width);\n    stave.addClef(\"bass\");\n    stave.setContext(context);\n\n    var notes = [];\n    const convert_inflection = {\"s\": \"#\", \"ss\": \"##\", \"f\": \"b\", \"ff\": \"bb\", \"\": \"n\"}\n    const convert_octavation = {\"''\": \"/5\", \"'\": \"/4\", \"\": \"/3\" };\n\n    keyData.spelling.forEach(function(element) {\n      var re_lilypond_note = /^([a-g])(s|ss|f|ff|)('|''|)$/\n      //match returns an array pf what it matched: whats the note, acidental and octave??\n      //pass gi2567756bg3h45g : match_obj will be NULL\n      var match_obj = element.match(re_lilypond_note);\n\n      if (match_obj === null) {\n        return [];\n\n      }\n\n      var base_note_name = match_obj[1];\n      var inflection = match_obj[2];\n      var octavation = match_obj[3];\n\n\n      if (inflection == \"\"){\n        notes.push(new VF.StaveNote({clef: \"bass\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\", stem_direction: Vex.Flow.StaveNote.STEM_DOWN }))\n      }\n      else {\n        notes.push(new VF.StaveNote({clef: \"bass\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\", stem_direction: Vex.Flow.StaveNote.STEM_DOWN }).\n        addAccidental(0, new VF.Accidental(convert_inflection[inflection])));\n      } \n\n    });\n    \n\n\n    const voice = new VF.Voice({\n      num_beats: keyData.pitch_classes.length,\n      beat_value: 4,\n    });\n    voice.addTickables(notes);\n    new VF.Formatter().joinVoices([voice]).format([voice], stave_width);\n\n    // const group = context.openGroup();\n    stave.draw();\n    voice.draw(context, stave);\n    // context.closeGroup();\n\n    // And when you want to delete it, do this:\n    // context.svg.removeChild(group);\n\n    return () => {\n      const staff = document.getElementById(\"bassstaff\");\n      while (staff && staff.hasChildNodes()) {\n        staff.removeChild(staff.lastChild);\n      }\n    };\n  }, [keyData]);\n\n  return <div id=\"bassstaff\" class=\"bassstaff\"></div>;\n}\n","import React, { useEffect } from \"react\";\nimport PitchClassData from \"common/PitchClassData\";\nimport Vex from \"vexflow\";\n\nexport default function Alto({ keyData }) {\n  useEffect(() => {\n    const VF = Vex.Flow;\n\n    const renderer = new VF.Renderer(\n      document.getElementById(\"altostaff\"),\n      VF.Renderer.Backends.SVG\n    );\n\n    var stave_width;\n\n    //console.log(\"staffwide \", window.innerWidth);\n\n    if (window.innerWidth <= 600){\n      stave_width = 350;\n    } else if (window.innerWidth <= 960 && window.innerWidth > 600) {\n      stave_width = 400;\n    } else if (window.innerWidth <= 1280 && window.innerWidth > 960) {\n      stave_width = 500;\n    } else if (window.innerWidth > 1280) {\n      stave_width = 600;\n    }\n\n    renderer.resize(stave_width, 100);\n\n    var context = renderer.getContext();\n    context.setFont(\"Arial\", 10, \"\");\n\n    var stave = new VF.Stave(0, 0, stave_width);\n    stave.addClef(\"alto\");\n    stave.setContext(context);\n\n    var notes = [];\n    const convert_inflection = {\"s\": \"#\", \"ss\": \"##\", \"f\": \"b\", \"ff\": \"bb\", \"\": \"n\"}\n    const convert_octavation = {\"''\": \"/6\", \"'\": \"/5\", \"\": \"/4\" };\n\n    keyData.spelling.forEach(function(element) {\n      var re_lilypond_note = /^([a-g])(s|ss|f|ff|)('|''|)$/\n      //match returns an array pf what it matched: whats the note, acidental and octave??\n      //pass gi2567756bg3h45g : match_obj will be NULL\n      var match_obj = element.match(re_lilypond_note);\n\n      if (match_obj === null) {\n        return [];\n\n      }\n\n      var base_note_name = match_obj[1];\n      var inflection = match_obj[2];\n      var octavation = match_obj[3];\n\n      if (inflection == \"\"){\n        notes.push(new VF.StaveNote({clef: \"alto\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\", stem_direction: Vex.Flow.StaveNote.STEM_DOWN }))\n      }\n      else {\n        notes.push(new VF.StaveNote({clef: \"alto\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\", stem_direction: Vex.Flow.StaveNote.STEM_DOWN }).\n        addAccidental(0, new VF.Accidental(convert_inflection[inflection])));\n      }  \n\n\n    });\n    //console.log(\"notes: \",notes);\n\n\n    const voice = new VF.Voice({\n      num_beats: keyData.pitch_classes.length,\n      beat_value: 4,\n\n    });\n    voice.addTickables(notes);\n    new VF.Formatter().joinVoices([voice]).format([voice], stave_width);\n\n    // const group = context.openGroup();\n    stave.draw();\n    voice.draw(context, stave);\n    // context.closeGroup();\n\n    // And when you want to delete it, do this:\n    // context.svg.removeChild(group);\n\n    return () => {\n      const staff = document.getElementById(\"altostaff\");\n      while (staff && staff.hasChildNodes()) {\n        staff.removeChild(staff.lastChild);\n      }\n    };\n  }, [keyData]);\n\n  return <div id=\"altostaff\" class=\"altostaff\"></div>;\n}\n","import React, { useEffect } from \"react\";\nimport PitchClassData from \"common/PitchClassData\";\nimport ScaleData from \"common/ScaleData\";\nimport Vex from \"vexflow\";\n\nfunction transposeScale(object, value, transposition) {\n  let old_scale = ScaleData[Object.keys(object).find(key => object[key] === value)];\n\n  let modulus = 12;\n\n  if (old_scale.scale_class == \"octatonic\") {\n    modulus = 3;\n  } else if (old_scale.scale_class == \"hexatonic\") {\n    modulus = 4;\n  } else if (old_scale.scale_class == \"whole_tone\") {\n    modulus = 2;\n  } else {\n    modulus = 12;\n  }\n\n  for (const [key, value] of Object.entries(ScaleData)) {\n    if (old_scale.scale_class == ScaleData[key].scale_class && ((old_scale.root+transposition)%modulus) == ScaleData[key].root%modulus){\n      console.log(old_scale, key);\n      return key;\n    }\n  }\n\n}\n\nexport default function Sax({ keyData }) {\n  useEffect(() => {\n\n\n    keyData = ScaleData[transposeScale(ScaleData, keyData, 9)];\n\n\n    const VF = Vex.Flow;\n\n    const renderer = new VF.Renderer(\n      document.getElementById(\"saxstaff\"),\n      VF.Renderer.Backends.SVG\n    );\n\n    var stave_width;\n\n    //console.log(\"staffwide \", window.innerWidth);\n\n    if (window.innerWidth <= 600) {\n      stave_width = 350;\n    } else if (window.innerWidth <= 960 && window.innerWidth > 600) {\n      stave_width = 400;\n    } else if (window.innerWidth <= 1280 && window.innerWidth > 960) {\n      stave_width = 500;\n    } else if (window.innerWidth > 1280) {\n      stave_width = 600;\n    }\n\n    renderer.resize(stave_width, 100);\n\n    var context = renderer.getContext();\n    context.setFont(\"Arial\", 10, \"\");\n\n    var stave = new VF.Stave(0, 0, stave_width);\n    stave.addClef(\"treble\");\n    stave.setContext(context);\n\n    var notes = [];\n    const convert_inflection = { \"s\": \"#\", \"ss\": \"##\", \"f\": \"b\", \"ff\": \"bb\", \"\": \"n\" };\n    const convert_octavation = { \"''\": \"/6\", \"'\": \"/5\", \"\": \"/4\" };\n\n    keyData.spelling.forEach(function(element) {\n      var re_lilypond_note = /^([a-g])(s|ss|f|ff|)('|''|)$/\n      //match returns an array pf what it matched: whats the note, acidental and octave??\n      //pass gi2567756bg3h45g : match_obj will be NULL\n      var match_obj = element.match(re_lilypond_note);\n\n      if (match_obj === null) {\n        return [];\n\n      }\n\n      var base_note_name = match_obj[1];\n      var inflection = match_obj[2];\n      var octavation = match_obj[3];\n\n      if (inflection == \"\") {\n        notes.push(new VF.StaveNote({ clef: \"treble\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\", stem_direction: Vex.Flow.StaveNote.STEM_UP }))\n      } else {\n        notes.push(new VF.StaveNote({ clef: \"treble\", keys: [base_note_name + convert_octavation[octavation]], duration: \"q\", stem_direction: Vex.Flow.StaveNote.STEM_UP }).addAccidental(0, new VF.Accidental(convert_inflection[inflection])));\n      }\n\n\n    });\n    //console.log(\"notes: \",notes);\n\n\n    const voice = new VF.Voice({\n      num_beats: keyData.pitch_classes.length,\n      beat_value: 4,\n\n    });\n    voice.addTickables(notes);\n    new VF.Formatter().joinVoices([voice]).format([voice], stave_width);\n\n    // const group = context.openGroup();\n    stave.draw();\n    voice.draw(context, stave);\n    // context.closeGroup();\n\n    // And when you want to delete it, do this:\n    // context.svg.removeChild(group);\n\n    return () => {\n      const staff = document.getElementById(\"saxstaff\");\n      while (staff && staff.hasChildNodes()) {\n        staff.removeChild(staff.lastChild);\n      }\n    };\n  }, [keyData]);\n\n  return <div id = \"saxstaff\"\n  class = \"saxstaff\" > < /div>;\n}\n","import React from \"react\";\nimport \"./Triads.scss\";\n\nexport default function Triads({ keyData }) {\n  return <span className=\"triadtabs\">{keyData.chords.join(\", \")}</span>;\n}\n","import React from \"react\";\r\nimport \"./Autoharp.scss\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default function Autoharp({ keyData }) {\r\n    return (\r\n        <>\r\n            <div class=\"autoharp\">\r\n                <div\r\n                    class={classNames(\"autoharp__button autoharp__button c\", {\r\n                        \"autoharp__button--on\":\r\n                            keyData.pitch_classes.includes(0),\r\n                    })}\r\n                >\r\n                    <h2>C</h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\r\n                        \"autoharp__button autoharp__button d_sharp\",\r\n                        {\r\n                            \"autoharp__button--on\":\r\n                                keyData.pitch_classes.includes(3),\r\n                        }\r\n                    )}\r\n                >\r\n                    <h2>\r\n                        E\r\n                    </h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\r\n                        \"autoharp__button autoharp__button f_sharp\",\r\n                        {\r\n                            \"autoharp__button--on\":\r\n                                keyData.pitch_classes.includes(6),\r\n                        }\r\n                    )}\r\n                >\r\n                    <h2>\r\n                        F\r\n                    </h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\"autoharp__button autoharp__button a\", {\r\n                        \"autoharp__button--on\":\r\n                            keyData.pitch_classes.includes(9),\r\n                    })}\r\n                >\r\n                    <h2>A</h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\r\n                        \"autoharp__button autoharp__button c_sharp\",\r\n                        {\r\n                            \"autoharp__button--on\":\r\n                                keyData.pitch_classes.includes(1),\r\n                        }\r\n                    )}\r\n                >\r\n                    <h2>\r\n                        C\r\n                    </h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\"autoharp__button autoharp__button e\", {\r\n                        \"autoharp__button--on\":\r\n                            keyData.pitch_classes.includes(4),\r\n                    })}\r\n                >\r\n                    {\" \"}\r\n                    <h2>E</h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\"autoharp__button autoharp__button g\", {\r\n                        \"autoharp__button--on\":\r\n                            keyData.pitch_classes.includes(7),\r\n                    })}\r\n                >\r\n                    <h2>G</h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\r\n                        \"autoharp__button autoharp__button a_sharp\",\r\n                        {\r\n                            \"autoharp__button--on\":\r\n                                keyData.pitch_classes.includes(10),\r\n                        }\r\n                    )}\r\n                >\r\n                    <h2>\r\n                        B\r\n                    </h2>\r\n                </div>\r\n                <div\r\n                    class={classNames(\"autoharp__button autoharp__button d\", {\r\n                        \"autoharp__button--on\":\r\n                            keyData.pitch_classes.includes(2),\r\n                    })}\r\n                >\r\n                    <h2>D</h2>\r\n                </div>\r\n\r\n                <div\r\n                    class={classNames(\"autoharp__button autoharp__button f\", {\r\n                        \"autoharp__button--on\":\r\n                            keyData.pitch_classes.includes(5),\r\n                    })}\r\n                >\r\n                    {\" \"}\r\n                    <h2>F</h2>\r\n                </div>\r\n\r\n                <div\r\n                    class={classNames(\r\n                        \"autoharp__button autoharp__button g_sharp\",\r\n                        {\r\n                            \"autoharp__button--on\":\r\n                                keyData.pitch_classes.includes(8),\r\n                        }\r\n                    )}\r\n                >\r\n                    <h2>\r\n                        G\r\n                    </h2>\r\n                </div>\r\n\r\n                <div\r\n                    class={classNames(\"autoharp__button autoharp__button b\", {\r\n                        \"autoharp__button--on\":\r\n                            keyData.pitch_classes.includes(11),\r\n                    })}\r\n                >\r\n                    <h2>B</h2>\r\n                </div>\r\n            </div>\r\n            <div class=\"autoharp__clear\"></div>\r\n        </>\r\n    );\r\n}\r\n","import React from \"react\";\nimport Sketch from \"react-p5\";\nimport Polygon from \"components/Navigation/Navigator/Polygon\";\nimport ScaleData from \"common/ScaleData\";\n\nconst Visualization = () => {\n    const fps = 30;\n    var clickInNextFrame = 0;\n    var ran_setup = false;\n    var canvasParentRef = document.getElementById(\"canv_container_visu\");\n    var cnv;\n    var l = 0;\n\n    var last_mp = undefined;\n    window.breadcrumbs = {};\n\n    /*\n    var diatonic = [],\n        acoustic = [],\n        harmonic_major = [],\n        harmonic_minor = [],\n        octatonic = [],\n        hexatonic = [],\n        whole_tone = [];*/\n    var layers = [];\n\n    const setup = (p5) => {\n        if (canvasParentRef == null)\n            canvasParentRef = document.getElementById(\"canv_container_visu\");\n        if (canvasParentRef) {\n            const p = canvasParentRef.getBoundingClientRect();\n\n            cnv = p5\n                .createCanvas(p.width * 0.9, p.height * 0.9)\n                .parent(canvasParentRef);\n            p5.frameRate(fps);\n            windowResized(p5);\n\n            ran_setup = true;\n\n            var keys = Object.keys(ScaleData);\n            var scale_data_arr = keys.map((k, id) =>\n                Object.defineProperty(ScaleData[k], \"name\", { value: k })\n            );\n\n            var s = (p5.width + p5.height) / 100;\n\n            layers = [\n                [\n                    new Polygon(p5, 0, 0, s, \"c_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"g_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"d_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"a_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"e_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"b_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"fs_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"cs_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"gs_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"ds_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"as_diatonic\"),\n                    new Polygon(p5, 0, 0, s, \"f_diatonic\"),\n                ],\n                [\n                    new Polygon(p5, 0, 0, s, \"c_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"g_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"d_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"a_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"e_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"b_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"fs_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"cs_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"gs_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"ds_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"as_acoustic\"),\n                    new Polygon(p5, 0, 0, s, \"f_acoustic\"),\n                ],\n                [\n                    new Polygon(p5, 0, 0, s, \"d_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"d_harmonic_major\"),\n                    new Polygon(p5, 0, 0, s, \"b_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"b_harmonic_major\"),\n                    new Polygon(p5, 0, 0, s, \"gs_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"gs_harmonic_major\"),\n                    new Polygon(p5, 0, 0, s, \"f_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"f_harmonic_major\"),\n                ],\n                [\n                    {},\n                    new Polygon(p5, 0, 0, s, \"a_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"a_harmonic_major\"),\n                    {},\n                    new Polygon(p5, 0, 0, s, \"fs_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"fs_harmonic_major\"),\n                    {},\n                    new Polygon(p5, 0, 0, s, \"ds_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"ds_harmonic_major\"),\n                    {},\n                    new Polygon(p5, 0, 0, s, \"c_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"c_harmonic_major\"),\n                ],\n                [\n                    new Polygon(p5, 0, 0, s, \"g_harmonic_major\"),\n                    new Polygon(p5, 0, 0, s, \"e_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"e_harmonic_major\"),\n                    new Polygon(p5, 0, 0, s, \"cs_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"cs_harmonic_major\"),\n                    new Polygon(p5, 0, 0, s, \"as_harmonic_minor\"),\n                    new Polygon(p5, 0, 0, s, \"as_harmonic_major\"),\n                    new Polygon(p5, 0, 0, s, \"g_harmonic_minor\"),\n                ],\n                [\n                    new Polygon(p5, 0, 0, s, \"hexatonic_4\"),\n                    new Polygon(p5, 0, 0, s, \"hexatonic_3\"),\n                    new Polygon(p5, 0, 0, s, \"hexatonic_2\"),\n                    new Polygon(p5, 0, 0, s, \"hexatonic_1\"),\n                ],\n                [\n                    {},\n                    new Polygon(p5, 0, 0, s, \"octatonic_3\"),\n                    {},\n                    new Polygon(p5, 0, 0, s, \"octatonic_2\"),\n                    {},\n                    new Polygon(p5, 0, 0, s, \"octatonic_1\"),\n                ],\n                [\n                    {},\n                    new Polygon(p5, 0, 0, s, \"whole_tone_2\"),\n                    {},\n                    new Polygon(p5, 0, 0, s, \"whole_tone_1\"),\n                ],\n            ];\n\n            p5.translate(p5.width / 2, p5.height / 2);\n\n            for (var j = 0; j < layers.length; j++) {\n                l = 45 / 50 - j / (layers.length + 1);\n                var arr = layers[j];\n                for (var i = 0; i < arr.length; i++) {\n                    var a = (Math.PI * 2 * i) / arr.length - Math.PI / 2;\n                    var x = (Math.cos(a) * l) / 2;\n                    var y = (Math.sin(a) * l) / 2;\n\n                    if (arr[i]) {\n                        arr[i].x = x + 1 / 2;\n                        arr[i].y = y + 1 / 2;\n\n                        arr[i].layer_id = j;\n                    }\n                }\n            }\n        }\n    };\n\n    const addBreadcrumb = (p1, p2, st = true) => {\n        if (!window.breadcrumbs[p1]) window.breadcrumbs[p1] = {};\n        if (!window.breadcrumbs[p2]) window.breadcrumbs[p2] = {};\n\n        window.breadcrumbs[p1][p2] = st;\n        window.breadcrumbs[p2][p1] = st;\n    }\n\n    const draw = (p5) => {\n        if (!ran_setup) setup(p5);\n        else {\n            p5.push();\n\n            cnv.parent(canvasParentRef);\n            const p = canvasParentRef.getBoundingClientRect();\n            if (p5.width != p.width * 0.9 || p5.height != p.height * 0.9)\n                windowResized(p5);\n            p5.background(0);\n\n            function getScaleObjectByName(name) {\n                for (var id = 0; id < layers.length; id++) {\n                    var l = layers[id]\n                    for (var po of l) {\n                        if (po) {\n                            if (po.scale == name) return { po: po, l: id };\n                        }\n                    }\n                }\n                return undefined;\n            }\n\n            function getCheckboxIDByScale(scale) {\n                var a = [\"diatonic\", \"acoustic\", \"major\", \"minor\"];\n                var b = [\"hexatonic\", \"octatonic\", \"whole\"];\n\n                var s = scale.split(\"_\")\n                var id = a.indexOf(s[s.length - 1])\n\n                if (id == -1) {\n                    return 4 + b.indexOf(s[0])\n                } else return id\n            }\n\n            //p5.fill(255, 0, 0)\n            //p5.text(p5.mouseX + \", \" + p5.mouseY, p5.mouseX, p5.mouseY)\n\n            var old_m_p;\n            if (window.navRef.current.old_main_polygon) {\n                old_m_p = getScaleObjectByName(window.navRef.current.old_main_polygon.scale).po\n            }\n\n            var mp = window.navRef.current.main_polygon;\n            if (last_mp) {\n                if (last_mp != mp.scale) {\n                    addBreadcrumb(last_mp, mp.scale)\n                }\n            }\n\n            for (var id = 0; id < layers.length; id++) {\n                var l = layers[id];\n\n                var lay_ellipse_w_r;\n                var lay_ellipse_h_r;\n                lay_ellipse_h_r = p5.height / 2 - l[0].y * p5.height\n                lay_ellipse_w_r = p5.width / p5.height * lay_ellipse_h_r;\n\n                for (var po of l) {\n                    if (po.data) {\n                        if (\n                            window.navRef.current.main_polygon.scale == po.scale\n                        ) {\n                            if (document.getElementById(\"visu_inp_l_\" + getCheckboxIDByScale(po.scale)).checked) {\n\n                                var x = po.x;\n                                var y = po.y;\n\n                                if (window.navRef.current.main_polygon.animation.active) {\n                                    var _p = window.navRef.current.main_polygon.animation.animation_curve(window.navRef.current.main_polygon.animation.progress());\n                                    x = p5.lerp(po.x, old_m_p.x, 1 - _p)\n                                    y = p5.lerp(po.y, old_m_p.y, 1 - _p)\n                                }\n\n                                p5.push();\n                                p5.noStroke();\n                                for (var i = 0; i < 1; i += 1 / 20) {\n                                    p5.fill(255, 255, 255, i * 64)\n                                    p5.ellipse(x * p5.width, y * p5.height, 5 * po.radius * (1 - i))\n                                }\n                                p5.pop();\n                            }\n                        }\n\n                        p5.push();\n                        p5.stroke(255, 16);\n                        var sw = (p5.width + p5.height) / 1000;\n                        var layerAllowed = false;\n                        var alph = 50;\n                        var cols_same = [\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                        ];\n                        var cols_dif = [\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                            [255, 255, 255, alph],\n                        ];\n\n                        var ang = Math.PI / 2 -\n                            Math.atan2((p5.mouseX - p5.width / 2) / lay_ellipse_w_r, (p5.mouseY - p5.height / 2) / lay_ellipse_h_r)\n                        if (\n                            /*\n                            l\n                            .map((x) => {\n                                if (x) return x.scale;\n                            })\n                            .includes(\n                                window.navRef.current.main_polygon.scale\n                            )*/\n                            p5.dist(Math.cos(ang) * lay_ellipse_w_r + p5.width / 2, Math.sin(ang) * lay_ellipse_h_r + p5.height / 2, p5.mouseX, p5.mouseY) < 15\n                        ) {\n                            cols_same[po.layer_id][3] *= 2;\n                            layerAllowed = true;\n                        }\n\n                        for (var adj of po.data.adjacent_scales) {\n                            var scale_d = getScaleObjectByName(adj);\n                            var scale = scale_d.po;\n\n                            // && document.getElementById(\"visu_inp_l_\" + scale_d.l).checked\n                            if (scale &&\n                                document.getElementById(\"visu_inp_l_\" + getCheckboxIDByScale(scale.scale)).checked &&\n                                document.getElementById(\"visu_inp_l_\" + getCheckboxIDByScale(po.scale)).checked) {\n\n                                //console.log(getCheckboxIDByScale(scale.scale), getCheckboxIDByScale(po.scale))\n\n                                if (scale.layer_id == po.layer_id) {\n                                    p5.stroke(...cols_same[po.layer_id]);\n                                    if (layerAllowed) p5.strokeWeight(sw * 3);\n                                    else p5.strokeWeight(sw);\n                                } else {\n                                    p5.stroke(\n                                        ...cols_dif[\n                                            Math.abs(\n                                                scale.layer_id - po.layer_id\n                                            )\n                                        ]\n                                    );\n                                    p5.strokeWeight(sw);\n                                }\n\n\n                                if (window.breadcrumbs[adj]) {\n                                    if (window.breadcrumbs[adj][\n                                            [po.scale]\n                                        ]) {\n                                        p5.stroke(255, 0, 0, (window.navRef.current.main_polygon.scale == po.scale ? 255 : alph))\n                                    }\n                                } else if (window.navRef.current.main_polygon.scale == po.scale) p5.stroke(255)\n\n                                var x1 = p5.width * scale.x;\n                                var y1 = p5.height * scale.y;\n                                var x2 = p5.width * po.x;\n                                var y2 = p5.height * po.y;\n\n                                p5.line(x1, y1, x2, y2);\n                            }\n                        }\n                        p5.pop();\n                    }\n                }\n            }\n\n            for (var id = 0; id < layers.length; id++) {\n                var l = layers[id];\n\n                for (var po of l) {\n                    if (po.data && document.getElementById(\"visu_inp_l_\" + getCheckboxIDByScale(po.scale)).checked) {\n                        var cli = po.click();\n                        if (cli && clickInNextFrame > 0) {\n                            var mp = window.navRef.current.main_polygon;\n                            var n = mp.getNeighbors().map(x => x.scale)\n\n                            addBreadcrumb(mp.scale, po.scale)\n                            window.navRef.current.jumpToScale(po.scale)\n\n                            if (!n.includes(po.scale)) {\n                                //resetBreadcrumbs();\n                            }\n                        }\n\n                        po.draw(\n                            false,\n                            false, { x: 0, y: 0 },\n                            (window.navRef.current.main_polygon.scale == po.scale ?\n                                1.25 :\n                                1) + (cli ? 0.2 : 0)\n                        );\n                    }\n                }\n            }\n\n            clickInNextFrame--;\n            last_mp = window.navRef.current.main_polygon.scale;\n\n            p5.pop();\n        }\n    };\n\n    const mousePressed = (p5, event) => {\n        clickInNextFrame = 1;\n    };\n\n    const mouseReleased = (p5, event) => {};\n\n    const windowResized = (p5) => {\n        if (canvasParentRef) {\n            const p = canvasParentRef.getBoundingClientRect();\n            p5.resizeCanvas(p.width * 0.9, p.height * 0.9);\n\n            for (var l of layers) {\n                for (var po of l) {\n                    if (po) po.radius = (p5.width + p5.height) / 100;\n                }\n            }\n        }\n    };\n\n    const preload = (p5) => {};\n\n    const resetBreadcrumbs = () => {\n        window.breadcrumbs = {};\n    }\n\n    return ( <\n        Sketch preload = { preload }\n        setup = { setup }\n        draw = { draw }\n        mousePressed = { mousePressed }\n        mouseReleased = { mouseReleased }\n        windowResized = { windowResized }\n        />\n    );\n};\n\nexport default Visualization;","import React from 'react';\n\nimport Account from '../Account'\nimport { withAuthorization, withEmailVerification, AuthUserContext } from '../../Session';\nimport { compose } from 'recompose';\n\n\n\nconst AccountLanding = (authUser) => (\n  <div>\n    <AuthUserContext.Consumer>\n       {authUser => (\n          <div style={{marginTop:20}} align=\"center\">\n            <Account authUser={authUser}/>\n          </div>\n        )}\n      </AuthUserContext.Consumer>  \n  </div>\n);\n\n\nexport default compose(\n  //withEmailVerification,\n)(AccountLanding);","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux'\nimport styled from 'styled-components';\nimport Modal from 'react-modal';\nimport { withRouter, Link } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport ROUTES from 'common/Routes';\nimport { compose } from 'recompose';\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        width: '100%',\n        maxWidth: '550px',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        background: 'transparent',\n        border: 0,\n        zIndex: 9090\n    },\n};\n\nconst Wrapper = styled.div`\n    color: #fff;\n    background: #000000;\n    border: 3px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 38px;\n    padding: 12px 0 35px;\n\n    &>div {\n        width: 100%;\n        max-width: 350px;\n        margin: 0 auto;\n        padding: 50px 20px 0;\n    }\n`;\n\nconst Title = styled.div`\n    font-weight: bold;\n    font-size: 36px;\n    line-height: 20px;\n    text-align: center;\n    width: 100%;\n`;\n\nconst Label = styled.label`\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 22px;\n    display: block;\n\n    &>div {\n        margin-bottom: 10px;\n    }\n`;\n\nconst Input = styled.input`\n    border: 2px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 9px;\n    background-color: transparent;\n    height: 39px;\n    width: 100%;\n    margin-bottom: 28px;\n    padding-left: 12px;\n`;\n\nconst Submit = styled.button`\n    background: #FFDE6A;\n    border-radius: 9px;\n    text-align: center;\n    width: 139px;\n    height: 40px;\n    color: black;\n    font-weight: bold;\n    margin: 12px auto 30px;\n    display: block;\n`;\n\nconst SignUpContent = styled.div`\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 20px;\n    text-align: center;\n    color: #FFFFFF;\n    text-shadow: 0px 4px 24px rgba(255, 255, 255, 0.5), 0px 0px 6px #FFFFFF;\n\n    a {\n        color: white;\n        text-decoration: none;\n    }\n`;\n\nconst Forgot = styled.span`\n    color: #FFDE6A;\n`;\n\nconst LoginModal = (props) => {\n    const dispatch = useDispatch()\n\n    const isVisible = true\n    const [ email, setEmail] = useState('')\n    const [ passwordOne, setPasswordOne] = useState('')\n\n    const onSubmit = evt => {\n        evt.preventDefault();\n        props.firebase.doSignInWithEmailAndPassword(email, passwordOne)\n            .then(authUser => {\n                dispatch({ type: 'HYDRATE_FIREBASE_DATA', payload: authUser })\n\n                return props.firebase.user(authUser.user.uid).set({ email }, { merge: true });\n            })\n            .then(() => {\n                props.history.push(ROUTES.ENSEMBLE)\n            })\n    }\n\n    return (\n        <>\n            <Modal\n                isOpen={isVisible}\n                style={customStyles}\n                onRequestClose={()=>window.location.replace('/account')}\n            >\n                <form autocomplete=\"off\"  onSubmit={onSubmit}>\n                    <Wrapper>\n\n                        <Title>Login to access!</Title>\n\n                        <div>\n                            <Label>\n                                <div>* Email</div>\n                                <Input\n                                    value={email}\n                                    type=\"text\"\n                                    required\n                                    placeholder=\"email\"\n                                    name=\"email\"\n                                    onChange={e => setEmail(e.target.value)}\n                                    autoFocus\n                                />\n                            </Label>\n                            <Label>\n                                <div>* Password</div>\n                                <Input\n                                    value={passwordOne}\n                                    placeholder=\"password\"\n                                    required\n                                    id=\"password\"\n                                    type=\"password\"\n                                    onChange={e => setPasswordOne(e.target.value)}\n                                />\n                            </Label>\n                        </div>\n\n                        <Submit type=\"submit\">Sign In</Submit>\n\n                        <SignUpContent>\n                            <Link to={ROUTES.SIGN_UP}>Don't have an account? Create one</Link><br/>\n                            <Link to={ROUTES.RESET_PWD}>\n                                <Forgot>Forgotten Password</Forgot>\n                            </Link>\n                        </SignUpContent>\n                    </Wrapper>\n                </form>\n            </Modal>\n        </>\n    );\n}\n\nexport default compose(withRouter, withFirebase) (LoginModal);\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux'\nimport styled from 'styled-components';\nimport Modal from 'react-modal';\nimport { withRouter, Link } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport ROUTES from 'common/Routes';\nimport { compose } from 'recompose';\n\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead.\n`;\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        width: '100%',\n        maxWidth: '550px',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        background: 'transparent',\n        border: 0,\n        zIndex: 9090\n    },\n};\n\nconst Wrapper = styled.div`\n    color: #fff;\n    background: #000000;\n    border: 3px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 38px;\n    padding: 12px 0 35px;\n\n    &>div {\n        width: 100%;\n        max-width: 350px;\n        margin: 0 auto;\n        padding: 50px 20px 0;\n    }\n`;\n\nconst Title = styled.div`\n    font-weight: bold;\n    font-size: 36px;\n    line-height: 20px;\n    text-align: center;\n    width: 100%;\n`;\n\nconst Label = styled.label`\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 22px;\n    display: block;\n\n    &>div {\n        margin-bottom: 10px;\n    }\n`;\n\nconst Input = styled.input`\n    border: 2px solid #FFFFFF;\n    box-sizing: border-box;\n    border-radius: 9px;\n    background-color: transparent;\n    height: 39px;\n    width: 100%;\n    margin-bottom: 28px;\n    padding-left: 12px;\n`;\n\nconst Submit = styled.button`\n    background: #FFDE6A;\n    border-radius: 9px;\n    text-align: center;\n    width: 139px;\n    height: 40px;\n    color: black;\n    font-weight: bold;\n    margin: 12px auto 30px;\n    display: block;\n`;\n\nconst SignUpContent = styled.div`\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 20px;\n    text-align: center;\n    color: #FFFFFF;\n    text-shadow: 0px 4px 24px rgba(255, 255, 255, 0.5), 0px 0px 6px #FFFFFF;\n\n    a {\n        color: white;\n        text-decoration: none;\n    }\n`;\n\nconst Forgot = styled.span`\n    color: #FFDE6A;\n`;\n\nconst SignUpModal = (props) => {\n    const dispatch = useDispatch()\n\n    const isVisible = true\n    const [ email, setEmail] = useState('')\n    const [ passwordOne, setPasswordOne] = useState('')\n    const [error] = useState('')\n    const [userName, setUserName] = useState('')\n\n    const onSubmit = evt => {\n        evt.preventDefault();\n        props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne)\n        .then(authUser => {\n            dispatch({ type: 'HYDRATE_FIREBASE_DATA', payload: authUser })\n\n            return props.firebase.user(authUser.user.uid).set(\n                {\n                    email:email,\n                    userName:userName,\n                    accountType:'free',\n                    ensembleCount:0,\n                },\n                { merge: true },\n            );\n        })\n        .then(() => {\n            props.history.push(ROUTES.ENSEMBLE);\n        })\n        //need to add error catching return\n        .catch(error => {\n            if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n            error.message = ERROR_MSG_ACCOUNT_EXISTS;\n            }\n\n            //this.setState({ error });\n        });\n    }\n\n    return (\n        <>\n            <Modal\n                isOpen={isVisible}\n                style={customStyles}\n                onRequestClose={()=>window.location.replace('/account')}\n            >\n             <form autocomplete=\"off\"  onSubmit={onSubmit}>\n                <Wrapper>\n\n                    <Title>Sign Up</Title>\n\n                    <div>\n                      <Label>\n                          <div>* User Name</div>\n                          <Input\n                            value={userName}\n                            type=\"text\"\n                            required\n                            onChange={e => setUserName(e.target.value)}\n                            autoFocus\n                          />\n                     </Label>\n                        <Label>\n                            <div>* Email</div>\n                            <Input\n                            value={email}\n                            type=\"text\"\n                            required\n                            placeholder=\"email\"\n                            name=\"email\"\n                            onChange={e => setEmail(e.target.value)}\n                            autoFocus\n                            />\n                        </Label>\n                        <Label>\n                            <div>* Password</div>\n                            <Input\n                                value={passwordOne}\n                                placeholder=\"password\"\n                                required\n                                id=\"password\"\n                                type=\"password\"\n                                onChange={e => setPasswordOne(e.target.value)}\n                              />\n                        </Label>\n                    </div>\n\n                    <Submit type=\"submit\" >Sign Up</Submit>\n\n                    <SignUpContent>\n                        <Link to={ROUTES.SIGN_IN}>Already have an account? Sign In</Link><br/>\n                        <Link to={ROUTES.RESET_PWD}>\n                            <Forgot>Forgotten Password</Forgot>\n                        </Link>\n                    </SignUpContent>\n                </Wrapper>\n              </form>\n            </Modal>\n        </>\n    );\n}\n\nexport default compose(withRouter, withFirebase) (SignUpModal);\n","import { useSelector, useDispatch } from 'react-redux'\nimport { Col } from 'reactstrap';\nimport classnames from \"classnames\";\nimport About from \"./About/About\";\nimport Chords from \"./Chords/Chords\";\nimport Ensemble from \"./Ensemble/Ensemble\";\nimport Tablature from \"./Tablature/Tablature\";\n// import Visualization from \"./Visualization/Visualization\";\nimport React from \"react\";\nimport { Switch, Route, Redirect, useLocation } from \"react-router-dom\";\nimport ROUTES from \"common/Routes\";\nimport {\n  Provider,\n  KeepAlive,\n} from 'react-keep-alive';\nimport Tabs from \"components/Tabs\";\nimport Visualization from \"./Visualization/Visualization\";\n\nimport \"react-tabs/style/react-tabs.css\";\nimport \"./Workspace.scss\";\nimport AccountLanding from './AccountLanding'\nimport LoginModal from 'components/LoginModal'\nimport SignUpModal from 'components/SignUpModal'\n\n\nexport default function Workspace() {\n    const dispatch = useDispatch()\n    const { chordData, scaleData } = useSelector(state => state.root)\n    const setScaleData = (payload) => dispatch({ type: 'SET_SCALE_DATA', payload })\n    const setChordData = (payload) => dispatch({ type: 'SET_CHORD_DATA', payload })\n\n    const location = useLocation();\n\n    const classNames = classnames('workspace', {\n        'is-visible': location.pathname !== '/'\n    })\n\n    return (\n        <Col xs=\"12\" md=\"7\"  className={classNames}>\n            <Tabs className=\"desktop\"/>\n\n            <div className=\"workspace__content\">\n                <Switch>\n                    <Route path={ROUTES.SIGN_IN}>\n                        <LoginModal/>\n                    </Route>\n                    <Route path={ROUTES.SIGN_UP}>\n                        <SignUpModal/>\n                    </Route>\n\n                    <Route path={ROUTES.ENSEMBLE}>\n                        <Ensemble/>\n                    </Route>\n\n                    <Route path={ROUTES.TABLATURE}>\n                        <Tablature/>\n                    </Route>\n\n                    <Route path={ROUTES.CHORDS}>\n                        <Chords\n                            scaleData={scaleData}\n                            setScaleData={setScaleData}\n                            chordData={chordData}\n                            setChordData={setChordData}\n                        />\n                    </Route>\n\n                    <Route path={ROUTES.SCALENET}>\n                        <Provider>\n                        <KeepAlive name=\"Visualization\">\n                            <div className=\"navigation__scalenav visu-wrapper\" id=\"canv_container_visu\" >\n                                <div id=\"vis_checkboxes\" style={{position:\"absolute\"}}>\n                                    Diatonic\n                                    <input type=\"checkbox\" id=\"visu_inp_l_0\" checked></input><br></br>\n                                    Acoustic\n                                    <input type=\"checkbox\" id=\"visu_inp_l_1\" checked></input><br></br>\n                                    Harmonic Major\n                                    <input type=\"checkbox\" id=\"visu_inp_l_2\" checked></input><br></br>\n                                    Harmonic Minor\n                                    <input type=\"checkbox\" id=\"visu_inp_l_3\" checked></input><br></br>\n                                    Hexatonic\n                                    <input type=\"checkbox\" id=\"visu_inp_l_4\" checked></input><br></br>\n                                    Octatonic\n                                    <input type=\"checkbox\" id=\"visu_inp_l_5\" checked></input><br></br>\n                                    Whole Tone\n                                    <input type=\"checkbox\" id=\"visu_inp_l_6\" checked></input><br></br>\n                                </div>\n                            <Visualization />\n                            </div>\n                        </KeepAlive>\n                        </Provider>\n                    </Route>\n\n                    <Route path={ROUTES.ABOUT}>\n                        <About/>\n                    </Route>\n\n                    <Route path={ROUTES.ACCOUNT}>\n                        <AccountLanding/>\n                    </Route>\n\n\n\n\n                    {window.innerWidth > 960 &&\n                        <Route exact path=\"/\">\n                            <Redirect to={ROUTES.ABOUT} />\n                        </Route>\n                    }\n                </Switch>\n            </div>\n        </Col>\n    );\n}\n","import { useSelector, useDispatch } from \"react-redux\";\nimport React, { useCallback, useEffect, useRef } from \"react\";\nimport * as Tone from \"tone\";\nimport ChordChooser from \"./ChordChooser\";\n\nconst midiToHz = (midiNote) => {\n    return 440 * Math.pow(2, (midiNote - 69) / 12);\n};\n\nfunction Chords() {\n    const dispatch = useDispatch();\n    const { chordData, scaleData } = useSelector((state) => state.root);\n\n    const { scale, scaleIndex } = scaleData;\n\n    const _setChordData = useCallback(\n        (payload) => dispatch({ type: \"SET_CHORD_DATA\", payload }),\n        [dispatch]\n    );\n\n    const chordChooserRef = useRef(null);\n    const synthRef = useRef(null);\n\n    if (chordChooserRef.current == null) {\n        chordChooserRef.current = new ChordChooser(\n            chordData,\n            _setChordData,\n            scale\n        );\n    }\n\n    if (synthRef.current == null) {\n        synthRef.current = new Tone.PolySynth({ volume: -20 }).toDestination();\n    }\n\n    useEffect(() => {\n        chordChooserRef.current.setChordDataContext(chordData, _setChordData);\n    }, [chordData, _setChordData]);\n\n    useEffect(() => {\n        chordChooserRef.current.tick(scale);\n    }, [scale, scaleIndex]);\n\n    useEffect(() => {\n        const { playing, chord, previousChord } = chordData;\n\n        const isNewChord =\n            !previousChord ||\n            previousChord.root !== chord.root ||\n            previousChord.chord_type !== chord.chord_type;\n\n        const notes =\n            chord === null ? [] : chord.original_voicing.map(midiToHz);\n\n        if (playing && isNewChord) {\n            synthRef.current.triggerAttack(notes);\n        }\n\n        return () => {\n            synthRef.current.triggerRelease(notes);\n        };\n    }, [chordData]);\n\n    return <></>;\n}\n\nexport default Chords;\n","import { useSelector } from \"react-redux\";\nimport React, { useEffect } from \"react\";\nimport ScaleData from \"common/ScaleData\";\nimport OutputTypes from \"./OutputTypes\";\n\nconst scaleclass_enum = [\"acoustic\", \"diatonic\", \"harmonic_major\", \"harmonic_minor\", \"octatonic\", \"hexatonic\", \"whole_tone\"];\n\n\n/**\n * This function actually sends the midi.\n *\n * It's a separate component so it can be persisteted in the top level of the App\n */\nfunction MidiPersist() {\n    const { midiData, midiOutputs, scaleData } = useSelector(\n        (state) => state.root\n    );\n    const { scale } = scaleData;\n\n    useEffect(() => {\n        const scaleData = ScaleData[scale];\n\n        midiOutputs.forEach((output) => {\n            if (output.outputPortId) {\n                const midiOutputPort =\n                    midiData.midiOutputMap[output.outputPortId];\n                switch (output.type) {\n                    case OutputTypes.current_chord_root.index:\n                        // TODO send chord root MIDI\n                        break;\n                    case OutputTypes.current_scale_pitch_class.index:\n                    default:\n                        // TODO send pitch class MIDI\n                        break;\n                }\n                midiOutputPort.send([146, scaleData.video_index - 1, 127]);\n                midiOutputPort.send([\n                    147,\n                    scaleclass_enum.indexOf(scaleData.scale_class) + output.octave,\n                    127,\n                ]);\n                midiOutputPort.send([148, scaleData.root + output.octave, 127]);\n                midiOutputPort.send([150, 127, 127]);\n                // sleep(20);\n                for (let i = 0; i < scaleData.pitch_classes.length; i++) {\n                    midiOutputPort.send([\n                        149,\n                        scaleData.pitch_classes[i] + output.octave,\n                        127,\n                    ]);\n                }\n                // sleep(20);\n                midiOutputPort.send([150, 0, 127]);\n            }\n        });\n        return () => {\n            midiOutputs.forEach((output) => {\n                if (output.outputPortId) {\n                    const midiOutputPort =\n                        midiData.midiOutputMap[output.outputPortId];\n                    switch (output.type) {\n                        case OutputTypes.current_chord_root.index:\n                            // TODO turn off chord root MIDI\n                            break;\n                        case OutputTypes.current_scale_pitch_class.index:\n                        default:\n                            // TODO turn off pitch class MIDI\n                            break;\n                    }\n                    midiOutputPort.send([146, scaleData.video_index - 1, 0]);\n                    midiOutputPort.send([\n                        147,\n                        scaleclass_enum.indexOf(scaleData.scale_class) + output.octave,\n                        0,\n                    ]);\n                    midiOutputPort.send([\n                        148,\n                        scaleData.root + output.octave,\n                        0,\n                    ]);\n                    for (let i = 0; i < scaleData.pitch_classes.length; i++) {\n                        midiOutputPort.send([\n                            149,\n                            scaleData.pitch_classes[i] + output.octave,\n                            0,\n                        ]);\n                    }\n                    midiOutputPort.send([150, 127, 0]);\n                    midiOutputPort.send([150, 0, 0]);\n                }\n            });\n        };\n    }, [midiOutputs, midiData.midiOutputMap, scale]);\n\n    return <></>;\n}\n\nexport default MidiPersist;\n","import React, { useEffect } from \"react\";\nimport { withFirebase } from './components/Firebase';\nimport { compose } from 'recompose';\nimport { useDispatch } from 'react-redux'\nimport { Container, Row, Col } from 'reactstrap';\nimport Modal from 'react-modal';\nimport { withAuthentication, AuthUserContext } from 'components/Session';\nimport Navigation from \"./components/Navigation/Navigation\";\nimport Workspace from \"./components/Workspace/Workspace\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Chords from \"components/ToneJS/Chord\";\nimport MidiPersist from \"components/Workspace/Chords/MidiPersist\";\nimport { KeepAwake } from '@capacitor-community/keep-awake';\n\nModal.setAppElement('#modal-root');\nModal.defaultStyles.overlay.backgroundColor = 'rgb(0 0 0 / 65%)';\nModal.defaultStyles.overlay.zIndex = 123\n\nconst startScreenKeepAwake = async () => {\n    const result = await KeepAwake.isSupported();\n    if (result.isSupported) {\n        await KeepAwake.keepAwake();\n    }\n};\n\nstartScreenKeepAwake()\n\nconst App = ({ firebase }) => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        const authUser = JSON.parse(localStorage.getItem('authUser'))\n        if (!authUser) return\n        firebase\n            .user(authUser.uid)\n            .get()\n            .then((doc) => {\n                dispatch({ type: 'HYDRATE_FIREBASE_DATA', payload: doc.data() })\n                dispatch({ type: 'SET_AUTH_USER', payload: authUser.userName })\n            })\n    }, [])\n\n    return (\n        <Router>\n            <Container fluid>\n                <Row>\n                    <Chords/>\n                    <MidiPersist/>\n\n                    <Col xs=\"12\" md=\"5\">\n                        <AuthUserContext.Consumer>\n                        {authUser =>\n                            authUser ? (\n                                <Navigation authUser={authUser}/>\n                            ) : (\n                                <Navigation  />\n                            )\n                        }\n                        </AuthUserContext.Consumer>\n                    </Col>\n\n                    <Workspace />\n                </Row>\n            </Container>\n        </Router>\n    );\n}\n\nexport default compose(withAuthentication, withFirebase)(App);\n","const chordData = {\n    playing: false,\n    voiceLeadingSmoothness: 100,\n    chord: null,\n    chordName: null,\n    prevoiusChord: null,\n    allowedRootIntervals: [true, true, true, true, true, true, true],\n}\n\nconst scaleData = {\n    scale: \"c_diatonic\",\n    scaleIndex: 0,\n}\n\nconst midiData = {\n    featureEnabled: false,\n    midiEnabled: false,\n    midiError: false,\n    midiInfo: null,\n    midiOutputMap: {}\n}\n\nconst userData = {}\nconst tabData = []\nconst ensembleHostRoomId = undefined;\nconst isEnsembleMember = false;\n\nconst initialState = {\n    userData,\n    chordData,\n    scaleData,\n    tabData,\n    midiData,\n    midiOutputs: [],\n    ensembleHostRoomId,\n    isEnsembleMember,\n    currentRoomId: null,\n    authUser: null,\n    isMobileMenuVisible: false\n}\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case \"HYDRATE_FIREBASE_DATA\": {\n            return {\n                ...state,\n                userData: action.payload\n            };\n        }\n\n        case \"SET_CHORD_DATA\": {\n            const newChordData = action.payload\n            const previousProps = {};\n\n            if (newChordData.chord) {\n                previousProps.previousChord = state.chordData.chord;\n            }\n\n            return {\n                ...state,\n                chordData: {\n                    ...state.chordData,\n                    ...newChordData,\n                    ...previousProps,\n                }\n            };\n        }\n\n        case \"SET_SCALE_DATA\": {\n            const newScaleData = action.payload\n\n            return {\n                ...state,\n                scaleData: {\n                    scale: newScaleData,\n                    scaleIndex: state.scaleData.scaleIndex + 1\n                }\n            };\n        }\n\n        case \"SET_TAB_DATA\": {\n            return {\n                ...state,\n                tabData: action.payload\n            }\n        }\n\n        case \"SET_ENSEMBLE_HOST_ROOM_ID\": {\n            return {\n                ...state,\n                userData: {\n                    ...userData,\n                    ensembleHostRoomId: action.payload\n                }\n            }\n        }\n\n        case \"SET_IS_ENSEMBLE_MEMBER\": {\n            return {\n                ...state,\n                isEnsembleMember: action.payload\n            }\n        }\n\n        case \"SET_CURRENT_ROOM_ID\": {\n            return {\n                ...state,\n                currentRoomId: action.payload\n            }\n        }\n\n        case \"SET_AUTH_USER\": {\n            return {\n                ...state,\n                authUser: action.payload\n            }\n        }\n\n        case \"SET_IS_MOBILE_MENU_VISIBLE\": {\n            return {\n                ...state,\n                isMobileMenuVisible: action.payload\n            }\n        }\n\n        case \"ADD_MIDI_OUTPUT\": {\n            return {\n                ...state,\n                midiOutputs: [...state.midiOutputs, action.payload]\n            }\n        }\n\n        case \"REMOVE_MIDI_OUTPUT\": {\n            state.midiOutputs.splice(action.payload, 1)\n            return {\n                ...state,\n                midiOutputs: [...state.midiOutputs]\n            }\n        }\n\n        case \"MODIFY_MIDI_OUTPUT\": {\n            const {index, data} = action.payload\n            state.midiOutputs[index] = {\n                ...state.midiOutputs[index],\n                ...data\n            }\n\n            return {\n                ...state,\n                midiOutputs: [...state.midiOutputs]\n            }\n        }\n\n        case \"SET_MIDI_DATA\": {\n            return {\n                ...state,\n                midiData: {\n                    ...state.midiData,\n                    ...action.payload\n                }\n            }\n        }\n\n        default:\n            return state;\n    }\n};\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\nimport rootReducer from \"./reducers/main\";\n\nconst reducers = combineReducers({\n    root: rootReducer,\n});\n\nconst store = createStore(\n    reducers,\n)\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport Firebase, { FirebaseContext } from './components/Firebase';\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./index.css\";\nimport \"./App.scss\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <FirebaseContext.Provider value={new Firebase()}>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </FirebaseContext.Provider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}