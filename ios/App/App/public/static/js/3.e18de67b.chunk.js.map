{"version":3,"sources":["../../../src/web.ts"],"names":["KeepAwakeWeb","wakeLock","_isSupported","navigator","a","this","throwUnsupportedError","allowSleep","request","release","result","isSupported","unavailable"],"mappings":"2PAIaA,EAAb,iG,2BACUC,SAAoC,KAC3B,EAAAC,aAAe,aAAcC,UAFhD,sFAIS,sBAAAC,EAAA,yDACAC,KAAKH,cACRG,KAAKC,yBAEHD,KAAKJ,SAJJ,gCAKGI,KAAKE,aALR,uBAOiBJ,UAAUF,SAASO,QAAQ,UAP5C,OAOLH,KAAKJ,SAPA,uDAJT,qHAcS,4BAAAG,EAAA,sDACAC,KAAKH,cACRG,KAAKC,wBAEM,QAAb,EAAAD,KAAKJ,gBAAQ,SAAEQ,UACfJ,KAAKJ,SAAW,KALX,gDAdT,sHAsBS,4BAAAG,EAAA,6DACCM,EAAS,CACbC,YAAaN,KAAKH,cAFf,kBAIEQ,GAJF,gDAtBT,yFA6BU,WACN,MAAML,KAAKO,YACT,2DA/BN,G,MAAkC","file":"static/js/3.e18de67b.chunk.js","sourcesContent":["import { WebPlugin } from '@capacitor/core';\r\n\r\nimport type { IsSupportedResult, KeepAwakePlugin } from './definitions';\r\n\r\nexport class KeepAwakeWeb extends WebPlugin implements KeepAwakePlugin {\r\n  private wakeLock: WakeLockSentinel | null = null;\r\n  private readonly _isSupported = 'wakeLock' in navigator;\r\n\r\n  public async keepAwake(): Promise<void> {\r\n    if (!this._isSupported) {\r\n      this.throwUnsupportedError();\r\n    }\r\n    if (this.wakeLock) {\r\n      await this.allowSleep();\r\n    }\r\n    this.wakeLock = await navigator.wakeLock.request('screen');\r\n  }\r\n\r\n  public async allowSleep(): Promise<void> {\r\n    if (!this._isSupported) {\r\n      this.throwUnsupportedError();\r\n    }\r\n    this.wakeLock?.release();\r\n    this.wakeLock = null;\r\n  }\r\n\r\n  public async isSupported(): Promise<IsSupportedResult> {\r\n    const result = {\r\n      isSupported: this._isSupported,\r\n    };\r\n    return result;\r\n  }\r\n\r\n  private throwUnsupportedError(): never {\r\n    throw this.unavailable(\r\n      'Screen Wake Lock API not available in this browser.',\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}